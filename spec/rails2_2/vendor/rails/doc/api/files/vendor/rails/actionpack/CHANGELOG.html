<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>File: CHANGELOG</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../../../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



  <div id="fileHeader">
    <h1>CHANGELOG</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>vendor/rails/actionpack/CHANGELOG
      </td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Fri Nov 21 18:49:26 +0100 2008</td>
    </tr>
    </table>
  </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
*2.2 (November 21st, 2008)*
</p>
<ul>
<li>Deprecated the :file default for ActionView#render to prepare for
2.3&#8216;s new :partial default [DHH]

</li>
<li>Restore backwards compatible functionality for setting relative_url_root.
Include deprecation

</li>
<li>Switched the CSRF module to use the request content type to decide if the
request is forgeable. 1145 [Jeff Cohen]

</li>
<li>Added :only and :except to map.resources to let people cut down on the
number of redundant routes in an application. Typically only useful for
huge routesets. 1215 [Tom Stuart]

<pre>
 map.resources :products, :only =&gt; :show do |product|
   product.resources :images, :except =&gt; :destroy
 end
</pre>
</li>
<li>Added render :js for people who want to render inline JavaScript replies
without using RJS [DHH]

</li>
<li>Fixed that polymorphic_url should compact given array 1317 [hiroshi]

</li>
<li>Fixed the sanitize helper to avoid double escaping already properly escaped
entities 683 [antonmos/Ryan McGeary]

</li>
<li>Fixed that FormTagHelper generated illegal html if name contained square
brackets 1238 [Vladimir Dobriakov]

</li>
<li>Fix regression bug that made date_select and datetime_select raise a Null
Pointer Exception when a nil date/datetime was passed and only month and
year were displayed 1289 [Bernardo Padua/Tor Erik]

</li>
<li>Simplified the logging format for parameters (don&#8216;t include
controller, action, and format as duplicates) [DHH]

</li>
<li>Remove the logging of the Session ID when the session store is CookieStore
[DHH]

</li>
<li>Fixed regex in redirect_to to fully support URI schemes 1247 [Seth
Fitzsimmons]

</li>
<li>Fixed bug with asset timestamping when using relative_url_root 1265 [Joe
Goldwasser]

</li>
<li>Fix incorrect closing CDATA delimiter and that HTML::Node.parse would blow
up on unclosed CDATA sections [packagethief]

</li>
<li>Added stale? and fresh_when methods to provide a layer of abstraction above
request.fresh? and friends [DHH]. Example:

<pre>
  class ArticlesController &lt; ApplicationController
    def show_with_respond_to_block
      @article = Article.find(params[:id])

      # If the request sends headers that differs from the options provided to stale?, then
      # the request is indeed stale and the respond_to block is triggered (and the options
      # to the stale? call is set on the response).
      #
      # If the request headers match, then the request is fresh and the respond_to block is
      # not triggered. Instead the default render will occur, which will check the last-modified
      # and etag headers and conclude that it only needs to send a &quot;304 Not Modified&quot; instead
      # of rendering the template.
      if stale?(:last_modified =&gt; @article.published_at.utc, :etag =&gt; @article)
        respond_to do |wants|
          # normal response processing
        end
      end
    end

    def show_with_implied_render
      @article = Article.find(params[:id])

      # Sets the response headers and checks them against the request, if the request is stale
      # (i.e. no match of either etag or last-modified), then the default render of the template happens.
      # If the request is fresh, then the default render will return a &quot;304 Not Modified&quot;
      # instead of rendering the template.
      fresh_when(:last_modified =&gt; @article.published_at.utc, :etag =&gt; @article)
    end
  end
</pre>
</li>
<li>Added inline builder yield to atom_feed_helper tags where appropriate [Sam
Ruby]. Example:

<pre>
  entry.summary :type =&gt; 'xhtml' do |xhtml|
    xhtml.p pluralize(order.line_items.count, &quot;line item&quot;)
    xhtml.p &quot;Shipped to #{order.address}&quot;
    xhtml.p &quot;Paid by #{order.pay_type}&quot;
  end
</pre>
</li>
<li>Make PrototypeHelper#submit_to_remote a wrapper around
PrototypeHelper#button_to_remote. [Tarmo Tänav]

</li>
<li>Set HttpOnly for the cookie session store&#8216;s cookie. 1046

</li>
<li>Added FormTagHelper#image_submit_tag confirm option 784 [Alastair Brunton]

</li>
<li>Fixed FormTagHelper#submit_tag with :disable_with option wouldn&#8216;t
submit the button&#8216;s value when was clicked 633 [Jose Fernandez]

</li>
<li>Stopped logging template compiles as it only clogs up the log [DHH]

</li>
<li>Changed the X-Runtime header to report in milliseconds [DHH]

</li>
<li>Changed BenchmarkHelper#benchmark to report in milliseconds [DHH]

</li>
<li>Changed logging format to be millisecond based and skip misleading stats
[DHH]. Went from:

<pre>
  Completed in 0.10000 (4 reqs/sec) | Rendering: 0.04000 (40%) | DB: 0.00400 (4%) | 200 OK [http://example.com]
</pre>
<p>
&#8230;to:
</p>
<pre>
  Completed in 100ms (View: 40, DB: 4) | 200 OK [http://example.com]
</pre>
</li>
<li>Add support for shallow nesting of routes. 838 [S. Brent Faulkner]

<p>
Example :
</p>
<p>
map.resources :users, :shallow =&gt; true do |user|
</p>
<pre>
  user.resources :posts
</pre>
<p>
end
</p>
<ul>
<li>GET /users/1/posts (maps to PostsController#index action as usual) named
route &quot;user_posts&quot; is added as usual.

</li>
<li>GET /posts/2 (maps to PostsController#show action as if it were not nested)
Additionally, named route &quot;post&quot; is added too.

</li>
</ul>
</li>
<li>Added button_to_remote helper. 3641 [Donald Piret, Tarmo Tänav]

</li>
<li>Deprecate render_component. Please use render_component plugin from <a
href="http://github.com/rails/render_component/tree/master">github.com/rails/render_component/tree/master</a>
[Pratik]

</li>
<li>Routes may be restricted to lists of HTTP methods instead of a single
method or :any. 407 [Brennan Dunn, Gaius Centus Novus]

<pre>
  map.resource :posts, :collection =&gt; { :search =&gt; [:get, :post] }
  map.session 'session', :requirements =&gt; { :method =&gt; [:get, :post, :delete] }
</pre>
</li>
<li>Deprecated implicit local assignments when rendering partials [Josh Peek]

</li>
<li>Introduce current_cycle helper method to return the current value without
bumping the cycle. 417 [Ken Collins]

</li>
<li>Allow polymorphic_url helper to take url options. 880 [Tarmo Tänav]

</li>
<li>Switched integration test runner to use Rack processor instead of CGI [Josh
Peek]

</li>
<li>Made AbstractRequest.if_modified_sense return nil if the header could not
be parsed [Jamis Buck]

</li>
<li>Added back ActionController::Base.allow_concurrency flag [Josh Peek]

</li>
<li>AbstractRequest.relative_url_root is no longer automatically configured by
a HTTP header. It can now be set in your configuration environment with
config.action_controller.relative_url_root [Josh Peek]

</li>
<li>Update Prototype to 1.6.0.2 599 [Patrick Joyce]

</li>
<li>Conditional GET utility methods. [Jeremy Kemper]

<pre>
  response.last_modified = @post.updated_at
  response.etag = [:admin, @post, current_user]

  if request.fresh?(response)
    head :not_modified
  else
    # render ...
  end
</pre>
</li>
<li>All 2xx requests are considered successful [Josh Peek]

</li>
<li>Fixed that AssetTagHelper#compute_public_path shouldn&#8216;t cache the
asset_host along with the source or per-request proc&#8216;s won&#8216;t
run [DHH]

</li>
<li>Removed config.action_view.cache_template_loading, use config.cache_classes
instead [Josh Peek]

</li>
<li>Get buffer for fragment cache from template&#8216;s @output_buffer [Josh
Peek]

</li>
<li>Set config.action_view.warn_cache_misses = true to receive a warning if you
perform an action that results in an expensive disk operation that could be
cached [Josh Peek]

</li>
<li>Refactor template preloading. New abstractions include Renderable mixins
and a refactored Template class [Josh Peek]

</li>
<li>Changed ActionView::TemplateHandler#render API method signature to
render(template, local_assigns = {}) [Josh Peek]

</li>
<li>Changed PrototypeHelper#submit_to_remote to
PrototypeHelper#button_to_remote to stay consistent with link_to_remote
(submit_to_remote still works as an alias) 8994 [clemens]

</li>
<li>Add :recursive option to javascript_include_tag and stylesheet_link_tag to
be used along with :all. 480 [Damian Janowski]

</li>
<li>Allow users to disable the use of the Accept header [Michael Koziarski]

<pre>
  The accept header is poorly implemented by browsers and causes strange
      errors when used on public sites where crawlers make requests too.  You
      can use formatted urls (e.g. /people/1.xml) to support API clients in a
      much simpler way.

      To disable the header you need to set:

      config.action_controller.use_accept_header = false
</pre>
</li>
<li>Do not stat template files in production mode before rendering. You will no
longer be able to modify templates in production mode without restarting
the server [Josh Peek]

</li>
<li>Deprecated TemplateHandler line offset [Josh Peek]

</li>
<li>Allow caches_action to accept cache store options. 416. [José Valim].
Example:

<p>
caches_action :index, :redirected, :if =&gt; Proc.new { |c|
!c.request.format.json? }, :expires_in =&gt; 1.hour
</p>
</li>
<li>Remove define_javascript_functions, javascript_include_tag and friends are
far superior. [Michael Koziarski]

</li>
<li>Deprecate :use_full_path render option. The supplying the option no longer
has an effect [Josh Peek]

</li>
<li>Add :as option to render a collection of partials with a custom local
variable name. 509 [Simon Jefford, Pratik Naik]

<p>
render :partial =&gt; &#8216;other_people&#8217;, :collection =&gt;
@people, :as =&gt; :person
</p>
<p>
This will let you access objects of @people as &#8216;person&#8217; local
variable inside &#8216;other_people&#8217; partial template.
</p>
</li>
<li>time_zone_select: support for regexp matching of priority zones. Resolves
195 [Ernie Miller]

</li>
<li>Made ActionView::Base#render_file private [Josh Peek]

</li>
<li>Refactor and simplify the implementation of assert_redirected_to. Arguments
are now normalised relative to the controller being tested, not the root of
the application. [Michael Koziarski]

<p>
This could cause some erroneous test failures if you were redirecting
between controllers in different namespaces and wrote your assertions
relative to the root of the application.
</p>
</li>
<li>Remove follow_redirect from controller functional tests.

<pre>
      If you want to follow redirects you can use integration tests.  The functional test
      version was only useful if you were using redirect_to :id=&gt;...
</pre>
</li>
<li>Fix polymorphic_url with singleton resources. 461 [Tammer Saleh]

</li>
<li>Replaced TemplateFinder abstraction with ViewLoadPaths [Josh Peek]

</li>
<li>Added block-call style to link_to [Sam Stephenson/DHH]. Example:

<pre>
  &lt;% link_to(@profile) do %&gt;
    &lt;strong&gt;&lt;%= @profile.name %&gt;&lt;/strong&gt; -- &lt;span&gt;Check it out!!&lt;/span&gt;
  &lt;% end %&gt;
</pre>
</li>
<li>Performance: integration test benchmarking and profiling. [Jeremy Kemper]

</li>
<li>Make caching more aware of mime types. Ensure request format is not
considered while expiring cache. [Jonathan del Strother]

</li>
<li>Drop ActionController::Base.allow_concurrency flag [Josh Peek]

</li>
<li>More efficient concat and capture helpers. Remove
ActionView::Base.erb_variable. [Jeremy Kemper]

</li>
<li>Added page.reload functionality. Resolves 277. [Sean Huber]

</li>
<li>Fixed Request#remote_ip to only raise hell if the HTTP_CLIENT_IP and
HTTP_X_FORWARDED_FOR doesn&#8216;t match (not just if they&#8216;re both
present) [Mark Imbriaco, Bradford Folkens]

</li>
<li>Allow caches_action to accept a layout option [José Valim]

</li>
<li>Added Rack processor [Ezra Zygmuntowicz, Josh Peek]

</li>
</ul>
<p>
*2.1.0 (May 31st, 2008)*
</p>
<ul>
<li>InstanceTag#default_time_from_options overflows to <a
href="../../../../classes/DateTime.html">DateTime</a> [Geoff Buesing]

</li>
<li>Fixed that forgery protection can be used without session tracking (Peter
Jones) [139]

</li>
<li>Added session(:on) to turn session management back on in a controller
subclass if the superclass turned it off (Peter Jones) [136]

</li>
<li>Change the request forgery protection to go by Content-Type instead of
request.format so that you can&#8216;t bypass it by POSTing to
&quot;#{request.uri}.xml&quot; [rick]

</li>
<li>InstanceTag#default_time_from_options with hash args uses Time.current as
default; respects hash settings when time falls in system local spring DST
gap [Geoff Buesing]

</li>
<li>select_date defaults to Time.zone.today when config.time_zone is set [Geoff
Buesing]

</li>
<li>Fixed that TextHelper#text_field would corrypt when raw HTML was used as
the value (mchenryc, Kevin Glowacz) [80]

</li>
<li>Added ActionController::TestCase#rescue_action_in_public! to control
whether the action under test should use the regular rescue_action path
instead of simply raising the exception inline (great for error testing)
[DHH]

</li>
<li>Reduce number of instance variables being copied from controller to view.
[Pratik]

</li>
<li>select_datetime and select_time default to Time.zone.now when
config.time_zone is set [Geoff Buesing]

</li>
<li>datetime_select defaults to Time.zone.now when config.time_zone is set
[Geoff Buesing]

</li>
<li>Remove ActionController::Base#view_controller_internals flag. [Pratik]

</li>
<li>Add conditional options to caches_page method. [Paul Horsfall]

</li>
<li>Move missing template logic to ActionView. [Pratik]

</li>
<li>Introduce ActionView::InlineTemplate class. [Pratik]

</li>
<li>Automatically parse posted JSON content for Mime::JSON requests. [rick]

<p>
POST /posts {&quot;post&quot;: {&quot;title&quot;: &quot;Breaking
News&quot;}}
</p>
<p>
def create
</p>
<pre>
  @post = Post.create params[:post]
  # ...
</pre>
<p>
end
</p>
</li>
<li>add json_escape <a href="../../../../classes/ERB.html">ERB</a> util to
escape html entities in json strings that are output in HTML pages. [rick]

</li>
<li>Provide a helper proxy to access helper methods from outside views. Closes
10839 [Josh Peek] e.g. ApplicationController.helpers.simple_format(text)

</li>
<li>Improve documentation. [Xavier Noria, leethal, jerome]

</li>
<li>Ensure RJS redirect_to doesn&#8216;t html-escapes string argument. Closes
8546 [josh, eventualbuddha, Pratik]

</li>
<li>Support render :partial =&gt; collection of heterogeneous elements. 11491
[Zach Dennis]

</li>
<li>Avoid remote_ip spoofing. [Brian Candler]

</li>
<li>Added support for regexp flags like ignoring case in the :requirements part
of routes declarations 11421 [NeilW]

</li>
<li>Fixed that ActionController::Base#read_multipart would fail if boundary was
exactly 10240 bytes 10886 [ariejan]

</li>
<li>Fixed HTML::Tokenizer (used in sanitize helper) didn&#8216;t handle
unclosed CDATA tags 10071 [esad, packagethief]

</li>
<li>Improve documentation. [Radar, Jan De Poorter, chuyeow, xaviershay, danger,
miloops, Xavier Noria, Sunny Ripert]

</li>
<li>Fixed that FormHelper#radio_button would produce invalid ids 11298
[harlancrystal]

</li>
<li>Added :confirm option to submit_tag 11415 [miloops]

</li>
<li>Fixed NumberHelper#number_with_precision to properly round in a way that
works equally on Mac, Windows, Linux (closes 11409, 8275, 10090, 8027)
[zhangyuanyi]

</li>
<li>Allow the simple_format text_helper to take an html_options hash for each
paragraph. 2448 [Francois Beausoleil, thechrisoshow]

</li>
<li>Fix regression from filter refactoring where re-adding a skipped filter
resulted in it being called twice. [rick]

</li>
<li>Refactor filters to use Active Support callbacks. 11235 [Josh Peek]

</li>
<li>Fixed that polymorphic routes would modify the input array 11363
[thomas.lee]

</li>
<li>Added :format option to NumberHelper#number_to_currency to enable better
localization support 11149 [lylo]

</li>
<li>Fixed that TextHelper#excerpt would include one character too many 11268
[Irfy]

</li>
<li>Fix more obscure nested parameter hash parsing bug. 10797 [thomas.lee]

</li>
<li>Added ActionView::Helpers::register_javascript/stylesheet_expansion to make
it easier for plugin developers to inject multiple assets. 10350
[lotswholetime]

</li>
<li>Fix nested parameter hash parsing bug. 10797 [thomas.lee]

</li>
<li>Allow using named routes in <a
href="../../../../classes/ActionController/TestCase.html">ActionController::TestCase</a>
before any request has been made. Closes 11273 [alloy]

</li>
<li>Fixed that sweepers defined by cache_sweeper will be added regardless of
the perform_caching setting. Instead, control whether the sweeper should be
run with the perform_caching setting. This makes testing easier when you
want to turn perform_caching on/off [DHH]

</li>
<li>Make MimeResponds::Responder#any work without explicit types. Closes 11140
[jaw6]

</li>
<li>Better error message for type conflicts when parsing params. Closes 7962
[spicycode, matt]

</li>
<li>Remove unused ActionController::Base.template_class. Closes 10787 [Pratik]

</li>
<li>Moved template handlers related code from <a
href="../../../../classes/ActionView/Base.html">ActionView::Base</a> to <a
href="../../../../classes/ActionView/Template.html">ActionView::Template</a>.
[Pratik]

</li>
<li>Tests for div_for and content_tag_for helpers. Closes 11223 [thechrisoshow]

</li>
<li>Allow file uploads in Integration Tests. Closes 11091 [RubyRedRick]

</li>
<li>Refactor partial rendering into a PartialTemplate class. [Pratik]

</li>
<li>Added that requests with JavaScript as the priority mime type in the accept
header and no format extension in the parameters will be treated as though
their format was :js when it comes to determining which template to render.
This makes it possible for JS requests to automatically render
action.js.rjs files without an explicit respond_to block [DHH]

</li>
<li>Tests for distance_of_time_in_words with TimeWithZone instances. Closes
10914 [ernesto.jimenez]

</li>
<li>Remove support for multivalued (e.g., &#8217;&amp;&#8217;-delimited)
cookies. [Jamis Buck]

</li>
<li>Fix problem with render :partial collections, records, and locals. 11057
[lotswholetime]

</li>
<li>Added support for naming concrete classes in sweeper declarations [DHH]

</li>
<li>Remove <a href="../../../../classes/ERB.html">ERB</a> trim variables from
trace template in case ActionView::Base.erb_trim_mode is changed in the
application. 10098 [tpope, kampers]

</li>
<li>Fix typo in form_helper documentation. 10650 [xaviershay, kampers]

</li>
<li>Fix bug with setting Request#format= after the getter has cached the value.
10889 [cch1]

</li>
<li>Correct inconsistencies in RequestForgeryProtection docs. 11032 [mislav]

</li>
<li>Introduce a Template class to ActionView. 11024 [lifofifo]

</li>
<li>Introduce the :index option for form_for and fields_for to simplify
multi-model forms (see <a
href="http://railscasts.com/episodes/75">railscasts.com/episodes/75</a>).
9883 [rmm5t]

</li>
<li>Introduce map.resources :cards, :as =&gt; &#8216;tarjetas&#8217; to use a
custom resource name in the URL: cards_path == &#8217;/tarjetas&#8217;.
10578 [blj]

</li>
<li>TestSession supports indifferent access. 7372 [tamc, Arsen7, mhackett,
julik, jean.helou]

</li>
<li>Make assert_routing aware of the HTTP method used. 8039 [mpalmer] e.g.
assert_routing({ :method =&gt; &#8216;put&#8217;, :path =&gt;
&#8217;/product/321&#8217; }, { :controller =&gt; &quot;product&quot;,
:action =&gt; &quot;update&quot;, :id =&gt; &quot;321&quot; })

</li>
<li>Make map.root accept a single symbol as an argument to declare an alias.
10818 [bscofield]

<p>
e.g. map.dashboard &#8217;/dashboard&#8217;,
:controller=&gt;&#8217;dashboard&#8216;
</p>
<pre>
      map.root      :dashboard
</pre>
</li>
<li>Handle corner case with image_tag when passed &#8216;messed up&#8217; image
names. 9018 [duncanbeevers, mpalmer]

</li>
<li>Add label_tag helper for generating elements. 10802 [DefV]

</li>
<li>Introduce TemplateFinder to handle view paths and lookups. 10800 [Pratik
Naik]

</li>
<li>Performance: optimize route recognition. Large speedup for apps with many
resource routes. 10835 [oleganza]

</li>
<li>Make render :partial recognise form builders and use the _form partial.
10814 [djanowski]

</li>
<li>Allow users to declare other namespaces when using the atom feed helpers.
10304 [david.calavera]

</li>
<li>Introduce send_file :x_sendfile =&gt; true to send an X-Sendfile response
header. [Jeremy Kemper]

</li>
<li>Fixed ActionView::Helpers::ActiveRecordHelper::form for when
protect_from_forgery is used 10739 [jeremyevans]

</li>
<li>Provide nicer access to HTTP Headers. Instead of
request.env[&quot;HTTP_REFERRER&quot;] you can now use
request.headers[&quot;Referrer&quot;]. [Koz]

</li>
<li>UrlWriter respects relative_url_root. 10748 [Cheah Chu Yeow]

</li>
<li>The asset_host block takes the controller request as an optional second
argument. Example: use a single asset host for SSL requests. 10549 [Cheah
Chu Yeow, Peter B, Tom Taylor]

</li>
<li>Support render :text =&gt; nil. 6684 [tjennings, PotatoSalad, Cheah Chu
Yeow]

</li>
<li>assert_response failures include the exception message. 10688 [Seth
Rasmussen]

</li>
<li>All fragment cache keys are now by default prefixed with the
&quot;views/&quot; namespace [DHH]

</li>
<li>Moved the caching stores from <a
href="../../../../classes/ActionController/Caching/Fragments.html">ActionController::Caching::Fragments</a>::*
to <a
href="../../../../classes/ActiveSupport/Cache.html">ActiveSupport::Cache</a>::*.
If you&#8216;re explicitly referring to a store, like
ActionController::Caching::Fragments::MemoryStore, you need to update that
reference with <a
href="../../../../classes/ActiveSupport/Cache/MemoryStore.html">ActiveSupport::Cache::MemoryStore</a>
[DHH]

</li>
<li>Deprecated ActionController::Base.fragment_cache_store for
ActionController::Base.cache_store [DHH]

</li>
<li>Made fragment caching in views work for rjs and builder as well 6642
[zsombor]

</li>
<li>Fixed rendering of partials with layout when done from site layout 9209
[antramm]

</li>
<li>Fix atom_feed_helper to comply with the atom spec. Closes 10672
[xaviershay]

<ul>
<li>The tags created do not contain a date (<a
href="http://feedvalidator.org/docs/error/InvalidTAG.html">feedvalidator.org/docs/error/InvalidTAG.html</a>)

</li>
<li>IDs are not guaranteed unique

</li>
<li>A default self link was not provided, contrary to the documentation

</li>
<li>NOTE: This changes tags for existing atom entries, but at least they
validate now.

</li>
</ul>
</li>
<li>Correct indentation in tests. Closes 10671 [l.guidi]

</li>
<li>Fix that auto_link looks for =&#8217;s in url paths (Amazon urls have
them). Closes 10640 [bgreenlee]

</li>
<li>Ensure that test case setup is run even if overridden. 10382 [Josh Peek]

</li>
<li>Fix HTML Sanitizer to allow trailing spaces in CSS style attributes. Closes
10566 [wesley.moxam]

</li>
<li>Add :default option to time_zone_select. 10590 [Matt Aimonetti]

</li>
</ul>
<p>
*2.0.2* (December 16th, 2007)
</p>
<ul>
<li>Added delete_via_redirect and put_via_redirect to integration testing 10497
[philodespotos]

</li>
<li>Allow headers[&#8216;Accept&#8217;] to be set by hand when calling
xml_http_request 10461 [BMorearty]

</li>
<li>Added OPTIONS to list of default accepted HTTP methods 10449 [holoway]

</li>
<li>Added option to pass proc to ActionController::Base.asset_host for maximum
configurability 10521 [chuyeow]. Example:

<pre>
  ActionController::Base.asset_host = Proc.new { |source|
    if source.starts_with?('/images')
      &quot;http://images.example.com&quot;
    else
      &quot;http://assets.example.com&quot;
    end
  }
</pre>
</li>
<li>Fixed that ActionView#file_exists? would be incorrect if @first_render is
set 10569 [dbussink]

</li>
<li>Added that Array#to_param calls to_param on all it&#8216;s elements 10473
[brandon]

</li>
<li>Ensure asset cache directories are automatically created. 10337 [Josh Peek,
Cheah Chu Yeow]

</li>
<li>render :xml and :json preserve custom content types. 10388 [jmettraux,
Cheah Chu Yeow]

</li>
<li>Refactor Action View template handlers. 10437, 10455 [Josh Peek]

</li>
<li>Fix DoubleRenderError message and leave out mention of returning false from
filters. Closes 10380 [Frederick Cheung]

</li>
<li>Clean up some cruft around ActionController::Base#head. Closes 10417
[ssoroka]

</li>
</ul>
<p>
*2.0.1* (December 7th, 2007)
</p>
<ul>
<li>Fixed send_file/binary_content for testing 8044 [tolsen]

</li>
<li>When a NonInferrableControllerError is raised, make the proposed fix
clearer in the error message. Closes 10199 [danger]

</li>
<li>Update Prototype to 1.6.0.1. [sam]

</li>
<li>Update script.aculo.us to 1.8.0.1. [madrobby]

</li>
<li>Add &#8216;disabled&#8217; attribute to &lt;OPTION&gt; separators used in
time zone and country selects. Closes 10354 [hasmanyjosh]

</li>
<li>Added the same record identification guessing rules to fields_for as
form_for has [DHH]

</li>
<li>Fixed that verification violations with no specified action didn&#8216;t
halt the chain (now they do with a 400 Bad Request) [DHH]

</li>
<li>Raise UnknownHttpMethod exception for unknown HTTP methods. Closes 10303
[Tarmo Tänav]

</li>
<li>Update to Prototype -r8232. [sam]

</li>
<li>Make sure the optimisation code for routes doesn&#8216;t get used if :host,
:anchor or :port are provided in the hash arguments. [pager, Koz] 10292

</li>
<li>Added protection from trailing slashes on page caching 10229 [devrieda]

</li>
<li>Asset timestamps are appended, not prepended. Closes 10276 [mnaberez]

</li>
<li>Minor inconsistency in description of render example. Closes 10029
[ScottSchram]

</li>
<li>Add prepend_view_path and append_view_path instance methods on <a
href="../../../../classes/ActionController/Base.html">ActionController::Base</a>
for consistency with the class methods. [rick]

</li>
<li>Refactor sanitizer helpers into HTML classes and make it easy to swap them
out with custom implementations. Closes 10129. [rick]

</li>
<li>Add deprecation for old subtemplate syntax for ActionMailer templates, use
render :partial [rick]

</li>
<li>Fix TemplateError so it doesn&#8216;t bomb on exceptions while running
tests [rick]

</li>
<li>Fixed that named routes living under resources shouldn&#8216;t have double
slashes 10198 [isaacfeliu]

</li>
<li>Make sure that cookie sessions use a secret that is at least 30 chars in
length. [Koz]

</li>
<li>Fixed that partial rendering should look at the type of the first render to
determine its own type if no other clues are available (like when using
text.plain.erb as the extension in AM) 10130 [java]

</li>
<li>Fixed that has_many :through associations should render as collections too
9051 [mathie/danger]

</li>
<li>Added :mouseover short-cut to AssetTagHelper#image_tag for doing easy image
swaps 6893 [joost]

</li>
<li>Fixed handling of non-domain hosts 9479 [purp]

</li>
<li>Fix syntax error in documentation example for cycle method. Closes 8735
[foca]

</li>
<li>Document :with option for link_to_remote. Closes 8765 [ryanb]

</li>
<li>Document :minute_step option for time_select. Closes 8814 [brupm]

</li>
<li>Explain how to use the :href option for link_to_remote to degrade
gracefully in the absence of JavaScript. Closes 8911 [vlad]

</li>
<li>Disambiguate :size option for text area tag. Closes 8955 [redbeard]

</li>
<li>Fix broken tag in assert_tag documentation. Closes 9037 [mfazekas]

</li>
<li>Add documentation for route conditions. Closes 9041 [innu, manfred]

</li>
<li>Fix typo left over from previous typo fix in url helper. Closes 9414
[Henrik N]

</li>
<li>Fixed that ActionController::CgiRequest#host_with_port() should handle
standard port 10082 [moro]

</li>
<li>Update Prototype to 1.6.0 and script.aculo.us to 1.8.0. [sam, madrobby]

</li>
<li>Expose the cookie jar as a helper method (before the view would just get
the raw cookie hash) [DHH]

</li>
<li>Integration tests: get_ and post_via_redirect take a headers hash. 9130
[simonjefford]

</li>
<li>Simplfy view_paths implementation. ActionView templates get the exact
object, not a dup. [Rick]

</li>
<li>Update tests for ActiveSupport&#8216;s JSON escaping change. [rick]

</li>
<li>FormHelper&#8216;s auto_index should use to_param instead of
id_before_type_cast. Closes 9994 [mattly]

</li>
<li>Doc typo fixes for ActiveRecordHelper. Closes 9973 [mikong]

</li>
<li>Make example parameters in restful routing docs idiomatic. Closes 9993
[danger]

</li>
<li>Make documentation comment for mime responders match documentation example.
Closes 9357 [yon]

</li>
<li>Introduce a new test case class for functional tests. <a
href="../../../../classes/ActionController/TestCase.html">ActionController::TestCase</a>.
[Koz]

</li>
<li>Fix incorrect path in helper rdoc. Closes 9926 [viktor tron]

</li>
<li>Partials also set &#8216;object&#8217; to the default partial variable.
8823 [Nick Retallack, Jeremy Kemper]

</li>
<li>Request profiler. [Jeremy Kemper]

<pre>
  $ cat login_session.rb
  get_with_redirect '/'
  say &quot;GET / =&gt; #{path}&quot;
  post_with_redirect '/sessions', :username =&gt; 'john', :password =&gt; 'doe'
  say &quot;POST /sessions =&gt; #{path}&quot;
  $ ./script/performance/request -n 10 login_session.rb
</pre>
</li>
<li>Disabled checkboxes don&#8216;t submit a form value. 9301 [vladr,
robinjfisher]

</li>
<li>Added tests for options to ActiveRecordHelper#form. Closes 7213
[richcollins, mikong, mislav]

</li>
<li>Changed before_filter halting to happen automatically on render or redirect
but no longer on simply returning false [DHH]

</li>
<li>Ensure that cookies handle array values correctly. Closes 9937 [queso]

</li>
<li>Make sure resource routes don&#8216;t clash with internal helpers like
javascript_path, image_path etc. 9928 [gbuesing]

</li>
<li>caches_page uses a single after_filter instead of one per action. 9891
[Pratik Naik]

</li>
<li>Update Prototype to 1.6.0_rc1 and script.aculo.us to 1.8.0 preview 0. [sam,
madrobby]

</li>
<li>Dispatcher: fix that to_prepare should only run once in production. 9889
[Nathaniel Talbott]

</li>
<li>Memcached sessions: add session data on initialization; don&#8216;t
silently discard exceptions; add unit tests. 9823 [kamk]

</li>
<li>error_messages_for also takes :message and :header_message options which
defaults to the old &quot;There were problems with the following
fields:&quot; and &quot;&lt;count&gt; errors prohibited this
&lt;object_name&gt; from being saved&quot;. 8270 [rmm5t, zach-inglis-lt3]

</li>
<li>Make sure that custom inflections are picked up by map.resources. 9815
[mislav]

</li>
<li>Changed SanitizeHelper#sanitize to only allow the custom attributes and
tags when specified in the call [DHH]

</li>
<li>Extracted sanitization methods from TextHelper to SanitizeHelper [DHH]

</li>
<li>rescue_from accepts :with =&gt; lambda { |exception| &#8230; } or a normal
block. 9827 [Pratik Naik]

</li>
<li>Add :status to redirect_to allowing users to choose their own response code
without manually setting headers. 8297 [codahale, chasgrundy]

</li>
<li>Add link_to :back which uses your referrer with a fallback to a javascript
link. 7366 [eventualbuddha, Tarmo Tänav]

</li>
<li>error_messages_for and friends also work with local variables. 9699
[Frederick Cheung]

</li>
<li>Fix url_for, redirect_to, etc. with :controller =&gt; :symbol instead of
&#8216;string&#8217;. 8562, 9525 [Justin Lynn, Tarmo Tänav, shoe]

</li>
<li>Use require_library_or_gem to load the memcache library for the <a
href="../../../../classes/MemCache.html">MemCache</a> session and fragment
cache stores. Closes 8662. [Rick]

</li>
<li>Move ActionController::Routing.optimise_named_routes to
ActionController::Base.optimise_named_routes. Now you can set it in the
config. [Rick]

<p>
config.action_controller.optimise_named_routes = false
</p>
</li>
<li>ActionController::Routing::DynamicSegment#interpolation_chunk should call
to_s on all values before calling URI.escape. [Rick]

</li>
<li>Only accept session ids from cookies, prevents session fixation attacks.
[bradediger]

</li>
</ul>
<p>
*2.0.0 [Preview Release]* (September 29th, 2007) [Includes duplicates of
changes from 1.12.2 - 1.13.3]
</p>
<ul>
<li>Fixed that render template did not honor exempt_from_layout 9698 [pezra]

</li>
<li>Better error messages if you leave out the :secret option for request
forgery protection. Closes 9670 [rick]

</li>
<li>Allow ability to disable request forgery protection, disable it in test
mode by default. Closes 9693 [Pratik Naik]

</li>
<li>Avoid calling is_missing on LoadErrors. Closes 7460. [ntalbott]

</li>
<li>Move Railties&#8217; Dispatcher to <a
href="../../../../classes/ActionController/Dispatcher.html">ActionController::Dispatcher</a>,
introduce before_ and after_dispatch callbacks, and warm up to non-CGI
requests. [Jeremy Kemper]

</li>
<li>The tag helper may bypass escaping. [Jeremy Kemper]

</li>
<li>Cache asset ids. [Jeremy Kemper]

</li>
<li>Optimized named routes respect AbstractRequest.relative_url_root. 9612
[danielmorrison, Jeremy Kemper]

</li>
<li>Introduce ActionController::Base.rescue_from to declare exception-handling
methods. Cleaner style than the case-heavy rescue_action_in_public. 9449
[Norbert Crombach]

</li>
<li>Rename some RequestForgeryProtection methods. The class method is now
protect_from_forgery, and the default parameter is now
&#8216;authenticity_token&#8217;. [Rick]

</li>
<li>Merge csrf_killer plugin into rails. Adds RequestForgeryProtection model
that verifies session-specific _tokens for non-GET requests. [Rick]

</li>
<li>Secure sanitize, strip_tags, and strip_links helpers against xss attacks.
Closes 8877. [Rick, Pratik Naik, Jacques Distler]

<p>
This merges and renames the popular white_list helper (along with some css
sanitizing from Jacques Distler version of the same plugin). Also applied
updated versions of strip_tags and strip_links from 8877.
</p>
</li>
<li>Remove use of &amp; logic operator. Closes 8114. [watson]

</li>
<li>Fixed JavaScriptHelper#escape_javascript to also escape closing tags 8023
[rubyruy]

</li>
<li>Fixed TextHelper#word_wrap for multiline strings with extra carrier returns
8663 [seth]

</li>
<li>Fixed that setting the :host option in url_for would automatically turn off
:only_path (since :host would otherwise not be shown) 9586 [Bounga]

</li>
<li>Added FormHelper#label. 8641, 9850 [jcoglan, jarkko]

</li>
<li>Added AtomFeedHelper (slightly improved from the atom_feed_helper plugin)
[DHH]

</li>
<li>Prevent errors when generating routes for uncountable resources, (i.e.
sheep where plural == singluar). map.resources :sheep now creates
sheep_index_url for the collection and sheep_url for the specific item.
[Koz]

</li>
<li>Added support for HTTP Only cookies (works in IE6+ and FF 2.0.5+) as an
improvement for XSS attacks 8895 [Pratik Naik, Spakman]

</li>
<li>Don&#8216;t warn when a path segment precedes a required segment. Closes
9615. [Nicholas Seckar]

</li>
<li>Fixed CaptureHelper#content_for to work with the optional content parameter
instead of just the block 9434 [sandofsky/wildchild].

</li>
<li>Added Mime::Type.register_alias for dealing with different formats using
the same mime type [DHH]. Example:

<pre>
  class PostsController &lt; ApplicationController
    before_filter :adjust_format_for_iphone

    def index
      @posts = Post.find(:all)

      respond_to do |format|
        format.html   # =&gt; renders index.html.erb and uses &quot;text/html&quot; as the content type
        format.iphone # =&gt; renders index.iphone.erb and uses &quot;text/html&quot; as the content type
      end
    end

    private
      def adjust_format_for_iphone
        if request.env[&quot;HTTP_USER_AGENT&quot;] &amp;&amp; request.env[&quot;HTTP_USER_AGENT&quot;][/iPhone/]
          request.format = :iphone
        end
      end
  end
</pre>
</li>
<li>Added that render :json will automatically call .to_json unless it&#8216;s
being passed a string [DHH].

</li>
<li>Autolink behaves well with emails embedded in URLs. 7313 [Jeremy McAnally,
Tarmo Tänav]

</li>
<li>Fixed that default layouts did not take the format into account 9564
[Pratik Naik]

</li>
<li>Fixed optimized route segment escaping. 9562 [wildchild, Jeremy Kemper]

</li>
<li>Added block acceptance to JavaScriptHelper#javascript_tag. 7527 [Bob Silva,
Tarmo Tänav, rmm5t]

</li>
<li>root_path returns &#8217;/&#8217; not &#8217;&#8217;. 9563 [Pratik Naik]

</li>
<li>Fixed that setting request.format should also affect respond_to blocks
[DHH]

</li>
<li>Add option to force binary mode on tempfile used for fixture_file_upload.
6380 [Jonathan Viney]

</li>
<li>Fixed that resource namespaces wouldn&#8216;t stick to all nested resources
9399 [pixeltrix]

</li>
<li>Moved ActionController::Macros::AutoComplete into the auto_complete plugin
on the official <a href="../../../../classes/Rails.html">Rails</a> svn.
9512 [Pratik Naik]

</li>
<li>Moved ActionController::Macros::InPlaceEditing into the in_place_editor
plugin on the official <a href="../../../../classes/Rails.html">Rails</a>
svn. 9513 [Pratik Naik]

</li>
<li>Removed deprecated form of calling xml_http_request/xhr without the first
argument being the http verb [DHH]

</li>
<li>Removed deprecated methods [DHH]:

<ul>
<li>ActionController::Base#keep_flash (use flash.keep instead)

</li>
<li>ActionController::Base#expire_matched_fragments (just call expire_fragment
with a regular expression)

</li>
<li>ActionController::Base.template_root/= methods (use <a
href="../../../../classes/ActionController/Base.html">ActionController#Base</a>.view_paths/=
instead)

</li>
<li>ActionController::Base.cookie (use <a
href="../../../../classes/ActionController/Base.html">ActionController#Base</a>.cookies[]=
instead)

</li>
</ul>
</li>
<li>Removed the deprecated behavior of appending &quot;.png&quot; to
image_tag/image_path calls without an existing extension [DHH]

</li>
<li>Removed ActionController::Base.scaffold &#8212; it went through the whole
idea of scaffolding (card board walls you remove and tweak one by one). Use
the scaffold generator instead (it does resources too now!) [DHH]

</li>
<li>Optimise named route generation when using positional arguments. [Koz]

<p>
This change delivers significant performance benefits for the most common
usage scenarios for modern rails applications by avoiding the costly trip
through url_for. Initial benchmarks indicate this is between 6 and 20 times
as fast.
</p>
</li>
<li>Explicitly require active_record/query_cache before using it. [Jeremy
Kemper]

</li>
<li>Fix layout overriding response status. 9476 [lotswholetime]

</li>
<li>Add field_set_tag for generating field_sets, closes 9477. [djanowski]

</li>
<li>Allow additional parameters to be passed to named route helpers when using
positional arguments. Closes 8930 [ian.w.white@gmail.com]

</li>
<li>Make render :partial work with a :collection of Hashes, previously this
wasn&#8216;t possible due to backwards compatibility restrictions. [Pratik
Naik]

</li>
<li>request.host works with IPv6 addresses. 9458 [yuya]

</li>
<li>Fix bug where action caching sets the content type to the ActionCachePath
object. Closes 9282 [mindforge]

</li>
<li>Find layouts even if they&#8216;re not in the first view_paths directory.
Closes 9258 [caio]

</li>
<li>Major improvement to the documentation for the options / select form
helpers. Closes 9038 [kampers, jardeon, wesg]

</li>
<li>Fix number_to_human_size when using different precisions. Closes 7536.
[RichardStrand, mpalmer]

</li>
<li>Added partial layouts (see example in action_view/lib/partials.rb) [DHH]

</li>
<li>Allow you to set custom :conditions on resource routes. [Rick]

</li>
<li>Fixed that file.content_type for uploaded files would include a trailing \r
9053 [bgreenlee]

</li>
<li>url_for now accepts a series of symbols representing the namespace of the
record [Josh Knowles]

</li>
<li>Make :trailing_slash work with query parameters for url_for. Closes 4004
[nov]

</li>
<li>Make sure missing template exceptions actually say which template they were
looking for. Closes 8683 [dasil003]

</li>
<li>Fix errors with around_filters which do not yield, restore 1.1 behaviour
with after filters. Closes 8891 [skaes]

<p>
After filters will *no longer* be run if an around_filter fails to yield,
users relying on this behaviour are advised to put the code in question
after a yield statement in an around filter.
</p>
</li>
<li>Allow you to delete cookies with options. Closes 3685 [Josh Peek, Chris
Wanstrath]

</li>
<li>Allow you to render views with periods in the name. Closes 8076 [Norbert
Crombach]

<p>
render :partial =&gt; &#8216;show.html.erb&#8216;
</p>
</li>
<li>Improve capture helper documentation. 8796 [kampers]

</li>
<li>Prefix nested resource named routes with their action name, e.g.
new_group_user_path(@group) instead of group_new_user_path(@group). The old
nested action named route is deprecated in <a
href="../../../../classes/Rails.html">Rails</a> 1.2.4. 8558 [David
Chelimsky]

</li>
<li>Allow sweepers to be created solely for expiring after controller actions,
not model changes [DHH]

</li>
<li>Added assigns method to ActionController::Caching::Sweeper to easily access
instance variables on the controller [DHH]

</li>
<li>Give the legacy X-POST_DATA_FORMAT header greater precedence during params
parsing for backward compatibility. [Jeremy Kemper]

</li>
<li>Fixed that link_to with an href of # when using :method will not allow for
click-through without JavaScript 7037 [Steven Bristol, Josh Peek]

</li>
<li>Fixed that radio_button_tag should generate unique ids 3353 [Bob Silva,
Rebecca, Josh Peek]

</li>
<li>Fixed that HTTP authentication should work if the header is called
REDIRECT_X_HTTP_AUTHORIZATION as well 6754 [mislaw]

</li>
<li>Don&#8216;t mistakenly interpret the request uri as the query string. 8731
[Pratik Naik, Jeremy Kemper]

</li>
<li>Make ActionView#view_paths an attr_accessor for real this time. Also,
don&#8216;t perform an unnecessary compact on the @view_paths array in
initialize. Closes 8582 [dasil003, julik, rick]

</li>
<li>Tolerate missing content type on multipart file uploads. Fix for Safari 3.
[Jeremy Kemper]

</li>
<li>Deprecation: remove pagination. Install the classic_pagination plugin for
forward compatibility, or move to the superior will_paginate plugin. 8157
[Josh Peek]

</li>
<li>Action caching is limited to GET requests returning 200 OK status. 3335
[tom@craz8.com, halfbyte, Dan Kubb, Josh Peek]

</li>
<li>Improve Text Helper test coverage. 7274 [Rob Sanheim, Josh Peek]

</li>
<li>Improve helper test coverage. 7208, 7212, 7215, 7233, 7234, 7235, 7236,
7237, 7238, 7241, 7243, 7244 [Rich Collins, Josh Peek]

</li>
<li>Improve UrlRewriter tests. 7207 [Rich Collins]

</li>
<li>Resources: url_for([parent, child]) generates /parents/1/children/2 for the
nested resource. Likewise with the other simply helpful methods like
form_for and link_to. 6432 [mhw, Jonathan Vaught, lotswholetime]

</li>
<li>Assume html format when rendering partials in RJS. 8076 [Rick]

</li>
<li>Don&#8216;t double-escape url_for in views. 8144 [Rich Collins, Josh Peek]

</li>
<li>Allow JSON-style values for the :with option of observe_field. Closes 8557
[kommen]

</li>
<li>Remove RAILS_ROOT from backtrace paths. 8540 [Tim Pope]

</li>
<li>Routing: map.resource :logo routes to LogosController so the controller may
be reused for multiple nestings or namespaces. [Jeremy Kemper]

</li>
<li>render :partial recognizes Active Record associations as Arrays. 8538
[Kamal Fariz Mahyuddin]

</li>
<li>Routing: drop semicolon and comma as route separators. [Jeremy Kemper]

</li>
<li>request.remote_ip understands X-Forwarded-For addresses with nonstandard
whitespace. 7386 [moses]

</li>
<li>Don&#8216;t prepare response when rendering a component. 8493 [jsierles]

</li>
<li>Reduce file stat calls when checking for template changes. 7736 [alex]

</li>
<li>Added custom path cache_page/expire_page parameters in addition to the
options hashes [DHH]. Example:

<pre>
  def index
    caches_page(response.body, &quot;/index.html&quot;)
  end
</pre>
</li>
<li>Action Caching speedup. 8231 [skaes]

</li>
<li>Wordsmith resources documentation. 8484 [marclove]

</li>
<li>Fix syntax error in code example for routing documentation. 8377. [Norbert
Crombach]

</li>
<li>Routing: respond with 405 Method Not Allowed status when the route path
matches but the HTTP method does not. 6953 [Josh Peek, defeated, Dan Kubb,
Coda Hale]

</li>
<li>Add support for assert_select_rjs with :show and :hide. 7780 [dchelimsky]

</li>
<li>Make assert_select&#8216;s failure messages clearer about what failed. 7779
[dchelimsky]

</li>
<li>Introduce a default respond_to block for custom types. 8174 [Josh Peek]

</li>
<li>auto_complete_field takes a :method option so you can GET or POST. 8120
[zapnap]

</li>
<li>Added option to suppress :size when using :maxlength for
FormTagHelper#text_field 3112 [Tim Pope]

</li>
<li>catch possible WSOD when trying to render a missing partial. Closes 8454
[Catfish]

</li>
<li>Rewind request body after reading it, if possible. 8438 [s450r1]

</li>
<li>Resource namespaces are inherited by their has_many subresources. 8280
[marclove, ggarside]

</li>
<li>Fix filtered parameter logging with nil parameter values. 8422 [choonkeat]

</li>
<li>Integration tests: alias xhr to xml_http_request and add a request_method
argument instead of always using POST. 7124 [Nik Wakelin, Francois
Beausoleil, Wizard]

</li>
<li>Document caches_action. 5419 [Jarkko Laine]

</li>
<li>Update to Prototype 1.5.1. [Sam Stephenson]

</li>
<li>Allow routes to be decalred under namespaces [Tobias Luetke]:

<p>
map.namespace :admin do |admin|
</p>
<pre>
  admin.root :controller =&gt; &quot;products&quot;
  admin.feed 'feed.xml', :controller =&gt; 'products', :action =&gt; 'feed', :format =&gt; 'xml'
</pre>
<p>
end
</p>
</li>
<li>Update to script.aculo.us 1.7.1_beta3. [Thomas Fuchs]

</li>
<li>observe_form always sends the serialized form. 5271 [manfred,
normelton@gmail.com]

</li>
<li>Parse url-encoded and multipart requests ourselves instead of delegating to
CGI. [Jeremy Kemper]

</li>
<li>select :include_blank option can be set to a string instead of true, which
just uses an empty string. 7664 [Wizard]

</li>
<li>Added url_for usage on render :location, which allows for record
identification [DHH]. Example:

<pre>
  render :xml =&gt; person, :status =&gt; :created, :location =&gt; person
</pre>
<p>
&#8230;expands the location to person_url(person).
</p>
</li>
<li>Introduce the request.body stream. Lazy-read to parse parameters rather
than always setting RAW_POST_DATA. Reduces the memory footprint of large
binary PUT requests. [Jeremy Kemper]

</li>
<li>Add some performance enhancements to ActionView.

<ul>
<li>Cache base_paths in @@cached_base_paths

</li>
<li>Cache template extensions in @@cached_template_extension

</li>
<li>Remove unnecessary rescues

</li>
</ul>
</li>
<li>Assume that rendered partials go by the HTML format by default

<p>
def my_partial
</p>
<pre>
  render :update do |page|
    # in this order
    # _foo.html.erb
    # _foo.erb
    # _foo.rhtml
    page.replace :foo, :partial =&gt; 'foo'
  end
</pre>
<p>
end
</p>
</li>
<li>Added record identifications to FormHelper#form_for and
PrototypeHelper#remote_form_for [DHH]. Examples:

<pre>
  &lt;% form_for(@post) do |f| %&gt;
    ...
  &lt;% end %&gt;
</pre>
<p>
This will expand to be the same as:
</p>
<pre>
  &lt;% form_for :post, @post, :url =&gt; post_path(@post), :html =&gt; { :method =&gt; :put, :class =&gt; &quot;edit_post&quot;, :id =&gt; &quot;edit_post_45&quot; } do |f| %&gt;
    ...
  &lt;% end %&gt;
</pre>
<p>
And for new records:
</p>
<pre>
  &lt;% form_for(Post.new) do |f| %&gt;
    ...
  &lt;% end %&gt;
</pre>
<p>
This will expand to be the same as:
</p>
<pre>
  &lt;% form_for :post, @post, :url =&gt; posts_path, :html =&gt; { :class =&gt; &quot;new_post&quot;, :id =&gt; &quot;new_post&quot; } do |f| %&gt;
    ...
  &lt;% end %&gt;
</pre>
</li>
<li>Rationalize route path escaping according to RFC 2396 section 3.3. 7544,
8307. [Jeremy Kemper, chrisroos, begemot, jugend]

</li>
<li>Added record identification with polymorphic routes for
ActionController::Base#url_for and ActionView::Base#url_for [DHH].
Examples:

<pre>
  redirect_to(post)         # =&gt; redirect_to(posts_url(post))         =&gt; Location: http://example.com/posts/1
  link_to(post.title, post) # =&gt; link_to(post.title, posts_url(post)) =&gt; &lt;a href=&quot;/posts/1&quot;&gt;Hello world&lt;/a&gt;
</pre>
<p>
Any method that calls url_for on its parameters will automatically benefit
from this.
</p>
</li>
<li>Removed deprecated parameters_for_method_reference concept (legacy from
before named routes) [DHH]

</li>
<li>Add <a
href="../../../../classes/ActionController/Routing/Helpers.html">ActionController::Routing::Helpers</a>,
a module to contain common URL helpers such as polymorphic_url. [Nicholas
Seckar]

</li>
<li>Included the HttpAuthentication plugin as part of core (<a
href="../../../../classes/ActionController/HttpAuthentication/Basic.html">ActionController::HttpAuthentication::Basic</a>)
[DHH]

</li>
<li>Modernize documentation for form helpers. [jeremymcanally]

</li>
<li>Add brief introduction to REST to the resources documentation. [fearoffish]

</li>
<li>Fix various documentation typos throughout ActionPack. [Henrik N]

</li>
<li>Enhance documentation and add examples for url_for. [jeremymcanally]

</li>
<li>Fix documentation typo in routes. [Norbert Crombach, pam]

</li>
<li>Sweep flash when filter chain is halted. [Caio Chassot
&lt;lists@v2studio.com&gt;]

</li>
<li>Fixed that content_tag with a block will just return the result instead of
concate it if not used in a ERb view 7857, 7432 [michael.niessner]

</li>
<li>Replace the current block/continuation filter chain handling by an
implementation based on a simple loop. 8226 [Stefan Kaes]

</li>
<li>Update UrlWriter to accept :anchor parameter. Closes 6771. [octopod]

</li>
<li>Added RecordTagHelper for using RecordIdentifier conventions on divs and
other container elements [DHH]. Example:

<pre>
  &lt;% div_for(post) do %&gt;     &lt;div id=&quot;post_45&quot; class=&quot;post&quot;&gt;
    &lt;%= post.body %&gt;           What a wonderful world!
  &lt;% end %&gt;                  &lt;/div&gt;
</pre>
</li>
<li>Added page[record] accessor to JavaScriptGenerator that relies on
RecordIdentifier to find the right dom id [DHH]. Example:

<pre>
  format.js do
    # Calls: new Effect.fade('post_45');
    render(:update) { |page| page[post].visual_effect(:fade) }
  end
</pre>
</li>
<li>Added RecordIdentifier to enforce view conventions on records for dom ids,
classes, and partial paths [DHH]

</li>
<li>Added map.namespace to deal with the common situation of admin sections and
the like [DHH]

<pre>
  Before:

    map.resources :products, :path_prefix =&gt; &quot;admin&quot;, :controller =&gt; &quot;admin/products&quot;, :collection =&gt; { :inventory =&gt; :get }, :member =&gt; { :duplicate =&gt; :post }
    map.resources :tags, :name_prefix =&gt; 'admin_product_', :path_prefix =&gt; &quot;admin/products/:product_id&quot;, :controller =&gt; &quot;admin/product_tags&quot;
    map.resources :images, :name_prefix =&gt; 'admin_product_', :path_prefix =&gt; &quot;admin/products/:product_id&quot;, :controller =&gt; &quot;admin/product_images&quot;
    map.resources :variants, :name_prefix =&gt; 'admin_product_', :path_prefix =&gt; &quot;admin/products/:product_id&quot;, :controller =&gt; &quot;admin/product_variants&quot;

  After:

    map.namespace(:admin) do |admin|
      admin.resources :products,
        :collection =&gt; { :inventory =&gt; :get },
        :member     =&gt; { :duplicate =&gt; :post },
        :has_many   =&gt; [ :tags, :images, :variants ]
    end
</pre>
</li>
<li>Added :name_prefix as standard for nested resources [DHH]. WARNING: May be
backwards incompatible with your app

<pre>
  Before:

    map.resources :emails do |emails|
      emails.resources :comments,    :name_prefix =&gt; &quot;email_&quot;
      emails.resources :attachments, :name_prefix =&gt; &quot;email_&quot;
    end

  After:

    map.resources :emails do |emails|
      emails.resources :comments
      emails.resources :attachments
    end

  This does mean that if you intended to have comments_url go to /emails/5/comments, then you'll have to set :name_prefix to nil explicitly.
</pre>
</li>
<li>Added :has_many and :has_one for declaring plural and singular resources
beneath the current [DHH]

<pre>
  Before:

    map.resources :notes do |notes|
      notes.resources :comments
      notes.resources :attachments
      notes.resource :author
    end

  After:

    map.resources :notes, :has_many =&gt; [ :comments, :attachments ], :has_one =&gt; :author
</pre>
</li>
<li>Added that render :xml will try to call to_xml if it can [DHH]. Makes these
work:

<pre>
  render :xml =&gt; post
  render :xml =&gt; comments
</pre>
</li>
<li>Added :location option to render so that the common pattern of rendering a
response after creating a new resource is now a 1-liner [DHH]

<pre>
  render :xml =&gt; post.to_xml, :status =&gt; :created, :location =&gt; post_url(post)
</pre>
</li>
<li>Ensure that render_text only adds string content to the body of the
response [DHH]

</li>
<li>Return the string representation from an Xml <a
href="../../../../classes/Builder.html">Builder</a> when rendering a
partial. Closes 5044 [Tim Pope]

</li>
<li>Fixed that parameters from XML should also be presented in a hash with
indifferent access [DHH]

</li>
<li>Tweak template format rules so that the ACCEPT header is only used if
it&#8216;s text/javascript. This is so ajax actions without a :format param
get recognized as Mime::JS. [Rick]

</li>
<li>The default respond_to blocks don&#8216;t set a specific extension anymore,
so that both &#8216;show.rjs&#8217; and &#8216;show.js.rjs&#8217; will
work. [Rick]

</li>
<li>Allow layouts with extension of .html.erb. Closes 8032 [Josh Knowles]

</li>
<li>Change default respond_to templates for xml and rjs formats. [Rick]

<ul>
<li>Default xml template goes from #{action_name}.rxml =&gt;
#{action_name}.xml.builder.

</li>
<li>Default rjs template goes from #{action_name}.rjs =&gt;
#{action_name}.js.rjs.

</li>
</ul>
<p>
You can still specify your old templates:
</p>
<pre>
  respond_to do |format|
    format.xml do
      render :action =&gt; &quot;#{action_name}.rxml&quot;
    end
  end
</pre>
</li>
<li>Fix WSOD due to modification of a formatted template extension so that
requests to templates like &#8216;foo.html.erb&#8217; fail on the second
hit. [Rick]

</li>
<li>Fix WSOD when template compilation fails [Rick]

</li>
<li>Change ActionView template defaults. Look for templates using the request
format first, such as &quot;show.html.erb&quot; or
&quot;show.xml.builder&quot;, before looking for the old defaults like
&quot;show.erb&quot; or &quot;show.builder&quot; [Rick]

</li>
<li>Highlight helper highlights one or many terms in a single pass. [Jeremy
Kemper]

</li>
<li>Dropped the use of ; as a separator of non-crud actions on resources and
went back to the vanilla slash. It was a neat idea, but lots of the
non-crud actions turned out not to be RPC (as the ; was primarily intended
to discourage), but legitimate sub-resources, like /parties/recent, which
didn&#8216;t deserve the uglification of /parties;recent. Further more, the
semicolon caused issues with caching and HTTP authentication in Safari.
Just Not Worth It [DHH]

</li>
<li>Added that FormTagHelper#submit_tag will return to its original state if
the submit fails and you&#8216;re using :disable_with [DHH]

</li>
<li>Cleaned up, corrected, and mildly expanded ActionPack documentation. Closes
7190 [jeremymcanally]

</li>
<li>Small collection of ActionController documentation cleanups. Closes 7319
[jeremymcanally]

</li>
<li>Make sure the route expiry hash is constructed by comparing the
to_param-ized values of each hash. [Jamis Buck]

</li>
<li>Allow configuration of the default action cache path for caches_action
calls. [Rick Olson]

<p>
class ListsController &lt; ApplicationController
</p>
<pre>
  caches_action :index, :cache_path =&gt; Proc.new { |controller|
    controller.params[:user_id] ?
      controller.send(:user_lists_url, c.params[:user_id]) :
      controller.send(:lists_url) }
</pre>
<p>
end
</p>
</li>
<li>Performance: patch cgi/session/pstore to require digest/md5 once rather
than per initialize. 7583 [Stefan Kaes]

</li>
<li>Cookie session store: ensure that new sessions doesn&#8216;t reuse data
from a deleted session in the same request. [Jeremy Kemper]

</li>
<li>Deprecation: verification with :redirect_to =&gt; :named_route
shouldn&#8216;t be deprecated. 7525 [Justin French]

</li>
<li>Cookie session store: raise ArgumentError when :session_key is blank.
[Jeremy Kemper]

</li>
<li>Deprecation: remove deprecated request, redirect, and dependency methods.
Remove deprecated instance variables. Remove deprecated url_for(:symbol,
*args) and redirect_to(:symbol, *args) in favor of named routes. Remove
uses_component_template_root for toplevel components directory. Privatize
deprecated render_partial and render_partial_collection view methods.
Remove deprecated link_to_image, link_image_to, update_element_function,
start_form_tag, and end_form_tag helper methods. Remove deprecated
human_size helper alias. [Jeremy Kemper]

</li>
<li>Consistent public/protected/private visibility for chained methods. 7813
[Dan Manges]

</li>
<li>Prefer MIME constants to strings. 7707 [Dan Kubb]

</li>
<li>Allow array and hash query parameters. Array route parameters are
converted/to/a/path as before. 6765, 7047, 7462 [bgipsy, Jeremy McAnally,
Dan Kubb, brendan]

</li>
</ul>
<p>
# Add a dbman attr_reader for CGI::Session and make
CGI::Session::CookieStore#generate_digest public so it&#8216;s easy to
generate digests using the cookie store&#8216;s secret. [Rick]
</p>
<ul>
<li>Added Request#url that returns the complete URL used for the request [DHH]

</li>
<li>Extract dynamic scaffolding into a plugin. 7700 [Josh Peek]

</li>
<li>Added user/password options for url_for to add http authentication in a URL
[DHH]

</li>
<li>Fixed that FormTagHelper#text_area_tag should disregard :size option if
it&#8216;s not a string [Brendon Davidson]

</li>
<li>Set the original button value in an attribute of the button when using the
:disable_with key with submit_tag, so that the original can be restored
later. [Jamis Buck]

</li>
<li>session_enabled? works with session :off. 6680 [Catfish]

</li>
<li>Added :port and :host handling to UrlRewriter (which unified url_for usage,
regardless of whether it&#8216;s called in view or controller) 7616
[alancfrancis]

</li>
<li>Allow send_file/send_data to use a registered mime type as the :type
parameter 7620 [jonathan]

</li>
<li>Allow routing requirements on map.resource(s) 7633 [quixoten]. Example:

<p>
map.resources :network_interfaces, :requirements =&gt; { :id =&gt;
/^\d+\.\d+\.\d+\.\d+$/ }
</p>
</li>
<li>Cookie session store: empty and unchanged sessions don&#8216;t write a
cookie. [Jeremy Kemper]

</li>
<li>Added helper(:all) as a way to include all helpers from app/helpers/**/*.rb
in ApplicationController [DHH]

</li>
<li>Integration tests: introduce methods for other HTTP methods. 6353 [caboose]

</li>
<li>Routing: better support for escaped values in route segments. 7544 [Chris

</li>
</ul>
<p>
Roos]
</p>
<ul>
<li>Introduce a cookie-based session store as the <a
href="../../../../classes/Rails.html">Rails</a> default. Sessions typically
contain at most a user_id and flash message; both fit within the 4K cookie
size limit. A secure message digest is included with the cookie to ensure
data integrity (a user cannot alter his user_id without knowing the secret
key included in the digest). If you have more than 4K of session data or
don&#8216;t want your data to be visible to the user, pick another session
store. Cookie-based sessions are dramatically faster than the alternatives.
[Jeremy Kemper]

<p>
Example config/environment.rb:
</p>
<pre>
  # Use an application-wide secret key and the default SHA1 message digest.
  config.action_controller.session = { :secret =&gt; &quot;can't touch this&quot; }

  # Store a secret key per user and employ a stronger message digest.
  config.action_controller.session = {
    :digest =&gt; 'SHA512',
    :secret =&gt; Proc.new { User.current.secret_key }
  }
</pre>
</li>
<li>Added .erb and .builder as preferred aliases to the now deprecated .rhtml
and .rxml extensions [Chad Fowler]. This is done to separate the renderer
from the mime type. .erb templates are often used to render emails, atom,
csv, whatever. So labeling them .rhtml doesn&#8216;t make too much sense.
The same goes for .rxml, which can be used to build everything from HTML to
Atom to whatever. .rhtml and .rxml will continue to work until <a
href="../../../../classes/Rails.html">Rails</a> 3.0, though. So this is a
slow phasing out. All generators and examples will start using the new
aliases, though.

</li>
<li>Added caching option to AssetTagHelper#stylesheet_link_tag and
AssetTagHelper#javascript_include_tag [DHH]. Examples:

<pre>
  stylesheet_link_tag :all, :cache =&gt; true # when ActionController::Base.perform_caching is false =&gt;
    &lt;link href=&quot;/stylesheets/style1.css&quot;  media=&quot;screen&quot; rel=&quot;Stylesheet&quot; type=&quot;text/css&quot; /&gt;
    &lt;link href=&quot;/stylesheets/styleB.css&quot;  media=&quot;screen&quot; rel=&quot;Stylesheet&quot; type=&quot;text/css&quot; /&gt;
    &lt;link href=&quot;/stylesheets/styleX2.css&quot; media=&quot;screen&quot; rel=&quot;Stylesheet&quot; type=&quot;text/css&quot; /&gt;

  stylesheet_link_tag :all, :cache =&gt; true # when ActionController::Base.perform_caching is true =&gt;
    &lt;link href=&quot;/stylesheets/all.css&quot;  media=&quot;screen&quot; rel=&quot;Stylesheet&quot; type=&quot;text/css&quot; /&gt;
</pre>
<p>
&#8230;when caching is on, all.css is the concatenation of style1.css,
styleB.css, and styleX2.css. Same deal for JavaScripts.
</p>
</li>
<li>Work around the two connection per host browser limit: use
asset%d.myapp.com to distribute asset requests among asset[0123].myapp.com.
Use a DNS wildcard or CNAMEs to map these hosts to your asset server. See
<a
href="http://www.die.net/musings/page_load_time">www.die.net/musings/page_load_time</a>/
for background. [Jeremy Kemper]

</li>
<li>Added default mime type for CSS (Mime::CSS) [DHH]

</li>
<li>Added that rendering will automatically insert the etag header on 200 OK
responses. The etag is calculated using MD5 of the response body. If a
request comes in that has a matching etag, the response will be changed to
a 304 Not Modified and the response body will be set to an empty string.
[DHH]

</li>
<li>Added X-Runtime to all responses with the request run time [DHH]

</li>
<li>Add <a href="../../../../classes/Mime/Type.html">Mime::Type</a> convenience
methods to check the current mime type. [Rick]

<p>
request.format.html? # =&gt; true if Mime::HTML request.format.jpg? # =&gt;
true if Mime::JPG
</p>
<p>
# ActionController sample usage: # the session will be disabled for non
html/ajax requests session :off, :if =&gt; Proc.new { |req|
!(req.format.html? || req.format.js?) }
</p>
</li>
<li>Performance: patch cgi/session to require digest/md5 once rather than per
create_new_id. [Stefan Kaes]

</li>
<li>Add a :url_based_filename =&gt; true option to
ActionController::Streaming::send_file, which allows URL-based filenames.
[Thomas Fuchs]

</li>
<li>Fix that FormTagHelper#submit_tag using :disable_with should trigger the
onsubmit handler of its form if available [DHH]

</li>
<li>Fix render_file so that TemplateError is called with the correct params and
you don&#8216;t get the WSOD. [Rick]

</li>
<li>Fix issue with deprecation messing up template_root= usage. Add
prepend_view_path and append_view_path to allow modification of a copy of
the

</li>
</ul>
<p>
superclass&#8217; view_paths. [Rick]
</p>
<ul>
<li>Allow Controllers to have multiple view_paths instead of a single
template_root. Closes 2754 [John Long]

</li>
<li>Add much-needed html-scanner tests. Fixed CDATA parsing bug. [Rick]

</li>
<li>improve error message for Routing for named routes. Closes 7346 [Rob
Sanheim]

</li>
<li>Added enhanced docs to routing assertions. Closes 7359 [Rob Sanheim]

</li>
<li>fix form_for example in <a
href="../../../../classes/ActionController/Resources.html">ActionController::Resources</a>
documentation. Closes 7362 [gnarg]

</li>
<li>Make sure that the string returned by TextHelper#truncate is actually a
string, not a char proxy &#8212; that should only be used internally while
working on a multibyte-safe way of truncating [DHH]

</li>
<li>Added FormBuilder#submit as a delegate for FormTagHelper#submit_tag [DHH]

</li>
<li>Allow Routes to generate all urls for a set of options by specifying
:generate_all =&gt; true. Allows caching to properly set or expire all
paths for a resource. References 1739. [Nicholas Seckar]

</li>
<li>Change the query parser to map empty GET params to &quot;&quot; rather than
nil. Closes 5694. [Nicholas Seckar]

</li>
<li>date_select and datetime_select take a :default option. 7052 [nik.wakelin]

<pre>
  date_select &quot;post&quot;, &quot;written_on&quot;, :default =&gt; 3.days.from_now
  date_select &quot;credit_card&quot;, &quot;bill_due&quot;, :default =&gt; { :day =&gt; 20 }
</pre>
</li>
<li>select :multiple =&gt; true suffixes the attribute name with [] unless
already suffixed. 6977 [nik.kakelin, ben, julik]

</li>
<li>Improve routes documentation. 7095 [zackchandler]

</li>
<li>mail_to :encode =&gt; &#8216;hex&#8217; also encodes the mailto: part of
the href attribute as well as the linked email when no name is given. 2061
[Jarkko Laine, pfc.pille@gmx.net]

</li>
<li>Resource member routes require :id, eliminating the ambiguous overlap with
collection routes. 7229 [dkubb]

</li>
<li>Remove deprecated assertions. [Jeremy Kemper]

</li>
<li>Change session restoration to allow namespaced models to be autoloaded.
Closes 6348. [Nicholas Seckar]

</li>
<li>Fix doubly appearing parameters due to string and symbol mixups. Closes
2551. [aeden]

</li>
<li>Fix overly greedy rescues when loading helpers. Fixes 6268. [Nicholas
Seckar]

</li>
<li>Fixed NumberHelper#number_with_delimiter to use &quot;.&quot; always for
splitting the original number, not the delimiter parameter 7389 [ceefour]

</li>
<li>Autolinking recognizes trailing and embedded . , : ; 7354 [Jarkko Laine]

</li>
<li>Make TextHelper::auto_link recognize URLs with colons in path correctly,
fixes 7268. [imajes]

</li>
<li>Update to script.aculo.us 1.7.0. [Thomas Fuchs]

</li>
<li>Modernize cookie testing code, and increase coverage (Heckle++) 7101 [Kevin
Clark]

</li>
<li>Improve Test Coverage for
ActionController::Routing::Route#matches_controller_and_action? (Heckle++)
7115 [Kevin Clark]

</li>
<li>Heckling ActionController::Resources::Resource revealed that set_prefixes
didn&#8216;t break when :name_prefix was munged. 7081 [Kevin Clark]

</li>
<li>Fix distance_of_time_in_words to report accurately against the Duration
class. 7114 [eventualbuddha]

</li>
<li>Refactor form_tag to allow easy extending. [Rick]

</li>
<li>Update to Prototype 1.5.0. [Sam Stephenson]

</li>
<li>RecordInvalid, RecordNotSaved =&gt; 422 Unprocessable Entity,
StaleObjectError =&gt; 409 Conflict. 7097 [dkubb]

</li>
<li>Allow fields_for to be nested inside form_for, so that the name and id get
properly constructed [Jamis Buck]

</li>
<li>Allow inGroupsOf and eachSlice to be called through rjs. 7046 [Cody Fauser]

</li>
<li>Allow exempt_from_layout :rhtml. 6742, 7026 [Dan Manges, Squeegy]

</li>
<li>Recognize the .txt extension as Mime::TEXT [Rick]

</li>
<li>Fix parsing of array[] CGI parameters so extra empty values aren&#8216;t
included. 6252 [Nicholas Seckar, aiwilliams, brentrowland]

</li>
<li>link_to_unless_current works with full URLs as well as paths. 6891 [Jarkko
Laine, manfred, idrifter]

</li>
<li>Lookup the mime type for auto_discovery_link_tag in the <a
href="../../../../classes/Mime/Type.html">Mime::Type</a> class. Closes 6941
[Josh Peek]

</li>
<li>Fix bug where nested resources ignore a parent singleton parent&#8216;s
path prefix. Closes 6940 [Dan Kubb]

</li>
<li>Fix no method error with error_messages_on. Closes 6935 [nik.wakelin Koz]

</li>
<li>Slight doc tweak to the ActionView::Helpers::PrototypeHelper#replace docs.
Closes 6922 [Steven Bristol]

</li>
<li>Slight doc tweak to prepend_filter. Closes 6493 [Jeremy Voorhis]

</li>
<li>Add more extensive documentation to the AssetTagHelper. Closes 6452 [Bob
Silva]

</li>
<li>Clean up multiple calls to stringify_keys in TagHelper, add better
documentation and testing for TagHelper. Closes 6394 [Bob Silva]

</li>
<li>[DOCS] fix reference to ActionController::Macros::AutoComplete for
text_field_with_auto_complete. Closes 2578 [Jan Prill]

</li>
<li>Make sure html_document is reset between integration test requests. [ctm]

</li>
<li>Set session to an empty hash if :new_session =&gt; false and no session
cookie or param is present. CGI::Session was raising an unrescued
ArgumentError. [Josh Susser]

</li>
<li>Routing uses URI escaping for path components and CGI escaping for query
parameters. [darix, Jeremy Kemper]

</li>
<li>Fix assert_redirected_to bug where redirecting from a nested to to a
top-level controller incorrectly added the current controller&#8216;s
nesting. Closes 6128. [Rick Olson]

</li>
<li>Singleton resources: POST /singleton =&gt; create, GET /singleton/new =&gt;
new. [Jeremy Kemper]

</li>
<li>Use 400 Bad Request status for unrescued <a
href="../../../../classes/ActiveRecord/RecordInvalid.html">ActiveRecord::RecordInvalid</a>
exceptions. [Jeremy Kemper]

</li>
<li>Silence log_error deprecation warnings from inspecting deprecated instance
variables. [Nate Wiger]

</li>
<li>Only cache GET requests with a 200 OK response. 6514, 6743 [RSL, anamba]

</li>
<li>Add a &#8216;referer&#8217; attribute to TestRequest. [Jamis Buck]

</li>
<li>Ensure render :json =&gt; &#8230; skips the layout. Closes 6808 [Josh Peek]

</li>
<li>Fix HTML::Node to output double quotes instead of single quotes. Closes
6845 [mitreandy]

</li>
<li>Correctly report which filter halted the chain. 6699 [Martin Emde]

</li>
<li>Fix a bug in Routing where a parameter taken from the path of the current
request could not be used as a query parameter for the next. Closes 6752.
[Nicholas Seckar]

</li>
<li>Unrescued <a
href="../../../../classes/ActiveRecord/RecordNotFound.html">ActiveRecord::RecordNotFound</a>
responds with 404 instead of 500. [Jeremy Kemper]

</li>
<li>Improved auto_link to match more valid urls correctly [Tobias Luetke]

</li>
<li>Add singleton resources. [Rick Olson]

<p>
map.resource :account
</p>
<p>
GET /account GET /account;edit UPDATE /account DELETE /account
</p>
</li>
<li>respond_to recognizes JSON. render :json =&gt; @person.to_json
automatically sets the content type and takes a :callback option to specify
a client-side function to call using the rendered JSON as an argument. 4185
[Scott Raymond, eventualbuddha]

<pre>
  # application/json response with body 'Element.show({:name: &quot;David&quot;})'
  respond_to do |format|
    format.json { render :json =&gt; { :name =&gt; &quot;David&quot; }.to_json, :callback =&gt; 'Element.show' }
  end
</pre>
</li>
<li>Makes :discard_year work without breaking multi-attribute parsing in AR.
1260, 3800 [sean@ardismg.com, jmartin@desertflood.com, stephen@touset.org,
Bob Silva]

</li>
<li>Adds html id attribute to date helper elements. 1050, 1382
[mortonda@dgrmm.net, David North, Bob Silva]

</li>
<li>Add :index and @auto_index capability to model driven date/time selects.
847, 2655 [moriq, Doug Fales, Bob Silva]

</li>
<li>Add :order to datetime_select, select_datetime, and select_date. 1427
[Timothee Peignier, patrick@lenz.sh, Bob Silva]

</li>
<li>Added time_select to work with time values in models. Update scaffolding.
2489, 2833 [Justin Palmer, Andre Caum, Bob Silva]

</li>
<li>Added :include_seconds to select_datetime, datetime_select and time_select.
2998 [csn, Bob Silva]

</li>
<li>All date/datetime selects can now accept an array of month names with
:use_month_names. Allows for localization. 363 [tomasj, Bob Silva]

</li>
<li>Adds :time_separator to select_time and :date_separator to select_datetime.
Preserves BC. 3811 [Bob Silva]

</li>
<li>Added map.root as an alias for map.connect &#8217;&#8217; [DHH]

</li>
<li>Added Request#format to return the format used for the request as a mime
type. If no format is specified, the first Request#accepts type is used.
This means you can stop using respond_to for anything else than responses
[DHH]. Examples:

<pre>
  GET /posts/5.xml   | request.format =&gt; Mime::XML
  GET /posts/5.xhtml | request.format =&gt; Mime::HTML
  GET /posts/5       | request.format =&gt; request.accepts.first (usually Mime::HTML for browsers)
</pre>
</li>
<li>Added the option for extension aliases to mime type registration [DHH].
Example (already in the default routes):

<pre>
  Mime::Type.register &quot;text/html&quot;, :html, %w( application/xhtml+xml ), %w( xhtml )
</pre>
<p>
&#8230;will respond on both .html and .xhtml.
</p>
</li>
<li>@response.redirect_url works with 201 Created responses: just return
headers[&#8216;Location&#8217;] rather than checking the response status.
[Jeremy Kemper]

</li>
<li>Added CSV to Mime::SET so that respond_to csv will work [Cody Fauser]

</li>
<li>Fixed that HEAD should return the proper Content-Length header (that is,
actually use @body.size, not just 0) [DHH]

</li>
<li>Added GET-masquarading for HEAD, so request.method will return :get even
for HEADs. This will help anyone relying on case request.method to
automatically work with HEAD and map.resources will also allow HEADs to all
GET actions. <a href="../../../../classes/Rails.html">Rails</a>
automatically throws away the response content in a reply to HEAD, so you
don&#8216;t even need to worry about that. If you, for whatever reason,
still need to distinguish between GET and HEAD in some edge case, you can
use Request#head? and even Request.headers[&quot;REQUEST_METHOD&quot;] for
get the &quot;real&quot; answer. Closes 6694 [DHH]

</li>
<li>Update Routing to complain when :controller is not specified by a route.
Closes 6669. [Nicholas Seckar]

</li>
<li>Ensure render_to_string cleans up after itself when an exception is raised.
6658 [Rob Sanheim]

</li>
<li>Extract template_changed_since? from compile_template? so plugins may
override its behavior for non-file-based templates. 6651 [Jeff Barczewski]

</li>
<li>Update to Prototype and script.aculo.us [5579]. [Thomas Fuchs]

</li>
<li>simple_format helper doesn&#8216;t choke on nil. 6644 [jerry426]

</li>
<li>Update to Prototype 1.5.0_rc2 [5550] which makes it work in Opera again
[Thomas Fuchs]

</li>
<li>Reuse named route helper module between Routing reloads. Use remove_method
to delete named route methods after each load. Since the module is never
collected, this fixes a significant memory leak. [Nicholas Seckar]

</li>
<li>ActionView::Base.erb_variable accessor names the buffer variable used to
render templates. Defaults to _erbout; use _buf for erubis. [Rick Olson]

</li>
<li>assert_select_rjs :remove. [Dylan Egan]

</li>
<li>Always clear model associations from session. 4795 [sd@notso.net,
andylien@gmail.com]

</li>
<li>Update to Prototype 1.5.0_rc2. [Sam Stephenson]

</li>
<li>Remove JavaScriptLiteral in favor of <a
href="../../../../classes/ActiveSupport/JSON/Variable.html">ActiveSupport::JSON::Variable</a>.
[Sam Stephenson]

</li>
<li>Sync ActionController::StatusCodes::STATUS_CODES with <a
href="http://www.iana.org/assignments/http-status-codes">www.iana.org/assignments/http-status-codes</a>.
6586 [dkubb]

</li>
<li>Multipart form values may have a content type without being treated as
uploaded files if they do not provide a filename. 6401 [Andreas Schwarz,
Jeremy Kemper]

</li>
<li>assert_response supports symbolic status codes. 6569 [Kevin Clark]

<pre>
  assert_response :ok
  assert_response :not_found
  assert_response :forbidden
</pre>
</li>
<li>Cache parsed query parameters. 6559 [Stefan Kaes]

</li>
<li>Deprecate JavaScriptHelper#update_element_function, which is superseeded by
RJS [Thomas Fuchs]

</li>
<li>pluralize helper interprets nil as zero. 6474 [Tim Pope]

</li>
<li>Fix invalid test fixture exposed by stricter Ruby 1.8.5 multipart parsing.
6524 [Bob Silva]

</li>
<li>Set ActionView::Base.default_form_builder once rather than passing the
:builder option to every form or overriding the form helper methods.
[Jeremy Kemper]

</li>
<li>Deprecate expire_matched_fragments. Use expire_fragment instead. 6535 [Bob
Silva]

</li>
<li>Update to latest Prototype, which doesn&#8216;t serialize disabled form
elements, adds clone() to arrays, empty/non-string Element.update() and
adds a fixes excessive error reporting in WebKit beta versions [Thomas
Fuchs]

</li>
<li>Deprecate start_form_tag and end_form_tag. Use form_tag /
&#8217;&lt;/form&gt;&#8217; from now on. [Rick]

</li>
<li>Added block-usage to PrototypeHelper#form_remote_tag, document block-usage
of FormTagHelper#form_tag [Rick]

</li>
<li>Add a 0 margin/padding div around the hidden _method input tag that
form_tag outputs. [Rick]

</li>
<li>Added block-usage to TagHelper#content_tag [DHH]. Example:

<pre>
 &lt;% content_tag :div, :class =&gt; &quot;strong&quot; %&gt;
   Hello world!
 &lt;% end %&gt;
</pre>
<p>
Will output:
</p>
<pre>
  &lt;div class=&quot;strong&quot;&gt;Hello world!&lt;/div&gt;
</pre>
</li>
<li>Deprecated UrlHelper#link_to_image and UrlHelper#link_to :post =&gt; true
6409 [BobSilva]

</li>
<li>Upgraded NumberHelper with number_to_phone support international formats to
comply with ITU E.123 by supporting area codes with less than 3 digits,
added precision argument to number_to_human_size (defaults to 1) 6421
[BobSilva]

</li>
<li>Fixed that setting RAILS_ASSET_ID to &quot;&quot; should not add a trailing
slash after assets 6454 [BobSilva/chrismear]

</li>
<li>Force *_url named routes to show the host in ActionView [Rick]

<p>
&lt;%= url_for &#8230; %&gt; # no host &lt;%= foo_path %&gt; # no host
&lt;%= foo_url %&gt; # host!
</p>
</li>
<li>Add support for converting blocks into function arguments to
JavaScriptGenerator#call and JavaScriptProxy#call. [Sam Stephenson]

</li>
<li>Add JavaScriptGenerator#literal for wrapping a string in an object whose
to_json is the string itself. [Sam Stephenson]

</li>
<li>Add &lt;%= escape_once html %&gt; to escape html while leaving any
currently escaped entities alone. Fix button_to double-escaping issue.
[Rick]

</li>
<li>Fix double-escaped entities, such as &amp;amp;amp;, &amp;amp;123;, etc.
[Rick]

</li>
<li>Fix deprecation warnings when rendering the template error template.
[Nicholas Seckar]

</li>
<li>Fix routing to correctly determine when generation fails. Closes 6300.
[psross].

</li>
<li>Fix broken assert_generates when extra keys are being checked. [Jamis Buck]

</li>
<li>Replace KCODE checks with String#chars for truncate. Closes 6385 [Manfred
Stienstra]

</li>
<li>Make page caching respect the format of the resource that is being
requested even if the current route is the default route so that, e.g.
posts.rss is not transformed by url_for to &#8217;/&#8217; and subsequently
cached as &#8217;/index.html&#8217; when it should be cached as
&#8217;/posts.rss&#8217;. [Marcel Molina Jr.]

</li>
<li>Use String#chars in TextHelper::excerpt. Closes 6386 [Manfred Stienstra]

</li>
<li>Install named routes into <a
href="../../../../classes/ActionView/Base.html">ActionView::Base</a>
instead of proxying them to the view via helper_method. Closes 5932.
[Nicholas Seckar]

</li>
<li>Update to latest Prototype and script.aculo.us trunk versions [Thomas
Fuchs]

</li>
<li>Fix relative URL root matching problems. [Mark Imbriaco]

</li>
<li>Fix filter skipping in controller subclasses. 5949, 6297, 6299 [Martin
Emde]

</li>
<li>render_text may optionally append to the response body. render_javascript
appends by default. This allows you to chain multiple render :update calls
by setting @performed_render = false between them (awaiting a better public
API). [Jeremy Kemper]

</li>
<li>Rename test assertion to prevent shadowing. Closes 6306. [psross]

</li>
<li>Fixed that NumberHelper#number_to_delimiter should respect precision of
higher than two digits 6231 [phallstrom]

</li>
<li>Fixed that FormHelper#radio_button didn&#8216;t respect an :id being passed
in 6266 [evansj]

</li>
<li>Added an html_options hash parameter to javascript_tag() and
update_page_tag() helpers 6311 [tzaharia]. Example:

<pre>
  update_page_tag :defer =&gt; 'true' { |page| ... }
</pre>
<p>
Gives:
</p>
<pre>
  &lt;script defer=&quot;true&quot; type=&quot;text/javascript&quot;&gt;...&lt;/script&gt;
</pre>
<p>
Which is needed for dealing with the IE6 DOM when it&#8216;s not yet fully
loaded.
</p>
</li>
<li>Fixed that rescue template path shouldn&#8216;t be hardcoded, then
it&#8216;s easier to hook in your own 6295 [mnaberez]

</li>
<li>Fixed escaping of backslashes in JavaScriptHelper#escape_javascript 6302
[sven@c3d2.de]

</li>
<li>Fixed that some 500 rescues would cause 500&#8216;s themselves because the
response had not yet been generated 6329 [cmselmer]

</li>
<li>respond_to :html doesn&#8216;t assume .rhtml. 6281 [Hampton Catlin]

</li>
<li>Fixed some deprecation warnings in ActionPack [Rick Olson]

</li>
<li>assert_select_rjs decodes escaped unicode chars since the Javascript
generators encode them. 6240 [japgolly]

</li>
<li>Deprecation: @cookies, @headers, @request, @response will be removed after
1.2. Use the corresponding method instead. [Jeremy Kemper]

</li>
<li>Make the :status parameter expand to the default message for that status
code if it is an integer. Also support symbol statuses. [Jamis Buck].
Examples:

<pre>
  head :status =&gt; 404        # expands to &quot;404 Not Found&quot;
  head :status =&gt; :not_found # expands to &quot;404 Not Found&quot;
  head :status =&gt; :created   # expands to &quot;201 Created&quot;
</pre>
</li>
<li>Add head(options = {}) for responses that have no body. [Jamis Buck].
Examples:

<pre>
  head :status =&gt; 404 # return an empty response with a 404 status
  head :location =&gt; person_path(@person), :status =&gt; 201
</pre>
</li>
<li>Fix bug that kept any before_filter except the first one from being able to
halt the before_filter chain. [Rick Olson]

</li>
<li>strip_links is case-insensitive. 6285 [tagoh, Bob Silva]

</li>
<li>Clear the cache of possible controllers whenever Routes are reloaded.
[Nicholas Seckar]

</li>
<li>Filters overhaul including meantime filter support using around filters +
blocks. 5949 [Martin Emde, Roman Le Negrate, Stefan Kaes, Jeremy Kemper]

</li>
<li>Update RJS render tests. [sam]

</li>
<li>Update CGI process to allow sessions to contain namespaced models. Closes
4638. [dfelstead@site5.com]

</li>
<li>Fix routing to respect user provided requirements and defaults when
assigning default routing options (such as :action =&gt;
&#8216;index&#8217;). Closes 5950. [Nicholas Seckar]

</li>
<li>Rescue Errno::ECONNRESET to handle an unexpectedly closed socket
connection. Improves SCGI reliability. 3368, 6226 [sdsykes,
fhanshaw@vesaria.com]

</li>
<li>Added that respond_to blocks will automatically set the content type to be
the same as is requested [DHH]. Examples:

<pre>
  respond_to do |format|
    format.html { render :text =&gt; &quot;I'm being sent as text/html&quot; }
    format.rss  { render :text =&gt; &quot;I'm being sent as application/rss+xml&quot; }
    format.atom { render :text =&gt; &quot;I'm being sent as application/xml&quot;, :content_type =&gt; Mime::XML }
  end
</pre>
</li>
<li>Added utf-8 as the default charset for all renders. You can change this
default using ActionController::Base.default_charset=(encoding) [DHH]

</li>
<li>Added proper getters and setters for content type and charset [DHH].
Example of what we used to do:

<pre>
  response.headers[&quot;Content-Type&quot;] = &quot;application/atom+xml; charset=utf-8&quot;
</pre>
<p>
&#8230;now:
</p>
<pre>
  response.content_type = Mime::ATOM
  response.charset      = &quot;utf-8&quot;
</pre>
</li>
<li>Updated prototype.js to 1.5.0_rc1 with latest fixes. [Rick Olson]

<ul>
<li>XPATH support

</li>
<li>Make Form.getElements() return elements in the correct order

</li>
<li>fix broken Form.serialize return

</li>
</ul>
</li>
<li>Declare file extensions exempt from layouts. 6219 [brandon]

<pre>
  Example: ActionController::Base.exempt_from_layout 'rpdf'
</pre>
</li>
<li>Add chained replace/update support for assert_select_rjs [Rick Olson]

<pre>
  Given RJS like...

    page['test1'].replace &quot;&lt;div id=\&quot;1\&quot;&gt;foo&lt;/div&gt;&quot;
    page['test2'].replace_html &quot;&lt;div id=\&quot;2\&quot;&gt;foo&lt;/div&gt;&quot;

  Test it with...

    assert_select_rjs :chained_replace
    assert_select_rjs :chained_replace, &quot;test1&quot;

    assert_select_rjs :chained_replace_html
    assert_select_rjs :chained_replace_html, &quot;test2&quot;
</pre>
</li>
<li>Load helpers in alphabetical order for consistency. Resolve cyclic
javascript_helper dependency. 6132, 6178 [choonkeat@gmail.com]

</li>
<li>Skip params with empty names, such as the &amp;=Save query string from
&lt;input type=&quot;submit&quot;/&gt;. 2569 [manfred, raphinou@yahoo.com]

</li>
<li>Fix assert_tag so that :content =&gt; &quot;foo&quot; does not match
substrings, but only exact strings. Use :content =&gt; /foo/ to match
substrings. 2799 [Eric Hodel]

</li>
<li>Add descriptive messages to the exceptions thrown by cgi_methods. 6091,
6103 [Nicholas Seckar, Bob Silva]

</li>
<li>Update JavaScriptGenerator#show/hide/toggle/remove to new Prototype syntax
for multiple ids, 6068 [petermichaux@gmail.com]

</li>
<li>Update UrlWriter to support :only_path. [Nicholas Seckar, Dave Thomas]

</li>
<li>Fixed JavaScriptHelper#link_to_function and
JavaScriptHelper#button_to_function to have the script argument be optional
[DHH]. So what used to require a nil, like this:

<pre>
  link_to(&quot;Hider&quot;, nil, :class =&gt; &quot;hider_link&quot;) { |p| p[:something].hide }
</pre>
<p>
&#8230;can be written like this:
</p>
<pre>
  link_to(&quot;Hider&quot;, :class =&gt; &quot;hider_link&quot;) { |p| p[:something].hide }
</pre>
</li>
<li>Update to script.aculo.us 1.6.3 [Thomas Fuchs]

</li>
<li>Update to Prototype 1.5.0_rc1 [sam]

</li>
<li>Added access to nested attributes in RJS 4548 [richcollins@gmail.com].
Examples:

<pre>
  page['foo']['style']                  # =&gt; $('foo').style;
  page['foo']['style']['color']         # =&gt; $('blank_slate').style.color;
  page['foo']['style']['color'] = 'red' # =&gt; $('blank_slate').style.color = 'red';
  page['foo']['style'].color = 'red'    # =&gt; $('blank_slate').style.color = 'red';
</pre>
</li>
<li>Fixed that AssetTagHelper#image_tag and others using compute_public_path
should not modify the incoming source argument (closes 5102)
[eule@space.ch]

</li>
<li>Deprecated the auto-appending of .png to AssetTagHelper#image_tag calls
that doesn&#8216;t have an extension [DHH]

</li>
<li>Fixed FormOptionsHelper#select to respect :selected value 5813

</li>
<li>Fixed TextHelper#simple_format to deal with multiple single returns within
a single paragraph 5835 [moriq@moriq.com]

</li>
<li>Fixed TextHelper#pluralize to handle 1 as a string 5909
[rails@bencurtis.com]

</li>
<li>Improved resolution of DateHelper#distance_of_time_in_words for better
precision 5994 [Bob Silva]

</li>
<li>Changed that uncaught exceptions raised any where in the application will
cause RAILS_ROOT/public/500.html to be read and shown instead of just the
static &quot;Application error (<a
href="../../../../classes/Rails.html">Rails</a>)&quot; [DHH]

</li>
<li>Integration tests: thoroughly test <a
href="../../../../classes/ActionController/Integration/Session.html">ActionController::Integration::Session</a>.
6022 [Kevin Clark]

<pre>
  (tests skipped unless you `gem install mocha`)
</pre>
</li>
<li>Added deprecation language for pagination which will become a plugin by <a
href="../../../../classes/Rails.html">Rails</a> 2.0 [DHH]

</li>
<li>Added deprecation language for in_place_editor and auto_complete_field that
both pieces will become plugins by <a
href="../../../../classes/Rails.html">Rails</a> 2.0 [DHH]

</li>
<li>Deprecated all of ActionController::Dependencies. All dependency loading is
now handled from Active Support [DHH]

</li>
<li>Added assert_select* for CSS selector-based testing (deprecates assert_tag)
5936 [assaf.arkin@gmail.com]

</li>
<li>radio_button_tag generates unique id attributes. 3353 [Bob Silva,
somekool@gmail.com]

</li>
<li>strip_tags passes through blank args such as nil or &quot;&quot;. 2229,
6702 [duncan@whomwah.com, dharana]

</li>
<li>Cleanup assert_tag :children counting. 2181 [jamie@bravenet.com]

</li>
<li>button_to accepts :method so you can PUT and DELETE with it. 6005 [Dan
Webb]

</li>
<li>Update sanitize text helper to strip plaintext tags, and &lt;img
src=&quot;javascript:bang&quot;&gt;. [Rick Olson]

</li>
<li>Update routing documentation. Closes 6017 [Nathan Witmer]

</li>
<li>Add routing tests to assert that RoutingError is raised when conditions
aren&#8216;t met. Closes 6016 [Nathan Witmer]

</li>
<li>Deprecation: update docs. 5998 [jakob@mentalized.net, Kevin Clark]

</li>
<li>Make auto_link parse a greater subset of valid url formats. [Jamis Buck]

</li>
<li>Integration tests: headers beginning with X aren&#8216;t excluded from the
HTTP_ prefix, so X-Requested-With becomes HTTP_X_REQUESTED_WITH as
expected. [Mike Clark]

</li>
<li>Tighten rescue clauses. 5985 [james@grayproductions.net]

</li>
<li>Fix send_data documentation typo. 5982 [brad@madriska.com]

</li>
<li>Switch to using FormEncodedPairParser for parsing request parameters.
[Nicholas Seckar, DHH]

</li>
<li>respond_to .html now always renders #{action_name}.rhtml so that registered
custom template handlers do not override it in priority. Custom mime types
require a block and throw proper error now. [Tobias Luetke]

</li>
<li>Deprecation: test deprecated instance vars in partials. [Jeremy Kemper]

</li>
<li>Add UrlWriter to allow writing urls from Mailers and scripts. [Nicholas
Seckar]

</li>
<li>Clean up and run the Active Record integration tests by default. 5854
[kevin.clark@gmail.com, Jeremy Kemper]

</li>
<li>Correct example in cookies docs. 5832 [jessemerriman@warpmail.net]

</li>
<li>Updated to script.aculo.us 1.6.2 [Thomas Fuchs]

</li>
<li>Relax Routing&#8216;s anchor pattern warning; it was preventing use of [^/]
inside restrictions. [Nicholas Seckar]

</li>
<li>Add controller_paths variable to Routing. [Nicholas Seckar]

</li>
<li>Fix assert_redirected_to issue with named routes for module controllers.
[Rick Olson]

</li>
<li>Tweak RoutingError message to show option diffs, not just missing named
route significant keys. [Rick Olson]

</li>
<li>Invoke method_missing directly on hidden actions. Closes 3030. [Nicholas
Seckar]

</li>
<li>Require Tempfile explicitly for TestUploadedFile due to changes in class
auto loading. [Rick Olson]

</li>
<li>Add RoutingError exception when RouteSet fails to generate a path from a
Named Route. [Rick Olson]

</li>
<li>Replace Reloadable with Reloadable::Deprecated. [Nicholas Seckar]

</li>
<li>Deprecation: check whether instance variables have been monkeyed with
before assigning them to deprecation proxies. Raises a RuntimeError if so.
[Jeremy Kemper]

</li>
<li>Add support for the param_name parameter to the auto_complete_field helper.
5026 [david.a.williams@gmail.com]

</li>
<li>Deprecation! @params, @session, @flash will be removed after 1.2. Use the
corresponding instance methods instead. You&#8216;ll get printed warnings
during tests and logged warnings in dev mode when you access either
instance variable directly. [Jeremy Kemper]

</li>
<li>Make Routing noisy when an anchor regexp is assigned to a segment. 5674
[francois.beausoleil@gmail.com]

</li>
<li>Added months and years to the resolution of
DateHelper#distance_of_time_in_words, such that &quot;60 days ago&quot;
becomes &quot;2 months ago&quot; 5611 [pjhyett@gmail.com]

</li>
<li>Short documentation to mention use of Mime::Type.register. 5710
[choonkeat@gmail.com]

</li>
<li>Make controller_path available as an instance method. 5724
[jmckible@gmail.com]

</li>
<li>Update query parser to support adjacent hashes. [Nicholas Seckar]

</li>
<li>Make action caching aware of different formats for the same action so that,
e.g. foo.xml is cached separately from foo.html. Implicitly set content
type when reading in cached content with mime revealing extensions so the
entire onous isn&#8216;t on the webserver. [Marcel Molina Jr.]

</li>
<li>Restrict Request Method hacking with ?_method to POST requests. [Rick
Olson]

</li>
<li>Fix bug when passing multiple options to SimplyRestful, like :new =&gt; {
:preview =&gt; :get, :draft =&gt; :get }. [Rick Olson, Josh Susser, Lars
Pind]

</li>
<li>Dup the options passed to map.resources so that multiple resources get the
same options. [Rick Olson]

</li>
<li>Fixed the new_#{resource}_url route and added named route tests for Simply
Restful. [Rick Olson]

</li>
<li>Added map.resources from the Simply Restful plugin [DHH]. Examples (the API
has changed to use plurals!):

<pre>
  map.resources :messages
  map.resources :messages, :comments
  map.resources :messages, :new =&gt; { :preview =&gt; :post }
</pre>
</li>
<li>Fixed that integration simulation of XHRs should set Accept header as well
[Edward Frederick]

</li>
<li>TestRequest#reset_session should restore a TestSession, not a hash [Koz]

</li>
<li>Don&#8216;t search a load-path of &#8217;.&#8217; for controller files
[Jamis Buck]

</li>
<li>Update integration.rb to require test_process explicitly instead of via
Dependencies. [Nicholas Seckar]

</li>
<li>Fixed that you can still access the flash after the flash has been reset in
reset_session. Closes 5584 [lmarlow@yahoo.com]

</li>
<li>Allow form_for and fields_for to work with indexed form inputs. [Jeremy
Kemper, Matt Lyon]

<p>
&lt;% form_for &#8216;post[]&#8217;, @post do |f| -%&gt; &lt;% end -%&gt;
</p>
</li>
<li>Remove leak in development mode by replacing define_method with
module_eval. [Nicholas Seckar]

</li>
<li>Provide support for decimal columns to form helpers. Closes 5672.
[dave@pragprog.com]

</li>
<li>Update documentation for erb trim syntax. 5651 [matt@mattmargolis.net]

</li>
<li>Pass :id =&gt; nil or :class =&gt; nil to error_messages_for to supress
that html attribute. 3586 [olivier_ansaldi@yahoo.com,
sebastien@goetzilla.info]

</li>
<li>Reset @html_document between requests so assert_tag works. 4810
[jarkko@jlaine.net, easleydp@gmail.com]

</li>
<li>Update render :partial documentation. 5646 [matt@mattmargolis.net]

</li>
<li>Integration tests behave well with render_component. 4632
[edward.frederick@revolution.com, dev.rubyonrails@maxdunn.com]

</li>
<li>Added exception handling of missing layouts 5373 [chris@ozmm.org]

</li>
<li>Fixed that real files and symlinks should be treated the same when
compiling templates 5438 [zachary@panandscan.com]

</li>
<li>Fixed that the flash should be reset when reset_session is called 5584
[shugo@ruby-lang.org]

</li>
<li>Added special case for &quot;1 Byte&quot; in
NumberHelper#number_to_human_size 5593 [murpyh@rubychan.de]

</li>
<li>Fixed proper form-encoded parameter parsing for requests with
&quot;Content-Type: application/x-www-form-urlencoded; charset=utf-8&quot;
(note the presence of a charset directive) [DHH]

</li>
<li>Add route_name_path method to generate only the path for a named routes.
For example, map.person will add person_path. [Nicholas Seckar]

</li>
<li>Avoid naming collision among compiled view methods. [Jeremy Kemper]

</li>
<li>Fix CGI extensions when they expect string but get nil in Windows. Closes
5276 [mislav@nippur.irb.hr]

</li>
<li>Determine the correct template_root for deeply nested components. 2841
[s.brink@web.de]

</li>
<li>Fix that routes with *path segments in the recall can generate URLs. [Rick]

</li>
<li>Fix strip_links so that it doesn&#8216;t hang on multiline &lt;acronym&gt;
tags [Jamis Buck]

</li>
<li>Remove problematic control chars in rescue template. 5316 [Stefan Kaes]

</li>
<li>Make sure passed routing options are not mutated by routing code. 5314
[Blair Zajac]

</li>
<li>Make sure changing the controller from foo/bar to bing/bang does not change
relative to foo. [Jamis Buck]

</li>
<li>Escape the path before routing recognition. 3671

</li>
<li>Make sure :id and friends are unescaped properly. 5275 [me@julik.nl]

</li>
<li>Fix documentation for with_routing to reflect new reality. 5281
[rramdas@gmail.com]

</li>
<li>Rewind readable CGI params so others may reread them (such as CGI::Session
when passing the session id in a multipart form). 210 [mklame@atxeu.com,
matthew@walker.wattle.id.au]

</li>
<li>Added Mime::TEXT (text/plain) and Mime::ICS (text/calendar) as new default
types [DHH]

</li>
<li>Added Mime::Type.register(string, symbol, synonyms = []) for adding new
custom mime types [DHH]. Example:
Mime::Type.register(&quot;image/gif&quot;, :gif)

</li>
<li>Added support for <a href="../../../../classes/Mime.html">Mime</a> objects
in render :content_type option [DHH]. Example: render :text =&gt;
some_atom, :content_type =&gt; Mime::ATOM

</li>
<li>Add :status option to send_data and send_file. Defaults to &#8216;200
OK&#8217;. 5243 [Manfred Stienstra &lt;m.stienstra@fngtps.com&gt;]

</li>
<li>Routing rewrite. Simpler, faster, easier to understand. The published API
for config/routes.rb is unchanged, but nearly everything else is different,
so expect breakage in plugins and libs that try to fiddle with routes.
[Nicholas Seckar, Jamis Buck]

<p>
map.connect &#8217;/foo/:id&#8217;, :controller =&gt;
&#8217;&#8230;&#8217;, :action =&gt; &#8217;&#8230;&#8217; map.connect
&#8217;/foo/:id.:format&#8217;, :controller =&gt; &#8217;&#8230;&#8217;,
:action =&gt; &#8217;&#8230;&#8217; map.connect &#8217;/foo/:id&#8217;,
&#8230;, :conditions =&gt; { :method =&gt; :get }
</p>
</li>
<li>Cope with missing content type and length headers. Parse parameters from
multipart and urlencoded request bodies only. [Jeremy Kemper]

</li>
<li>Accept multipart PUT parameters. 5235 [guy.naor@famundo.com]

</li>
<li>Added interrogation of params[:format] to determine Accept type. If :format
is specified and matches a declared extension, like &quot;rss&quot; or
&quot;xml&quot;, that mime type will be put in front of the accept handler.
This means you can link to the same action from different extensions and
use that fact to determine output [DHH]. Example:

<p>
class WeblogController &lt; <a
href="../../../../classes/ActionController/Base.html">ActionController::Base</a>
</p>
<pre>
  def index
    @posts = Post.find :all

    respond_to do |format|
      format.html
      format.xml { render :xml =&gt; @posts.to_xml }
      format.rss { render :action =&gt; &quot;feed.rxml&quot; }
    end
  end
</pre>
<p>
end
</p>
<p>
# returns HTML when requested by a browser, since the browser # has the
HTML mimetype at the top of its priority list Accept: text/html GET /weblog
</p>
<p>
# returns the XML Accept: application/xml GET /weblog
</p>
<p>
# returns the HTML Accept: application/xml GET /weblog.html
</p>
<p>
# returns the XML Accept: text/html GET /weblog.xml
</p>
<p>
All this relies on the fact that you have a route that includes .:format.
</p>
</li>
<li>Expanded :method option in FormTagHelper#form_tag, FormHelper#form_for,
PrototypeHelper#remote_form_for, PrototypeHelper#remote_form_tag, and
PrototypeHelper#link_to_remote to allow for verbs other than GET and POST
by automatically creating a hidden form field named _method, which will
simulate the other verbs over post [DHH]

</li>
<li>Added :method option to UrlHelper#link_to, which allows for using other
verbs than GET for the link. This replaces the :post option, which is now
deprecated. Example: link_to &quot;Destroy&quot;, person_url(:id =&gt;
person), :method =&gt; :delete [DHH]

</li>
<li>follow_redirect doesn&#8216;t complain about being redirected to the same
controller. 5153 [dymo@mk.ukrtelecom.ua]

</li>
<li>Add layout attribute to response object with the name of the layout that
was rendered, or nil if none rendered. [Kevin Clark kevin.clark@gmail.com]

</li>
<li>Fix NoMethodError when parsing params like &amp;&amp;. [Adam Greenfield]

</li>
<li>Fix flip flopped logic in docs for url_for&#8216;s :only_path option.
Closes 4998. [esad@esse.at]

</li>
<li>form.text_area handles the :size option just like the original text_area
(:size =&gt; &#8216;60x10&#8217; becomes cols=&quot;60&quot;
rows=&quot;10&quot;). [Jeremy Kemper]

</li>
<li>Excise ingrown code from FormOptionsHelper#options_for_select. 5008
[anonymous]

</li>
<li>Small fix in routing to allow dynamic routes (broken after [4242]) [Rick]

<pre>
  map.connect '*path', :controller =&gt; 'files', :action =&gt; 'show'
</pre>
</li>
<li>Replace alias method chaining with Module#alias_method_chain. [Marcel
Molina Jr.]

</li>
<li>Replace Ruby&#8216;s deprecated append_features in favor of included.
[Marcel Molina Jr.]

</li>
<li>Use flush between switching from write to syswrite. Closes 4907. [Blair
Zajac &lt;blair@orcaware.com&gt;]

</li>
<li>Documentation fix: integration test scripts don&#8216;t require
integration_test. Closes 4914. [Frederick Ros &lt;sl33p3r@free.fr&gt;]

</li>
<li><a
href="../../../../classes/ActionController/Base.html">ActionController::Base</a>
Summary documentation rewrite. Closes 4900. [kevin.clark@gmail.com]

</li>
<li>Fix text_helper.rb documentation rendering. Closes 4725. [Frederick Ros]

</li>
<li>Fixes bad rendering of JavaScriptMacrosHelper rdoc (closes 4910) [Frederick
Ros]

</li>
<li>Allow error_messages_for to report errors for multiple objects, as well as
support for customizing the name of the object in the error summary header.
Closes 4186. [andrew@redlinesoftware.com, Marcel Molina Jr.]

<p>
error_messages_for :account, :user, :subscription, :object_name =&gt;
:account
</p>
</li>
<li>Enhance documentation for setting headers in integration tests. Skip auto
HTTP prepending when its already there. Closes 4079. [Rick Olson]

</li>
<li>Documentation for AbstractRequest. Closes 4895. [kevin.clark@gmail.com]

</li>
<li>Refactor various InstanceTag instance method to class methods. Closes 4800.
[skaes@web.de]

</li>
<li>Remove all remaining references to @params in the documentation. [Marcel
Molina Jr.]

</li>
<li>Add documentation for redirect_to :back&#8216;s RedirectBackError
exception. [Marcel Molina Jr.]

</li>
<li>Update layout and content_for documentation to use yield rather than magic
@content_for instance variables. [Marcel Molina Jr.]

</li>
<li>Fix assert_redirected_to tests according to real-world usage. Also,
don&#8216;t fail if you add an extra :controller option: [Rick]

<pre>
  redirect_to :action =&gt; 'new'
  assert_redirected_to :controller =&gt; 'monkeys', :action =&gt; 'new'
</pre>
</li>
<li>Cache CgiRequest#request_parameters so that multiple calls don&#8216;t
re-parse multipart data. [Rick]

</li>
<li>Diff compared routing options. Allow assert_recognizes to take a second arg
as a hash to specify optional request method [Rick]

<pre>
  assert_recognizes({:controller =&gt; 'users', :action =&gt; 'index'}, 'users')
  assert_recognizes({:controller =&gt; 'users', :action =&gt; 'create'}, {:path =&gt; 'users', :method =&gt; :post})
</pre>
</li>
<li>Diff compared options with assert_redirected_to [Rick]

</li>
<li>Add support in routes for semicolon delimited &quot;subpaths&quot;, like
/books/:id;:action [Jamis Buck]

</li>
<li>Change link_to_function and button_to_function to (optionally) take an
update_page block instead of a JavaScript string. Closes 4804.
[zraii@comcast.net, Sam Stephenson]

</li>
<li>Fixed that remote_form_for can leave out the object parameter and default
to the instance variable of the object_name, just like form_for [DHH]

</li>
<li>Modify routing so that you can say :require =&gt; { :method =&gt; :post }
for a route, and the route will never be selected unless the request method
is POST. Only works for route recognition, not for route generation. [Jamis
Buck]

</li>
<li>Added :add_headers option to verify which merges a hash of name/value pairs
into the response&#8216;s headers hash if the prerequisites cannot be
satisfied. [Sam Stephenson] ex. verify :only =&gt; :speak, :method =&gt;
:post,

<pre>
           :render =&gt; { :status =&gt; 405, :text =&gt; &quot;Must be post&quot; },
           :add_headers =&gt; { &quot;Allow&quot; =&gt; &quot;POST&quot; }
</pre>
</li>
<li>Added ActionController.filter_parameter_logging that makes it easy to
remove passwords, credit card numbers, and other sensitive information from
being logged when a request is handled 1897 [jeremye@bsa.ca.gov]

</li>
</ul>
<p>
*1.13.3* (March 12th, 2007)
</p>
<ul>
<li>Apply [5709] to stable.

</li>
<li>session_enabled? works with session :off. 6680 [Catfish]

</li>
<li>Performance: patch cgi/session to require digest/md5 once rather than per
create_new_id. [Stefan Kaes]

</li>
</ul>
<p>
*1.13.2* (February 5th, 2007)
</p>
<ul>
<li>Add much-needed html-scanner tests. Fixed CDATA parsing bug. [Rick]

</li>
<li>improve error message for Routing for named routes. [Rob Sanheim]

</li>
<li>Added enhanced docs to routing assertions. [Rob Sanheim]

</li>
<li>fix form_for example in <a
href="../../../../classes/ActionController/Resources.html">ActionController::Resources</a>
documentation. [gnarg]

</li>
<li>Add singleton resources from trunk [Rick Olson]

</li>
<li>select :multiple =&gt; true suffixes the attribute name with [] unless
already suffixed. 6977 [nik.kakelin, ben, julik]

</li>
<li>Improve routes documentation. 7095 [zackchandler]

</li>
<li>Resource member routes require :id, eliminating the ambiguous overlap with
collection routes. 7229 [dkubb]

</li>
<li>Fixed NumberHelper#number_with_delimiter to use &quot;.&quot; always for
splitting the original number, not the delimiter parameter 7389 [ceefour]

</li>
<li>Autolinking recognizes trailing and embedded . , : ; 7354 [Jarkko Laine]

</li>
<li>Make TextHelper::auto_link recognize URLs with colons in path correctly,
fixes 7268. [imajes]

</li>
<li>Improved auto_link to match more valid urls correctly [Tobias Luetke]

</li>
</ul>
<p>
*1.13.1* (January 18th, 2007)
</p>
<ul>
<li>Fixed content-type bug in Prototype [sam]

</li>
</ul>
<p>
*1.13.0* (January 16th, 2007)
</p>
<ul>
<li>Modernize cookie testing code, and increase coverage (Heckle++) 7101 [Kevin
Clark]

</li>
<li>Heckling ActionController::Resources::Resource revealed that set_prefixes
didn&#8216;t break when :name_prefix was munged. 7081 [Kevin Clark]

</li>
<li>Update to Prototype 1.5.0. [Sam Stephenson]

</li>
<li>Allow exempt_from_layout :rhtml. 6742, 7026 [dcmanges, Squeegy]

</li>
<li>Fix parsing of array[] CGI parameters so extra empty values aren&#8216;t
included. 6252 [Nicholas Seckar, aiwilliams, brentrowland]

</li>
<li>link_to_unless_current works with full URLs as well as paths. 6891 [Jarkko
Laine, manfred, idrifter]

</li>
<li>Fix HTML::Node to output double quotes instead of single quotes. Closes
6845 [mitreandy]

</li>
<li>Fix no method error with error_messages_on. Closes 6935 [nik.wakelin Koz]

</li>
<li>Slight doc tweak to the ActionView::Helpers::PrototypeHelper#replace docs.
Closes 6922 [Steven Bristol]

</li>
<li>Slight doc tweak to prepend_filter. Closes 6493 [Jeremy Voorhis]

</li>
<li>Add more extensive documentation to the AssetTagHelper. Closes 6452 [Bob
Silva]

</li>
<li>Clean up multiple calls to stringify_keys in TagHelper, add better
documentation and testing for TagHelper. Closes 6394 [Bob Silva]

</li>
<li>[DOCS] fix reference to ActionController::Macros::AutoComplete for
text_field_with_auto_complete. Closes 2578 [Jan Prill]

</li>
<li>Make sure html_document is reset between integration test requests. [ctm]

</li>
<li>Set session to an empty hash if :new_session =&gt; false and no session
cookie or param is present. CGI::Session was raising an unrescued
ArgumentError. [Josh Susser]

</li>
<li>Fix assert_redirected_to bug where redirecting from a nested to to a
top-level controller incorrectly added the current controller&#8216;s
nesting. Closes 6128. [Rick Olson]

</li>
<li>Ensure render :json =&gt; &#8230; skips the layout. 6808 [Josh Peek]

</li>
<li>Silence log_error deprecation warnings from inspecting deprecated instance
variables. [Nate Wiger]

</li>
<li>Only cache GET requests with a 200 OK response. 6514, 6743 [RSL, anamba]

</li>
<li>Correctly report which filter halted the chain. 6699 [Martin Emde]

</li>
<li>respond_to recognizes JSON. render :json =&gt; @person.to_json
automatically sets the content type and takes a :callback option to specify
a client-side function to call using the rendered JSON as an argument. 4185
[Scott Raymond, eventualbuddha]

<pre>
  # application/json response with body 'Element.show({:name: &quot;David&quot;})'
  respond_to do |format|
    format.json { render :json =&gt; { :name =&gt; &quot;David&quot; }.to_json, :callback =&gt; 'Element.show' }
  end
</pre>
</li>
<li>Makes :discard_year work without breaking multi-attribute parsing in AR.
1260, 3800 [sean@ardismg.com, jmartin@desertflood.com, stephen@touset.org,
Bob Silva]

</li>
<li>Adds html id attribute to date helper elements. 1050, 1382
[mortonda@dgrmm.net, David North, Bob Silva]

</li>
<li>Add :index and @auto_index capability to model driven date/time selects.
847, 2655 [moriq, Doug Fales, Bob Silva]

</li>
<li>Add :order to datetime_select, select_datetime, and select_date. 1427
[Timothee Peignier, patrick@lenz.sh, Bob Silva]

</li>
<li>Added time_select to work with time values in models. Update scaffolding.
2489, 2833 [Justin Palmer, Andre Caum, Bob Silva]

</li>
<li>Added :include_seconds to select_datetime, datetime_select and time_select.
2998 [csn, Bob Silva]

</li>
<li>All date/datetime selects can now accept an array of month names with
:use_month_names. Allows for localization. 363 [tomasj, Bob Silva]

</li>
<li>Adds :time_separator to select_time and :date_separator to select_datetime.
Preserves BC. 3811 [Bob Silva]

</li>
<li>@response.redirect_url works with 201 Created responses: just return
headers[&#8216;Location&#8217;] rather than checking the response status.
[Jeremy Kemper]

</li>
<li>Fixed that HEAD should return the proper Content-Length header (that is,
actually use @body.size, not just 0) [DHH]

</li>
<li>Added GET-masquarading for HEAD, so request.method will return :get even
for HEADs. This will help anyone relying on case request.method to
automatically work with HEAD and map.resources will also allow HEADs to all
GET actions. <a href="../../../../classes/Rails.html">Rails</a>
automatically throws away the response content in a reply to HEAD, so you
don&#8216;t even need to worry about that. If you, for whatever reason,
still need to distinguish between GET and HEAD in some edge case, you can
use Request#head? and even Request.headers[&quot;REQUEST_METHOD&quot;] for
get the &quot;real&quot; answer. Closes 6694 [DHH]

</li>
</ul>
<p>
*1.13.0 RC1* (r5619, November 22nd, 2006)
</p>
<ul>
<li>Update Routing to complain when :controller is not specified by a route.
Closes 6669. [Nicholas Seckar]

</li>
<li>Ensure render_to_string cleans up after itself when an exception is raised.
6658 [rsanheim]

</li>
<li>Update to Prototype and script.aculo.us [5579]. [Sam Stephenson, Thomas
Fuchs]

</li>
<li>simple_format helper doesn&#8216;t choke on nil. 6644 [jerry426]

</li>
<li>Reuse named route helper module between Routing reloads. Use remove_method
to delete named route methods after each load. Since the module is never
collected, this fixes a significant memory leak. [Nicholas Seckar]

</li>
<li>Deprecate standalone components. [Jeremy Kemper]

</li>
<li>Always clear model associations from session. 4795 [sd@notso.net,
andylien@gmail.com]

</li>
<li>Remove JavaScriptLiteral in favor of <a
href="../../../../classes/ActiveSupport/JSON/Variable.html">ActiveSupport::JSON::Variable</a>.
[Sam Stephenson]

</li>
<li>Sync ActionController::StatusCodes::STATUS_CODES with <a
href="http://www.iana.org/assignments/http-status-codes">www.iana.org/assignments/http-status-codes</a>.
6586 [dkubb]

</li>
<li>Multipart form values may have a content type without being treated as
uploaded files if they do not provide a filename. 6401 [Andreas Schwarz,
Jeremy Kemper]

</li>
<li>assert_response supports symbolic status codes. 6569 [Kevin Clark]

<pre>
  assert_response :ok
  assert_response :not_found
  assert_response :forbidden
</pre>
</li>
<li>Cache parsed query parameters. 6559 [Stefan Kaes]

</li>
<li>Deprecate JavaScriptHelper#update_element_function, which is superseeded by
RJS [Thomas Fuchs]

</li>
<li>Fix invalid test fixture exposed by stricter Ruby 1.8.5 multipart parsing.
6524 [Bob Silva]

</li>
<li>Set ActionView::Base.default_form_builder once rather than passing the
:builder option to every form or overriding the form helper methods.
[Jeremy Kemper]

</li>
<li>Deprecate expire_matched_fragments. Use expire_fragment instead. 6535 [Bob
Silva]

</li>
<li>Deprecate start_form_tag and end_form_tag. Use form_tag /
&#8217;&lt;/form&gt;&#8217; from now on. [Rick]

</li>
<li>Added block-usage to PrototypeHelper#form_remote_tag, document block-usage
of FormTagHelper#form_tag [Rick]

</li>
<li>Add a 0 margin/padding div around the hidden _method input tag that
form_tag outputs. [Rick]

</li>
<li>Added block-usage to TagHelper#content_tag [DHH]. Example:

<pre>
 &lt;% content_tag :div, :class =&gt; &quot;strong&quot; %&gt;
   Hello world!
 &lt;% end %&gt;
</pre>
<p>
Will output:
</p>
<pre>
  &lt;div class=&quot;strong&quot;&gt;Hello world!&lt;/div&gt;
</pre>
</li>
<li>Deprecated UrlHelper#link_to_image and UrlHelper#link_to :post =&gt; true
6409 [BobSilva]

</li>
<li>Upgraded NumberHelper with number_to_phone support international formats to
comply with ITU E.123 by supporting area codes with less than 3 digits,
added precision argument to number_to_human_size (defaults to 1) 6421
[BobSilva]

</li>
<li>Fixed that setting RAILS_ASSET_ID to &quot;&quot; should not add a trailing
slash after assets 6454 [BobSilva/chrismear]

</li>
<li>Force *_url named routes to show the host in ActionView [Rick]

<p>
&lt;%= url_for &#8230; %&gt; # no host &lt;%= foo_path %&gt; # no host
&lt;%= foo_url %&gt; # host!
</p>
</li>
<li>Add support for converting blocks into function arguments to
JavaScriptGenerator#call and JavaScriptProxy#call. [Sam Stephenson]

</li>
<li>Add JavaScriptGenerator#literal for wrapping a string in an object whose
to_json is the string itself. [Sam Stephenson]

</li>
<li>Add &lt;%= escape_once html %&gt; to escape html while leaving any
currently escaped entities alone. Fix button_to double-escaping issue.
[Rick]

</li>
<li>Fix double-escaped entities, such as &amp;amp;amp;, &amp;amp;123;, etc.
[Rick]

</li>
<li>Fix routing to correctly determine when generation fails. Closes 6300.
[psross].

</li>
<li>Fix broken assert_generates when extra keys are being checked. [Jamis Buck]

</li>
<li>Replace KCODE checks with String#chars for truncate. Closes 6385 [Manfred
Stienstra]

</li>
<li>Make page caching respect the format of the resource that is being
requested even if the current route is the default route so that, e.g.
posts.rss is not transformed by url_for to &#8217;/&#8217; and subsequently
cached as &#8217;/index.html&#8217; when it should be cached as
&#8217;/posts.rss&#8217;. [Marcel Molina Jr.]

</li>
<li>Use String#chars in TextHelper::excerpt. Closes 6386 [Manfred Stienstra]

</li>
<li>Fix relative URL root matching problems. [Mark Imbriaco]

</li>
<li>Fix filter skipping in controller subclasses. 5949, 6297, 6299 [Martin
Emde]

</li>
<li>render_text may optionally append to the response body. render_javascript
appends by default. This allows you to chain multiple render :update calls
by setting @performed_render = false between them (awaiting a better public
API). [Jeremy Kemper]

</li>
<li>Rename test assertion to prevent shadowing. Closes 6306. [psross]

</li>
<li>Fixed that NumberHelper#number_to_delimiter should respect precision of
higher than two digits 6231 [phallstrom]

</li>
<li>Fixed that FormHelper#radio_button didn&#8216;t respect an :id being passed
in 6266 [evansj]

</li>
<li>Added an html_options hash parameter to javascript_tag() and
update_page_tag() helpers 6311 [tzaharia]. Example:

<pre>
  update_page_tag :defer =&gt; 'true' { |page| ... }
</pre>
<p>
Gives:
</p>
<pre>
  &lt;script defer=&quot;true&quot; type=&quot;text/javascript&quot;&gt;...&lt;/script&gt;
</pre>
<p>
Which is needed for dealing with the IE6 DOM when it&#8216;s not yet fully
loaded.
</p>
</li>
<li>Fixed that rescue template path shouldn&#8216;t be hardcoded, then
it&#8216;s easier to hook in your own 6295 [mnaberez]

</li>
<li>Fixed escaping of backslashes in JavaScriptHelper#escape_javascript 6302
[sven@c3d2.de]

</li>
<li>Fixed that some 500 rescues would cause 500&#8216;s themselves because the
response had not yet been generated 6329 [cmselmer]

</li>
<li>respond_to :html doesn&#8216;t assume .rhtml. 6281 [Hampton Catlin]

</li>
<li>Fixed some deprecation warnings in ActionPack [Rick Olson]

</li>
<li>assert_select_rjs decodes escaped unicode chars since the Javascript
generators encode them. 6240 [japgolly]

</li>
<li>Deprecation: @cookies, @headers, @request, @response will be removed after
1.2. Use the corresponding method instead. [Jeremy Kemper]

</li>
<li>Make the :status parameter expand to the default message for that status
code if it is an integer. Also support symbol statuses. [Jamis Buck].
Examples:

<pre>
  head :status =&gt; 404        # expands to &quot;404 Not Found&quot;
  head :status =&gt; :not_found # expands to &quot;404 Not Found&quot;
  head :status =&gt; :created   # expands to &quot;201 Created&quot;
</pre>
</li>
<li>Add head(options = {}) for responses that have no body. [Jamis Buck].
Examples:

<pre>
  head :status =&gt; 404 # return an empty response with a 404 status
  head :location =&gt; person_path(@person), :status =&gt; 201
</pre>
</li>
<li>Fix bug that kept any before_filter except the first one from being able to
halt the before_filter chain. [Rick Olson]

</li>
<li>strip_links is case-insensitive. 6285 [tagoh, Bob Silva]

</li>
<li>Clear the cache of possible controllers whenever Routes are reloaded.
[Nicholas Seckar]

</li>
<li>Filters overhaul including meantime filter support using around filters +
blocks. 5949 [Martin Emde, Roman Le Negrate, Stefan Kaes, Jeremy Kemper]

</li>
<li>Update CGI process to allow sessions to contain namespaced models. Closes
4638. [dfelstead@site5.com]

</li>
<li>Fix routing to respect user provided requirements and defaults when
assigning default routing options (such as :action =&gt;
&#8216;index&#8217;). Closes 5950. [Nicholas Seckar]

</li>
<li>Rescue Errno::ECONNRESET to handle an unexpectedly closed socket
connection. Improves SCGI reliability. 3368, 6226 [sdsykes,
fhanshaw@vesaria.com]

</li>
<li>Added that respond_to blocks will automatically set the content type to be
the same as is requested [DHH]. Examples:

<pre>
  respond_to do |format|
    format.html { render :text =&gt; &quot;I'm being sent as text/html&quot; }
    format.rss  { render :text =&gt; &quot;I'm being sent as application/rss+xml&quot; }
    format.atom { render :text =&gt; &quot;I'm being sent as application/xml&quot;, :content_type =&gt; Mime::XML }
  end
</pre>
</li>
<li>Added utf-8 as the default charset for all renders. You can change this
default using ActionController::Base.default_charset=(encoding) [DHH]

</li>
<li>Added proper getters and setters for content type and charset [DHH].
Example of what we used to do:

<pre>
  response.headers[&quot;Content-Type&quot;] = &quot;application/atom+xml; charset=utf-8&quot;
</pre>
<p>
&#8230;now:
</p>
<pre>
  response.content_type = Mime::ATOM
  response.charset      = &quot;utf-8&quot;
</pre>
</li>
<li>Declare file extensions exempt from layouts. 6219 [brandon]

<pre>
  Example: ActionController::Base.exempt_from_layout 'rpdf'
</pre>
</li>
<li>Add chained replace/update support for assert_select_rjs [Rick Olson]

<pre>
  Given RJS like...

    page['test1'].replace &quot;&lt;div id=\&quot;1\&quot;&gt;foo&lt;/div&gt;&quot;
    page['test2'].replace_html &quot;&lt;div id=\&quot;2\&quot;&gt;foo&lt;/div&gt;&quot;

  Test it with...

    assert_select_rjs :chained_replace
    assert_select_rjs :chained_replace, &quot;test1&quot;

    assert_select_rjs :chained_replace_html
    assert_select_rjs :chained_replace_html, &quot;test2&quot;
</pre>
</li>
<li>Load helpers in alphabetical order for consistency. Resolve cyclic
javascript_helper dependency. 6132, 6178 [choonkeat@gmail.com]

</li>
<li>Skip params with empty names, such as the &amp;=Save query string from
&lt;input type=&quot;submit&quot;/&gt;. 2569 [manfred, raphinou@yahoo.com]

</li>
<li>Fix assert_tag so that :content =&gt; &quot;foo&quot; does not match
substrings, but only exact strings. Use :content =&gt; /foo/ to match
substrings. 2799 [Eric Hodel]

</li>
<li>Update JavaScriptGenerator#show/hide/toggle/remove to new Prototype syntax
for multiple ids, 6068 [petermichaux@gmail.com]

</li>
<li>Update UrlWriter to support :only_path. [Nicholas Seckar, Dave Thomas]

</li>
<li>Fixed JavaScriptHelper#link_to_function and
JavaScriptHelper#button_to_function to have the script argument be optional
[DHH]. So what used to require a nil, like this:

<pre>
  link_to(&quot;Hider&quot;, nil, :class =&gt; &quot;hider_link&quot;) { |p| p[:something].hide }
</pre>
<p>
&#8230;can be written like this:
</p>
<pre>
  link_to(&quot;Hider&quot;, :class =&gt; &quot;hider_link&quot;) { |p| p[:something].hide }
</pre>
</li>
<li>Added access to nested attributes in RJS 4548 [richcollins@gmail.com].
Examples:

<pre>
  page['foo']['style']                  # =&gt; $('foo').style;
  page['foo']['style']['color']         # =&gt; $('blank_slate').style.color;
  page['foo']['style']['color'] = 'red' # =&gt; $('blank_slate').style.color = 'red';
  page['foo']['style'].color = 'red'    # =&gt; $('blank_slate').style.color = 'red';
</pre>
</li>
<li>Fixed that AssetTagHelper#image_tag and others using compute_public_path
should not modify the incoming source argument (closes 5102)
[eule@space.ch]

</li>
<li>Deprecated the auto-appending of .png to AssetTagHelper#image_tag calls
that doesn&#8216;t have an extension [DHH]

</li>
<li>Fixed FormOptionsHelper#select to respect :selected value 5813

</li>
<li>Fixed TextHelper#simple_format to deal with multiple single returns within
a single paragraph 5835 [moriq@moriq.com]

</li>
<li>Fixed TextHelper#pluralize to handle 1 as a string 5909
[rails@bencurtis.com]

</li>
<li>Improved resolution of DateHelper#distance_of_time_in_words for better
precision 5994 [Bob Silva]

</li>
<li>Changed that uncaught exceptions raised any where in the application will
cause RAILS_ROOT/public/500.html to be read and shown instead of just the
static &quot;Application error (<a
href="../../../../classes/Rails.html">Rails</a>)&quot; [DHH]

</li>
<li>Added deprecation language for pagination which will become a plugin by <a
href="../../../../classes/Rails.html">Rails</a> 2.0 [DHH]

</li>
<li>Added deprecation language for in_place_editor and auto_complete_field that
both pieces will become plugins by <a
href="../../../../classes/Rails.html">Rails</a> 2.0 [DHH]

</li>
<li>Deprecated all of ActionController::Dependencies. All dependency loading is
now handled from Active Support [DHH]

</li>
<li>Added assert_select* for CSS selector-based testing (deprecates assert_tag)
5936 [assaf.arkin@gmail.com]

</li>
<li>radio_button_tag generates unique id attributes. 3353 [Bob Silva,
somekool@gmail.com]

</li>
<li>strip_tags passes through blank args such as nil or &quot;&quot;. 2229,
6702 [duncan@whomwah.com, dharana]

</li>
<li>Cleanup assert_tag :children counting. 2181 [jamie@bravenet.com]

</li>
<li>button_to accepts :method so you can PUT and DELETE with it. 6005 [Dan
Webb]

</li>
<li>Update sanitize text helper to strip plaintext tags, and &lt;img
src=&quot;javascript:bang&quot;&gt;. [Rick Olson]

</li>
<li>Add routing tests to assert that RoutingError is raised when conditions
aren&#8216;t met. Closes 6016 [Nathan Witmer]

</li>
<li>Make auto_link parse a greater subset of valid url formats. [Jamis Buck]

</li>
<li>Integration tests: headers beginning with X aren&#8216;t excluded from the
HTTP_ prefix, so X-Requested-With becomes HTTP_X_REQUESTED_WITH as
expected. [Mike Clark]

</li>
<li>Switch to using FormEncodedPairParser for parsing request parameters.
[Nicholas Seckar, DHH]

</li>
<li>respond_to .html now always renders #{action_name}.rhtml so that registered
custom template handlers do not override it in priority. Custom mime types
require a block and throw proper error now. [Tobias Luetke]

</li>
<li>Deprecation: test deprecated instance vars in partials. [Jeremy Kemper]

</li>
<li>Add UrlWriter to allow writing urls from Mailers and scripts. [Nicholas
Seckar]

</li>
<li>Relax Routing&#8216;s anchor pattern warning; it was preventing use of [^/]
inside restrictions. [Nicholas Seckar]

</li>
<li>Add controller_paths variable to Routing. [Nicholas Seckar]

</li>
<li>Fix assert_redirected_to issue with named routes for module controllers.
[Rick Olson]

</li>
<li>Tweak RoutingError message to show option diffs, not just missing named
route significant keys. [Rick Olson]

</li>
<li>Invoke method_missing directly on hidden actions. Closes 3030. [Nicholas
Seckar]

</li>
<li>Add RoutingError exception when RouteSet fails to generate a path from a
Named Route. [Rick Olson]

</li>
<li>Replace Reloadable with Reloadable::Deprecated. [Nicholas Seckar]

</li>
<li>Deprecation: check whether instance variables have been monkeyed with
before assigning them to deprecation proxies. Raises a RuntimeError if so.
[Jeremy Kemper]

</li>
<li>Add support for the param_name parameter to the auto_complete_field helper.
5026 [david.a.williams@gmail.com]

</li>
<li>Deprecation! @params, @session, @flash will be removed after 1.2. Use the
corresponding instance methods instead. You&#8216;ll get printed warnings
during tests and logged warnings in dev mode when you access either
instance variable directly. [Jeremy Kemper]

</li>
<li>Make Routing noisy when an anchor regexp is assigned to a segment. 5674
[francois.beausoleil@gmail.com]

</li>
<li>Added months and years to the resolution of
DateHelper#distance_of_time_in_words, such that &quot;60 days ago&quot;
becomes &quot;2 months ago&quot; 5611 [pjhyett@gmail.com]

</li>
<li>Make controller_path available as an instance method. 5724
[jmckible@gmail.com]

</li>
<li>Update query parser to support adjacent hashes. [Nicholas Seckar]

</li>
<li>Make action caching aware of different formats for the same action so that,
e.g. foo.xml is cached separately from foo.html. Implicitly set content
type when reading in cached content with mime revealing extensions so the
entire onous isn&#8216;t on the webserver. [Marcel Molina Jr.]

</li>
<li>Restrict Request Method hacking with ?_method to POST requests. [Rick
Olson]

</li>
<li>Fixed the new_#{resource}_url route and added named route tests for Simply
Restful. [Rick Olson]

</li>
<li>Added map.resources from the Simply Restful plugin [DHH]. Examples (the API
has changed to use plurals!):

<pre>
  map.resources :messages
  map.resources :messages, :comments
  map.resources :messages, :new =&gt; { :preview =&gt; :post }
</pre>
</li>
<li>Fixed that integration simulation of XHRs should set Accept header as well
[Edward Frederick]

</li>
<li>TestRequest#reset_session should restore a TestSession, not a hash [Koz]

</li>
<li>Don&#8216;t search a load-path of &#8217;.&#8217; for controller files
[Jamis Buck]

</li>
<li>Update integration.rb to require test_process explicitly instead of via
Dependencies. [Nicholas Seckar]

</li>
<li>Fixed that you can still access the flash after the flash has been reset in
reset_session. Closes 5584 [lmarlow@yahoo.com]

</li>
<li>Allow form_for and fields_for to work with indexed form inputs. [Jeremy
Kemper, Matt Lyon]

<p>
&lt;% form_for &#8216;post[]&#8217;, @post do |f| -%&gt; &lt;% end -%&gt;
</p>
</li>
<li>Remove leak in development mode by replacing define_method with
module_eval. [Nicholas Seckar]

</li>
<li>Provide support for decimal columns to form helpers. Closes 5672.
[dave@pragprog.com]

</li>
<li>Pass :id =&gt; nil or :class =&gt; nil to error_messages_for to supress
that html attribute. 3586 [olivier_ansaldi@yahoo.com,
sebastien@goetzilla.info]

</li>
<li>Reset @html_document between requests so assert_tag works. 4810
[jarkko@jlaine.net, easleydp@gmail.com]

</li>
<li>Integration tests behave well with render_component. 4632
[edward.frederick@revolution.com, dev.rubyonrails@maxdunn.com]

</li>
<li>Added exception handling of missing layouts 5373 [chris@ozmm.org]

</li>
<li>Fixed that real files and symlinks should be treated the same when
compiling templates 5438 [zachary@panandscan.com]

</li>
<li>Fixed that the flash should be reset when reset_session is called 5584
[shugo@ruby-lang.org]

</li>
<li>Added special case for &quot;1 Byte&quot; in
NumberHelper#number_to_human_size 5593 [murpyh@rubychan.de]

</li>
<li>Fixed proper form-encoded parameter parsing for requests with
&quot;Content-Type: application/x-www-form-urlencoded; charset=utf-8&quot;
(note the presence of a charset directive) [DHH]

</li>
<li>Add route_name_path method to generate only the path for a named routes.
For example, map.person will add person_path. [Nicholas Seckar]

</li>
<li>Avoid naming collision among compiled view methods. [Jeremy Kemper]

</li>
<li>Fix CGI extensions when they expect string but get nil in Windows. Closes
5276 [mislav@nippur.irb.hr]

</li>
<li>Determine the correct template_root for deeply nested components. 2841
[s.brink@web.de]

</li>
<li>Fix that routes with *path segments in the recall can generate URLs. [Rick]

</li>
<li>Fix strip_links so that it doesn&#8216;t hang on multiline &lt;acronym&gt;
tags [Jamis Buck]

</li>
<li>Remove problematic control chars in rescue template. 5316 [Stefan Kaes]

</li>
<li>Make sure passed routing options are not mutated by routing code. 5314
[Blair Zajac]

</li>
<li>Make sure changing the controller from foo/bar to bing/bang does not change
relative to foo. [Jamis Buck]

</li>
<li>Escape the path before routing recognition. 3671

</li>
<li>Make sure :id and friends are unescaped properly. 5275 [me@julik.nl]

</li>
<li>Rewind readable CGI params so others may reread them (such as CGI::Session
when passing the session id in a multipart form). 210 [mklame@atxeu.com,
matthew@walker.wattle.id.au]

</li>
<li>Added Mime::TEXT (text/plain) and Mime::ICS (text/calendar) as new default
types [DHH]

</li>
<li>Added Mime::Type.register(string, symbol, synonyms = []) for adding new
custom mime types [DHH]. Example:
Mime::Type.register(&quot;image/gif&quot;, :gif)

</li>
<li>Added support for <a href="../../../../classes/Mime.html">Mime</a> objects
in render :content_type option [DHH]. Example: render :text =&gt;
some_atom, :content_type =&gt; Mime::ATOM

</li>
<li>Add :status option to send_data and send_file. Defaults to &#8216;200
OK&#8217;. 5243 [Manfred Stienstra &lt;m.stienstra@fngtps.com&gt;]

</li>
<li>Routing rewrite. Simpler, faster, easier to understand. The published API
for config/routes.rb is unchanged, but nearly everything else is different,
so expect breakage in plugins and libs that try to fiddle with routes.
[Nicholas Seckar, Jamis Buck]

<p>
map.connect &#8217;/foo/:id&#8217;, :controller =&gt;
&#8217;&#8230;&#8217;, :action =&gt; &#8217;&#8230;&#8217; map.connect
&#8217;/foo/:id.:format&#8217;, :controller =&gt; &#8217;&#8230;&#8217;,
:action =&gt; &#8217;&#8230;&#8217; map.connect &#8217;/foo/:id&#8217;,
&#8230;, :conditions =&gt; { :method =&gt; :get }
</p>
</li>
<li>Cope with missing content type and length headers. Parse parameters from
multipart and urlencoded request bodies only. [Jeremy Kemper]

</li>
<li>Accept multipart PUT parameters. 5235 [guy.naor@famundo.com]

</li>
<li>Added interrogation of params[:format] to determine Accept type. If :format
is specified and matches a declared extension, like &quot;rss&quot; or
&quot;xml&quot;, that mime type will be put in front of the accept handler.
This means you can link to the same action from different extensions and
use that fact to determine output [DHH]. Example:

<p>
class WeblogController &lt; <a
href="../../../../classes/ActionController/Base.html">ActionController::Base</a>
</p>
<pre>
  def index
    @posts = Post.find :all

    respond_to do |format|
      format.html
      format.xml { render :xml =&gt; @posts.to_xml }
      format.rss { render :action =&gt; &quot;feed.rxml&quot; }
    end
  end
</pre>
<p>
end
</p>
<p>
# returns HTML when requested by a browser, since the browser # has the
HTML mimetype at the top of its priority list Accept: text/html GET /weblog
</p>
<p>
# returns the XML Accept: application/xml GET /weblog
</p>
<p>
# returns the HTML Accept: application/xml GET /weblog.html
</p>
<p>
# returns the XML Accept: text/html GET /weblog.xml
</p>
<p>
All this relies on the fact that you have a route that includes .:format.
</p>
</li>
<li>Expanded :method option in FormTagHelper#form_tag, FormHelper#form_for,
PrototypeHelper#remote_form_for, PrototypeHelper#remote_form_tag, and
PrototypeHelper#link_to_remote to allow for verbs other than GET and POST
by automatically creating a hidden form field named _method, which will
simulate the other verbs over post [DHH]

</li>
<li>Added :method option to UrlHelper#link_to, which allows for using other
verbs than GET for the link. This replaces the :post option, which is now
deprecated. Example: link_to &quot;Destroy&quot;, person_url(:id =&gt;
person), :method =&gt; :delete [DHH]

</li>
<li>follow_redirect doesn&#8216;t complain about being redirected to the same
controller. 5153 [dymo@mk.ukrtelecom.ua]

</li>
<li>Add layout attribute to response object with the name of the layout that
was rendered, or nil if none rendered. [Kevin Clark kevin.clark@gmail.com]

</li>
<li>Fix NoMethodError when parsing params like &amp;&amp;. [Adam Greenfield]

</li>
<li>form.text_area handles the :size option just like the original text_area
(:size =&gt; &#8216;60x10&#8217; becomes cols=&quot;60&quot;
rows=&quot;10&quot;). [Jeremy Kemper]

</li>
<li>Excise ingrown code from FormOptionsHelper#options_for_select. 5008
[anonymous]

</li>
<li>Small fix in routing to allow dynamic routes (broken after [4242]) [Rick]

<pre>
  map.connect '*path', :controller =&gt; 'files', :action =&gt; 'show'
</pre>
</li>
<li>Use flush between switching from write to syswrite. Closes 4907. [Blair
Zajac &lt;blair@orcaware.com&gt;]

</li>
<li>Allow error_messages_for to report errors for multiple objects, as well as
support for customizing the name of the object in the error summary header.
Closes 4186. [andrew@redlinesoftware.com, Marcel Molina Jr.]

<p>
error_messages_for :account, :user, :subscription, :object_name =&gt;
:account
</p>
</li>
<li>Fix assert_redirected_to tests according to real-world usage. Also,
don&#8216;t fail if you add an extra :controller option: [Rick]

<pre>
  redirect_to :action =&gt; 'new'
  assert_redirected_to :controller =&gt; 'monkeys', :action =&gt; 'new'
</pre>
</li>
<li>Diff compared routing options. Allow assert_recognizes to take a second arg
as a hash to specify optional request method [Rick]

<pre>
  assert_recognizes({:controller =&gt; 'users', :action =&gt; 'index'}, 'users')
  assert_recognizes({:controller =&gt; 'users', :action =&gt; 'create'}, {:path =&gt; 'users', :method =&gt; :post})
</pre>
</li>
<li>Diff compared options with assert_redirected_to [Rick]

</li>
<li>Add support in routes for semicolon delimited &quot;subpaths&quot;, like
/books/:id;:action [Jamis Buck]

</li>
<li>Change link_to_function and button_to_function to (optionally) take an
update_page block instead of a JavaScript string. Closes 4804.
[zraii@comcast.net, Sam Stephenson]

</li>
<li>Modify routing so that you can say :require =&gt; { :method =&gt; :post }
for a route, and the route will never be selected unless the request method
is POST. Only works for route recognition, not for route generation. [Jamis
Buck]

</li>
<li>Added :add_headers option to verify which merges a hash of name/value pairs
into the response&#8216;s headers hash if the prerequisites cannot be
satisfied. [Sam Stephenson] ex. verify :only =&gt; :speak, :method =&gt;
:post,

<pre>
           :render =&gt; { :status =&gt; 405, :text =&gt; &quot;Must be post&quot; },
           :add_headers =&gt; { &quot;Allow&quot; =&gt; &quot;POST&quot; }
</pre>
</li>
</ul>
<p>
*1.12.5* (August 10th, 2006)
</p>
<ul>
<li>Updated security fix

</li>
</ul>
<p>
*1.12.4* (August 8th, 2006)
</p>
<ul>
<li>Cache CgiRequest#request_parameters so that multiple calls don&#8216;t
re-parse multipart data. [Rick]

</li>
<li>Fixed that remote_form_for can leave out the object parameter and default
to the instance variable of the object_name, just like form_for [DHH]

</li>
<li>Added ActionController.filter_parameter_logging that makes it easy to
remove passwords, credit card numbers, and other sensitive information from
being logged when a request is handled. 1897 [jeremye@bsa.ca.gov]

</li>
<li>Fixed that real files and symlinks should be treated the same when
compiling templates. 5438 [zachary@panandscan.com]

</li>
<li>Add :status option to send_data and send_file. Defaults to &#8216;200
OK&#8217;. 5243 [Manfred Stienstra &lt;m.stienstra@fngtps.com&gt;]

</li>
<li>Update documentation for erb trim syntax. 5651 [matt@mattmargolis.net]

</li>
<li>Short documentation to mention use of Mime::Type.register. 5710
[choonkeat@gmail.com]

</li>
</ul>
<p>
*1.12.3* (June 28th, 2006)
</p>
<ul>
<li>Fix broken traverse_to_controller. We now: Look for a _controller.rb file
under RAILS_ROOT to load. If we find it, we require_dependency it and
return the controller it defined. (If none was defined we stop looking.) If
we don&#8216;t find it, we look for a .rb file under RAILS_ROOT to load. If
we find it, and it loads a constant we keep looking. Otherwise we check to
see if a directory of the same name exists, and if it does we create a
module for it.

</li>
</ul>
<p>
*1.12.2* (June 27th, 2006)
</p>
<ul>
<li>Refinement to avoid exceptions in traverse_to_controller.

</li>
<li>(Hackish) Fix loading of arbitrary files in Ruby&#8216;s load path by
traverse_to_controller. [Nicholas Seckar]

</li>
</ul>
<p>
*1.12.1* (April 6th, 2006)
</p>
<ul>
<li>Fixed that template extensions would be cached development mode 4624
[Stefan Kaes]

</li>
<li>Update to Prototype 1.5.0_rc0 [Sam Stephenson]

</li>
<li>Honor skipping filters conditionally for only certain actions even when the
parent class sets that filter to conditionally be executed only for the
same actions. 4522 [Marcel Molina Jr.]

</li>
<li>Delegate xml_http_request in integration tests to the session instance.
[Jamis Buck]

</li>
<li>Update the diagnostics template skip the useless &#8217;&lt;controller not
set&gt;&#8217; text. [Nicholas Seckar]

</li>
<li>CHANGED DEFAULT: Don&#8216;t parse YAML input by default, but keep it
available as an easy option [DHH]

</li>
<li>Add additional autocompleter options [aballai, Thomas Fuchs]

</li>
<li>Fixed fragment caching of binary data on Windows 4493
[bellis@deepthought.org]

</li>
<li>Applied Prototype $() performance patches (4465, 4477) and updated
script.aculo.us [Sam Stephenson, Thomas Fuchs]

</li>
<li>Added automated timestamping to AssetTagHelper methods for stylesheets,
javascripts, and images when Action Controller is run under <a
href="../../../../classes/Rails.html">Rails</a> [DHH]. Example:

<pre>
  image_tag(&quot;rails.png&quot;) # =&gt; '&lt;img alt=&quot;Rails&quot; src=&quot;/images/rails.png?1143664135&quot; /&gt;'
</pre>
<p>
&#8230;to avoid frequent stats (not a problem for most people), you can set
RAILS_ASSET_ID in the ENV to avoid stats:
</p>
<pre>
  ENV[&quot;RAILS_ASSET_ID&quot;] = &quot;2345&quot;
  image_tag(&quot;rails.png&quot;) # =&gt; '&lt;img alt=&quot;Rails&quot; src=&quot;/images/rails.png?2345&quot; /&gt;'
</pre>
<p>
This can be used by deployment managers to set the asset id by application
revision
</p>
</li>
</ul>
<p>
*1.12.0* (March 27th, 2006)
</p>
<ul>
<li>Add documentation for respond_to. [Jamis Buck]

</li>
<li>Fixed require of bluecloth and redcloth when gems haven&#8216;t been loaded
4446 [murphy@cYcnus.de]

</li>
<li>Update to Prototype 1.5.0_pre1 [Sam Stephenson]

</li>
<li>Change form_for and fields_for so that the second argument is not required
[Dave Thomas]

<pre>
  &lt;% form_for :post, @post, :url =&gt; { :action =&gt; 'create' } do |f| -%&gt;
</pre>
<p>
becomes&#8230;
</p>
<pre>
  &lt;% form_for :post, :url =&gt; { :action =&gt; 'create' } do |f| -%&gt;
</pre>
</li>
<li>Update to script.aculo.us 1.6 [Thomas Fuchs]

</li>
<li>Enable application/x-yaml processing by default [Jamis Buck]

</li>
<li>Fix double url escaping of remote_function. Add :escape =&gt; false option
to ActionView&#8216;s url_for. [Nicholas Seckar]

</li>
<li>Add :script option to in_place_editor to support evalScripts (closes 4194)
[codyfauser@gmail.com]

</li>
<li>Fix mixed case enumerable methods in the JavaScript Collection Proxy
(closes 4314) [codyfauser@gmail.com]

</li>
<li>Undo accidental escaping for mail_to; add regression test. [Nicholas
Seckar]

</li>
<li>Added nicer message for assert_redirected_to (closes 4294) [court3nay]

<pre>
  assert_redirected_to :action =&gt; 'other_host', :only_path =&gt; false
</pre>
<p>
when it was expecting&#8230;
</p>
<pre>
  redirected_to :action =&gt; 'other_host', :only_path =&gt; true, :host =&gt; 'other.test.host'
</pre>
<p>
gives the error message&#8230;
</p>
<pre>
  response is not a redirection to all of the options supplied (redirection is &lt;{:only_path=&gt;false, :host=&gt;&quot;other.test.host&quot;, :action=&gt;&quot;other_host&quot;}&gt;), difference: &lt;{:only_path=&gt;&quot;true&quot;, :host=&gt;&quot;other.test.host&quot;}&gt;
</pre>
</li>
<li>Change url_for to escape the resulting URLs when called from a view.
[Nicholas Seckar, coffee2code]

</li>
<li>Added easy support for testing file uploads with fixture_file_upload 4105
[turnip@turnipspatch.com]. Example:

<pre>
  # Looks in Test::Unit::TestCase.fixture_path + '/files/spongebob.png'
  post :change_avatar, :avatar =&gt; fixture_file_upload('/files/spongebob.png', 'image/png')
</pre>
</li>
<li>Fixed UrlHelper#current_page? to behave even when url-escaped entities are
present 3929 [jeremy@planetargon.com]

</li>
<li>Add ability for relative_url_root to be specified via an environment
variable RAILS_RELATIVE_URL_ROOT. [isaac@reuben.com, Nicholas Seckar]

</li>
<li>Fixed link_to &quot;somewhere&quot;, :post =&gt; true to produce valid
XHTML by using the parentnode instead of document.body for the instant form
3007 [Bob Silva]

</li>
<li>Added :function option to PrototypeHelper#observe_field/observe_form that
allows you to call a function instead of submitting an ajax call as the
trigger 4268 [jonathan@daikini.com]

</li>
<li>Make Mime::Type.parse consider q values (if any) [Jamis Buck]

</li>
<li>XML-formatted requests are typecast according to &quot;type&quot;
attributes for :xml_simple [Jamis Buck]

</li>
<li>Added protection against proxy setups treating requests as local even when
they&#8216;re not 3898 [stephen_purcell@yahoo.com]

</li>
<li>Added TestRequest#raw_post that simulate raw_post from CgiRequest 3042
[francois.beausoleil@gmail.com]

</li>
<li>Underscore dasherized keys in formatted requests [Jamis Buck]

</li>
<li>Add MimeResponds::Responder#any for managing multiple types with identical
responses [Jamis Buck]

</li>
<li>Make the xml_http_request testing method set the HTTP_ACCEPT header [Jamis
Buck]

</li>
<li>Add Verification to scaffolds. Prevent destructive actions using GET
[Michael Koziarski]

</li>
<li>Avoid hitting the filesystem when using layouts by using a File.directory?
cache. [Stefan Kaes, Nicholas Seckar]

</li>
<li>Simplify ActionController::Base#controller_path [Nicholas Seckar]

</li>
<li>Added simple alert() notifications for RJS exceptions when
config.action_view.debug_rjs = true. [Sam Stephenson]

</li>
<li>Added :content_type option to render, so you can change the content type on
the fly [DHH]. Example: render :action =&gt; &quot;atom.rxml&quot;,
:content_type =&gt; &quot;application/atom+xml&quot;

</li>
<li>CHANGED DEFAULT: The default content type for .rxml is now application/xml
instead of type/xml, see <a
href="http://www.xml.com/pub/a/2004/07/21/dive.html">www.xml.com/pub/a/2004/07/21/dive.html</a>
for reason [DHH]

</li>
<li>Added option to render action/template/file of a specific extension (and
here by template type). This means you can have multiple templates with the
same name but a different extension [DHH]. Example:

<pre>
  class WeblogController &lt; ActionController::Base
    def index
      @posts = Post.find :all

      respond_to do |type|
        type.html # using defaults, which will render weblog/index.rhtml
        type.xml  { render :action =&gt; &quot;index.rxml&quot; }
        type.js   { render :action =&gt; &quot;index.rjs&quot; }
      end
    end
  end
</pre>
</li>
<li>Added better support for using the same actions to output for different
sources depending on the Accept header [DHH]. Example:

<pre>
  class WeblogController &lt; ActionController::Base
    def create
      @post = Post.create(params[:post])

      respond_to do |type|
        type.js   { render }  # renders create.rjs
        type.html { redirect_to :action =&gt; &quot;index&quot; }
        type.xml  do
          headers[&quot;Location&quot;] = url_for(:action =&gt; &quot;show&quot;, :id =&gt; @post)
          render(:nothing, :status =&gt; &quot;201 Created&quot;)
        end
      end
    end
  end
</pre>
</li>
<li>Added Base#render(:xml =&gt; xml) that works just like Base#render(:text
=&gt; text), but sets the content-type to text/xml and the charset to UTF-8
[DHH]

</li>
<li>Integration test&#8216;s url_for now runs in the context of the last
request (if any) so after post /products/show/1 url_for :action =&gt;
&#8216;new&#8217; will yield /product/new [Tobias Luetke]

</li>
<li>Re-added mixed-in helper methods for the JavascriptGenerator. Moved
JavascriptGenerators methods to a module that is mixed in after the helpers
are added. Also fixed that variables set in the enumeration methods like
collect are set correctly. Documentation added for the enumeration methods
[Rick Olson]. Examples:

<pre>
  page.select('#items li').collect('items') do |element|
    element.hide
  end
  # =&gt; var items = $$('#items li').collect(function(value, index) { return value.hide(); });
</pre>
</li>
<li>Added plugin support for parameter parsers, which allows for better support
for REST web services. By default, posts submitted with the application/xml
content type is handled by creating a <a
href="../../../../classes/XmlSimple.html">XmlSimple</a> hash with the same
name as the root element of the submitted xml. More handlers can easily be
registered like this:

<pre>
  # Assign a new param parser to a new content type
  ActionController::Base.param_parsers['application/atom+xml'] = Proc.new do |data|
    node = REXML::Document.new(post)
   { node.root.name =&gt; node.root }
  end

  # Assign the default XmlSimple to a new content type
  ActionController::Base.param_parsers['application/backpack+xml'] = :xml_simple
</pre>
</li>
</ul>
<p>
Default YAML web services were retired,
ActionController::Base.param_parsers carries an example which shows how to
get this functionality back. As part of this new plugin support,
request.[formatted_post?, xml_post?, yaml_post? and post_format] were all
deprecated in favor of request.content_type [Tobias Luetke]
</p>
<ul>
<li>Fixed Effect.Appear in effects.js to work with floats in Safari 3524, 3813,
3044 [Thomas Fuchs]

</li>
<li>Fixed that default image extension was not appended when using a full URL
with AssetTagHelper#image_tag 4032, 3728 [rubyonrails@beautifulpixel.com]

</li>
<li>Added that page caching will only happen if the response code is less than
400 4033 [g.bucher@teti.ch]

</li>
<li>Add <a
href="../../../../classes/ActionController/IntegrationTest.html">ActionController::IntegrationTest</a>
to allow high-level testing of the way the controllers and routes all work
together [Jamis Buck]

</li>
<li>Added support to AssetTagHelper#javascript_include_tag for having :defaults
appear anywhere in the list, so you can now make one call ala
javascript_include_tag(:defaults, &quot;my_scripts&quot;) or
javascript_include_tag(&quot;my_scripts&quot;, :defaults) depending on how
you want the load order 3506 [Bob Silva]

</li>
<li>Added support for visual effects scoped queues to the visual_effect helper
3530 [Abdur-Rahman Advany]

</li>
<li>Added .rxml (and any non-rhtml template, really) supportfor
CaptureHelper#content_for and CaptureHelper#capture 3287 [Brian Takita]

</li>
<li>Added script.aculo.us drag and drop helpers to RJS [Thomas Fuchs].
Examples:

<pre>
  page.draggable 'product-1'
  page.drop_receiving 'wastebasket', :url =&gt; { :action =&gt; 'delete' }
  page.sortable 'todolist', :url =&gt; { action =&gt; 'change_order' }
</pre>
</li>
<li>Fixed that form elements would strip the trailing [] from the first
parameter 3545 [ruby@bobsilva.com]

</li>
<li>During controller resolution, update the NameError suppression to check for
the expected constant. [Nicholas Seckar]

</li>
<li>Update script.aculo.us to V1.5.3 [Thomas Fuchs]

</li>
<li>Added various InPlaceEditor options, 3746, 3891, 3896, 3906 [Bill Burcham,
ruairi, sl33p3r]

</li>
<li>Added :count option to pagination that&#8216;ll make it possible for the
ActiveRecord::Base.count call to using something else than * for the count.
Especially important for count queries using DISTINCT 3839 [skaes]

</li>
<li>Update script.aculo.us to V1.5.2 [Thomas Fuchs]

</li>
<li>Added element and collection proxies to RJS [DHH]. Examples:

<pre>
  page['blank_slate']                  # =&gt; $('blank_slate');
  page['blank_slate'].show             # =&gt; $('blank_slate').show();
  page['blank_slate'].show('first').up # =&gt; $('blank_slate').show('first').up();

  page.select('p')                      # =&gt; $$('p');
  page.select('p.welcome b').first      # =&gt; $$('p.welcome b').first();
  page.select('p.welcome b').first.hide # =&gt; $$('p.welcome b').first().hide();
</pre>
</li>
<li>Add JavaScriptGenerator#replace for replacing an element&#8216;s
&quot;outer HTML&quot;. 3246 [tom@craz8.com, Sam Stephenson]

</li>
<li>Remove over-engineered form_for code for a leaner implementation. [Nicholas
Seckar]

</li>
<li>Document form_for&#8216;s :html option. [Nicholas Seckar]

</li>
<li>Major components cleanup and speedup. 3527 [Stefan Kaes]

</li>
<li>Fix problems with pagination and :include. [Kevin Clark]

</li>
<li>Add ActiveRecordTestCase for testing AR integration. [Kevin Clark]

</li>
<li>Add Unit Tests for pagination [Kevin Clark]

</li>
<li>Add :html option for specifying form tag options in form_for. [Sam
Stephenson]

</li>
<li>Replace dubious controller parent class in filter docs. 3655, 3722
[info@rhalff.com, eigentone@gmail.com]

</li>
<li>Don&#8216;t interpret the :value option on text_area as an html attribute.
Set the text_area&#8216;s value. 3752 [gabriel@gironda.org]

</li>
<li>Fix remote_form_for creates a non-ajax form. [Rick Olson]

</li>
<li>Don&#8216;t let arbitrary classes match as controllers &#8212; a
potentially dangerous bug. [Nicholas Seckar]

</li>
<li>Fix Routing tests. Fix routing where failing to match a controller would
prevent the rest of routes from being attempted. [Nicholas Seckar]

</li>
<li>Add :builder =&gt; option to form_for and friends. [Nicholas Seckar, Rick
Olson]

</li>
<li>Fix controller resolution to avoid accidentally inheriting a controller
from a parent module. [Nicholas Seckar]

</li>
<li>Set sweeper&#8216;s @controller to nil after a request so that the
controller may be collected between requests. [Nicholas Seckar]

</li>
<li>Subclasses of ActionController::Caching::Sweeper should be Reloadable.
[Rick Olson]

</li>
<li>Document the :xhr option for verifications. 3666 [leeo]

</li>
<li>Added :only and :except controls to skip_before/after_filter just like for
when you add filters [DHH]

</li>
<li>Ensure that the instance variables are copied to the template when
performing render :update. [Nicholas Seckar]

</li>
<li>Add the ability to call JavaScriptGenerator methods from helpers called in
update blocks. [Sam Stephenson] Example: module ApplicationHelper

<pre>
  def update_time
    page.replace_html 'time', Time.now.to_s(:db)
    page.visual_effect :highlight, 'time'
  end
</pre>
<p>
end
</p>
<p>
class UserController &lt; ApplicationController
</p>
<pre>
  def poll
    render :update { |page| page.update_time }
  end
</pre>
<p>
end
</p>
</li>
<li>Add render(:update) to <a
href="../../../../classes/ActionView/Base.html">ActionView::Base</a>. [Sam
Stephenson]

</li>
<li>Fix render(:update) to not render layouts. [Sam Stephenson]

</li>
<li>Fixed that SSL would not correctly be detected when running lighttpd/fcgi
behind lighttpd w/mod_proxy 3548 [stephen_purcell@yahoo.com]

</li>
<li>Added the possibility to specify atomatic expiration for the memcachd
session container 3571 [Stefan Kaes]

</li>
<li>Change layout discovery to take into account the change in semantics with
File.join and nil arguments. [Marcel Molina Jr.]

</li>
<li>Raise a RedirectBackError if redirect_to :back is called when there&#8216;s
no HTTP_REFERER defined 3049 [kevin.clark@gmail.com]

</li>
<li>Treat timestamps like datetimes for scaffolding purposes 3388 [Maik
Schmidt]

</li>
<li>Fix IE bug with link_to &quot;something&quot;, :post =&gt; true 3443
[Justin Palmer]

</li>
<li>Extract Test::Unit::TestCase test process behavior into an <a
href="../../../../classes/ActionController/TestProcess.html">ActionController::TestProcess</a>
module. [Sam Stephenson]

</li>
<li>Pass along blocks from render_to_string to render. [Sam Stephenson]

</li>
<li>Add render :update for inline RJS. [Sam Stephenson] Example: class
UserController &lt; ApplicationController

<pre>
  def refresh
    render :update do |page|
      page.replace_html  'user_list', :partial =&gt; 'user', :collection =&gt; @users
      page.visual_effect :highlight, 'user_list'
    end
  end
</pre>
<p>
end
</p>
</li>
<li>allow nil objects for error_messages_for [Michael Koziarski]

</li>
<li>Refactor human_size to exclude decimal place if it is zero. [Marcel Molina
Jr.]

</li>
<li>Update to Prototype 1.5.0_pre0 [Sam Stephenson]

</li>
<li>Automatically discover layouts when a controller is namespaced. 2199, 3424
[me@jonnii.com rails@jeffcole.net Marcel Molina Jr.]

</li>
<li>Add support for multiple proxy servers to CgiRequest#host
[gaetanot@comcast.net]

</li>
<li>Documentation typo fix. 2367 [Blair Zajac]

</li>
<li>Remove Upload Progress. 2871 [Sean Treadway]

</li>
<li>Fix typo in function name mapping in auto_complete_field. 2929 3446
[doppler@gmail.com phil.ross@gmail.com]

</li>
<li>Allow auto-discovery of third party template library layouts. [Marcel
Molina Jr.]

</li>
<li>Have the form builder output radio button, not check box, when calling the
radio button helper. 3331 [LouisStAmour@gmail.com]

</li>
<li>Added assignment of the Autocompleter object created by
JavaScriptMacroHelper#auto_complete_field to a local javascript variables
[DHH]

</li>
<li>Added :on option for PrototypeHelper#observe_field that allows you to
specify a different callback hook to have the observer trigger on [DHH]

</li>
<li>Added JavaScriptHelper#button_to_function that works just like
JavaScriptHelper#link_to_function but uses a button instead of a href [DHH]

</li>
<li>Added that JavaScriptHelper#link_to_function will honor existing :onclick
definitions when adding the function call [DHH]

</li>
<li>Added :disable_with option to FormTagHelper#submit_tag to allow for easily
disabled submit buttons with different text [DHH]

</li>
<li>Make auto_link handle nil by returning quickly if blank? [Scott Barron]

</li>
<li>Make auto_link match urls with a port number specified. [Marcel Molina Jr.]

</li>
<li>Added support for toggling visual effects to
ScriptaculousHelper::visual_effect, 3323. [Thomas Fuchs]

</li>
<li>Update to script.aculo.us to 1.5.0 rev. 3343 [Thomas Fuchs]

</li>
<li>Added :select option for JavaScriptMacroHelper#auto_complete_field that
makes it easier to only use part of the auto-complete suggestion as the
value for insertion [Thomas Fuchs]

</li>
<li>Added delayed execution of Javascript from within RJS 3264
[devslashnull@gmail.com]. Example:

<pre>
  page.delay(20) do
    page.visual_effect :fade, 'notice'
  end
</pre>
</li>
<li>Add session ID to default logging, but remove the verbose description of
every step [DHH]

</li>
<li>Add the following RJS methods: [Sam Stephenson]

<pre>
  * alert - Displays an alert() dialog
  * redirect_to - Changes window.location.href to simulate a browser redirect
  * call - Calls a JavaScript function
  * assign - Assigns to a JavaScript variable
  * &lt;&lt; - Inserts an arbitrary JavaScript string
</pre>
</li>
<li>Fix incorrect documentation for form_for [Nicholas Seckar]

</li>
<li>Don&#8216;t include a layout when rendering an rjs template using
render&#8216;s :template option. [Marcel Molina Jr.]

</li>
</ul>
<p>
*1.1.2* (December 13th, 2005)
</p>
<ul>
<li>Become part of <a href="../../../../classes/Rails.html">Rails</a> 1.0

</li>
<li>Update to script.aculo.us 1.5.0 final (equals 1.5.0_rc6) [Thomas Fuchs]

</li>
<li>Update to Prototype 1.4.0 final [Sam Stephenson]

</li>
<li>Added form_remote_for (form_for meets form_remote_tag) [DHH]

</li>
<li>Update to script.aculo.us 1.5.0_rc6

</li>
<li>More robust relative url root discovery for SCGI compatibility. This solves
the &#8216;SCGI routes problem&#8217; &#8212; you no longer need to prefix
all your routes with the name of the SCGI mountpoint. 3070 [Dave Ringoen]

</li>
<li>Fix docs for text_area_tag. 3083. [Christopher Cotton]

</li>
<li>Change form_for and fields_for method signatures to take object name and
object as separate arguments rather than as a Hash. [DHH]

</li>
<li>Introduce :selected option to the select helper. Allows you to specify a
selection other than the current value of object.method. Specify :selected
=&gt; nil to leave all options unselected. 2991 [Jonathan Viney
&lt;jonathan@bluewire.net.nz&gt;]

</li>
<li>Initialize @optional in routing code to avoid warnings about uninitialized
access to an instance variable. [Nicholas Seckar]

</li>
<li>Make ActionController&#8216;s render honor the :locals option when
rendering a :file. 1665. [Emanuel Borsboom, Marcel Molina Jr.]

</li>
<li>Allow assert_tag(:conditions) to match the empty string when a tag has no
children. Closes 2959. [Jamis Buck]

</li>
<li>Update html-scanner to handle CDATA sections better. Closes 2970. [Jamis
Buck]

</li>
<li>Don&#8216;t put flash in session if sessions are disabled. [Jeremy Kemper]

</li>
<li>Strip out trailing &amp;_= for raw post bodies. Closes 2868. [Sam
Stephenson]

</li>
<li>Pass multiple arguments to Element.show and Element.hide in
JavaScriptGenerator instead of using iterators. [Sam Stephenson]

</li>
<li>Improve expire_fragment documentation. 2966 [court3nay@gmail.com]

</li>
<li>Correct docs for automatic layout assignment. 2610. [Charles M. Gerungan]

</li>
<li>Always create new AR sessions rather than trying too hard to avoid database
traffic. 2731 [Jeremy Kemper]

</li>
<li>Update to Prototype 1.4.0_rc4. Closes 2943 (old Array.prototype.reverse
behavior can be obtained by passing false as an argument). [Sam Stephenson]

</li>
<li>Use Element.update(&#8216;id&#8217;, &#8216;html&#8217;) instead of
$(&#8216;id&#8217;).innerHTML = &#8216;html&#8217; in
JavaScriptGenerator#replace_html so that script tags are evaluated. [Sam
Stephenson]

</li>
<li>Make rjs templates always implicitly skip out on layouts. [Marcel Molina
Jr.]

</li>
<li>Correct length for the truncate text helper. 2913 [Stefan Kaes]

</li>
<li>Update to Prototype 1.4.0_rc3. Closes 1893, 2505, 2550, 2748, 2783. [Sam
Stephenson]

</li>
<li>Add support for new rjs templates which wrap an update_page block. [Marcel
Molina Jr.]

</li>
<li>Rename Version constant to VERSION. 2802 [Marcel Molina Jr.]

</li>
<li>Correct time_zone_options_for_select docs. 2892 [pudeyo@rpi.com]

</li>
<li>Remove the unused, slow response_dump and session_dump variables from error
pages. 1222 [lmarlow@yahoo.com]

</li>
<li>Performance tweaks: use Set instead of Array to speed up prototype helper
include? calls. Avoid logging code if logger is nil. Inline commonly-called
template presence checks. 2880, 2881, 2882, 2883 [Stefan Kaes]

</li>
<li><a href="../../../../classes/MemCache.html">MemCache</a> store may be given
multiple addresses. 2869 [Ryan Carver &lt;ryan@fivesevensix.com&gt;]

</li>
<li>Handle cookie parsing irregularity for certain Nokia phones. 2530
[zaitzow@gmail.com]

</li>
<li>Added PrototypeHelper::JavaScriptGenerator and PrototypeHelper#update_page
for easily modifying multiple elements in an Ajax response. [Sam
Stephenson] Example:

<pre>
  update_page do |page|
    page.insert_html :bottom, 'list', '&lt;li&gt;Last item&lt;/li&gt;'
    page.visual_effect :highlight, 'list'
    page.hide 'status-indicator', 'cancel-link'
  end
</pre>
<p>
generates the following JavaScript:
</p>
<pre>
  new Insertion.Bottom(&quot;list&quot;, &quot;&lt;li&gt;Last item&lt;/li&gt;&quot;);
  new Effect.Highlight(&quot;list&quot;);
  [&quot;status-indicator&quot;, &quot;cancel-link&quot;].each(Element.hide);
</pre>
</li>
<li>Refactored JavaScriptHelper into PrototypeHelper and ScriptaculousHelper
[Sam Stephenson]

</li>
<li>Update to latest script.aculo.us version (as of [3031])

</li>
<li>Updated docs for in_place_editor, fixes a couple bugs and offers extended
support for external controls [Justin Palmer]

</li>
<li>Update documentation for render :file. 2858 [Tom Werner]

</li>
<li>Only include builtin filters whose filenames match
/^[a-z][a-z_]*_helper.rb$/ to avoid including operating system metadata
such as ._foo_helper.rb. 2855 [court3nay@gmail.com]

</li>
<li>Added FormHelper#form_for and FormHelper#fields_for that makes it easier to
work with forms for single objects also if they don&#8216;t reside in
instance variables [DHH]. Examples:

<p>
&lt;% form_for :person, @person, :url =&gt; { :action =&gt;
&quot;update&quot; } do |f| %&gt;
</p>
<pre>
  First name: &lt;%= f.text_field :first_name %&gt;
  Last name : &lt;%= f.text_field :last_name %&gt;
  Biography : &lt;%= f.text_area :biography %&gt;
  Admin?    : &lt;%= f.check_box :admin %&gt;
</pre>
<p>
&lt;% end %&gt;
</p>
<p>
&lt;% form_for :person, person, :url =&gt; { :action =&gt;
&quot;update&quot; } do |person_form| %&gt;
</p>
<pre>
  First name: &lt;%= person_form.text_field :first_name %&gt;
  Last name : &lt;%= person_form.text_field :last_name %&gt;

  &lt;% fields_for :permission =&gt; person.permission do |permission_fields| %&gt;
    Admin?  : &lt;%= permission_fields.check_box :admin %&gt;
  &lt;% end %&gt;
</pre>
<p>
&lt;% end %&gt;
</p>
</li>
<li>options_for_select allows any objects which respond_to? :first and :last
rather than restricting to Array and Range. 2824 [Jacob Robbins
&lt;jrobbins@cmj.com&gt;, Jeremy Kemper]

</li>
<li>The auto_link text helper accepts an optional block to format the link text
for each url and email address. Example: auto_link(post.body) { |text|
truncate(text, 10) } [Jeremy Kemper]

</li>
<li>assert_tag uses exact matches for string conditions, instead of partial
matches. Use regex to do partial matches. 2799 [Jamis Buck]

</li>
<li>CGI::Session::ActiveRecordStore.data_column_name = &#8216;foobar&#8217; to
use a different session data column than the &#8216;data&#8217; default.
[nbpwie102@sneakemail.com]

</li>
<li>Do not raise an exception when default helper is missing; log a debug
message instead. It&#8216;s nice to delete empty helpers. [Jeremy Kemper]

</li>
<li>Controllers with acronyms in their names (e.g. PDFController) require the
correct default helper (PDFHelper in file pdf_helper.rb). 2262
[jeff@opendbms.com]

</li>
</ul>
<p>
*1.11.0* (November 7th, 2005)
</p>
<ul>
<li>Added request as instance method to views, so you can do &lt;%=
request.env[&quot;HTTP_REFERER&quot;] %&gt;, just like you can already
access response, session, and the likes [DHH]

</li>
<li>Fix conflict with assert_tag and Glue gem 2255 [david.felstead@gmail.com]

</li>
<li>Add documentation to assert_tag indicating that it only works with
well-formed XHTML 1937, 2570 [Jamis Buck]

</li>
<li>Added action_pack.rb stub so that ActionPack::Version loads properly [Sam
Stephenson]

</li>
<li>Added short-hand to assert_tag so assert_tag :tag =&gt; &quot;span&quot;
can be written as assert_tag &quot;span&quot; [DHH]

</li>
<li>Added skip_before_filter/skip_after_filter for easier control of the filter
chain in inheritance hierachies [DHH]. Example:

<pre>
  class ApplicationController &lt; ActionController::Base
    before_filter :authenticate
  end

  class WeblogController &lt; ApplicationController
    # will run the :authenticate filter
  end

  class SignupController &lt; ActionController::Base
    # will not run the :authenticate filter
    skip_before_filter :authenticate
  end
</pre>
</li>
<li>Added redirect_to :back as a short-hand for
redirect_to(request.env[&quot;HTTP_REFERER&quot;]) [DHH]

</li>
<li>Change javascript_include_tag :defaults to not use script.aculo.us loader,
which facilitates the use of plugins for future script.aculo.us and third
party javascript extensions, and provide
register_javascript_include_default for plugins to specify additional
JavaScript files to load. Removed slider.js and builder.js from actionpack.
[Thomas Fuchs]

</li>
<li>Fix problem where redirecting components can cause an infinite loop [Rick
Olson]

</li>
<li>Added support for the queue option on visual_effect [Thomas Fuchs]

</li>
<li>Update script.aculo.us to V1.5_rc4 [Thomas Fuchs]

</li>
<li>Fix that render :text didn&#8216;t interpolate instance variables 2629,
2626 [skaes]

</li>
<li>Fix line number detection and escape RAILS_ROOT in backtrace Regexp
[Nicholas Seckar]

</li>
<li>Fixed document.getElementsByClassName from Prototype to be speedy again
[Sam Stephenson]

</li>
<li>Recognize ./#{RAILS_ROOT} as RAILS_ROOT in error traces [Nicholas Seckar]

</li>
<li>Remove ARStore session fingerprinting [Nicholas Seckar]

</li>
<li>Fix obscure bug in ARStore [Nicholas Seckar]

</li>
<li>Added TextHelper#strip_tags for removing HTML tags from a string (using
HTMLTokenizer) 2229 [marcin@junkheap.net]

</li>
<li>Added a reader for flash.now, so it&#8216;s possible to do stuff like
flash.now[:alert] ||= &#8216;New if not set&#8217; 2422 [Caio Chassot]

</li>
</ul>
<p>
*1.10.2* (October 26th, 2005)
</p>
<ul>
<li>Reset template variables after using render_to_string [skaes@web.de]

</li>
<li>Expose the session model backing CGI::Session

</li>
<li>Abbreviate RAILS_ROOT in traces

</li>
</ul>
<p>
*1.10.1* (October 19th, 2005)
</p>
<ul>
<li>Update error trace templates [Nicholas Seckar]

</li>
<li>Stop showing generated routing code in application traces [Nicholas Seckar]

</li>
</ul>
<p>
*1.10.0* (October 16th, 2005)
</p>
<ul>
<li>Make string-keys locals assigns optional. Add documentation describing
depreciated state [skaes@web.de]

</li>
<li>Improve line number detection for template errors [Nicholas Seckar]

</li>
<li>Update/clean up documentation (rdoc)

</li>
<li>Upgrade to Prototype 1.4.0_rc0 [Sam Stephenson]

</li>
<li>Added assert_vaild. Reports the proper AR error messages as fail message
when the passed record is invalid [Tobias Luetke]

</li>
<li>Add temporary support for passing locals to render using string keys
[Nicholas Seckar]

</li>
<li>Clean up error pages by providing better backtraces [Nicholas Seckar]

</li>
<li>Raise an exception if an attempt is made to insert more session data into
the ActiveRecordStore data column than the column can hold. 2234.
[justin@textdrive.com]

</li>
<li>Removed references to assertions.rb from actionpack assert&#8216;s
backtraces. Makes error reports in functional unit tests much less noisy.
[Tobias Luetke]

</li>
<li>Updated and clarified documentation for JavaScriptHelper to be more concise
about the various options for including the JavaScript libs. [Thomas Fuchs]

</li>
<li>Hide &quot;Retry with Breakpoint&quot; button on error pages until feature
is functional. [DHH]

</li>
<li>Fix Request#host_with_port to use the standard port when <a
href="../../../../classes/Rails.html">Rails</a> is behind a proxy.
[Nicholas Seckar]

</li>
<li>Escape query strings in the href attribute of URLs created by url_helper.
2333 [Michael Schuerig &lt;michael@schuerig.de&gt;]

</li>
<li>Improved line number reporting for template errors [Nicholas Seckar]

</li>
<li>Added :locals support for render :inline 2463 [mdabney@cavoksolutions.com]

</li>
<li>Unset the X-Requested-With header when using the xhr wrapper in functional
tests so that future requests aren&#8216;t accidentally xhr&#8216;ed 2352
[me@julik.nl, Sam Stephenson]

</li>
<li>Unescape paths before writing cache to file system. 1877. [Damien Pollet]

</li>
<li>Wrap javascript_tag contents in a CDATA section and add a cdata_section
method to TagHelper 1691 [Michael Schuerig, Sam Stephenson]

</li>
<li>Misc doc fixes (typos/grammar/etc). 2445. [coffee2code]

</li>
<li>Speed improvement for session_options. 2287. [skaes@web.de]

</li>
<li>Make cacheing binary files friendly with Windows. 1975. [Rich Olson]

</li>
<li>Convert boolean form options form the tag_helper. 809. [Michael Schuerig
&lt;michael@schuerig.de&gt;]

</li>
<li>Fixed that an instance variable with the same name as a partial should be
implicitly passed as the partial :object 2269 [court3nay]

</li>
<li>Update Prototype to V1.4.0_pre11, script.aculo.us to [2502] [Thomas Fuchs]

</li>
<li>Make assert_tag :children count appropriately. Closes 2181.
[jamie@bravenet.com]

</li>
<li>Forced newer versions of RedCloth to use hard breaks [DHH]

</li>
<li>Added new scriptaculous options for auto_complete_field 2343
[m.stienstra@fngtps.com]

</li>
<li>Don&#8216;t prepend the asset host if the string is already a
fully-qualified URL

</li>
<li>Updated to script.aculo.us V1.5.0_rc2 and Prototype to V1.4.0_pre7 [Thomas
Fuchs]

</li>
<li>Undo condition change made in [2345] to prevent normal parameters arriving
as StringIO.

</li>
<li>Tolerate consecutive delimiters in query parameters. 2295
[darashi@gmail.com]

</li>
<li>Streamline render process, code cleaning. Closes 2294. [skae]

</li>
<li>Keep flash after components are rendered. 2291 [Rick Olson, Scott]

</li>
<li>Shorten IE file upload path to filename only to match other browsers. 1507
[court3nay@gmail.com]

</li>
<li>Fix open/save dialog in IE not opening files send with send_file/send_data,
2279 [Thomas Fuchs]

</li>
<li>Fixed that auto_discovery_link_tag couldn&#8216;t take a string as the URL
[DHH]

</li>
<li>Fixed problem with send_file and WEBrick using stdout 1812 [DHH]

</li>
<li>Optimized tag_options to not sort keys, which is no longer necessary when
assert_dom_equal and friend is available 1995 [skae]

</li>
<li>Added assert_dom_equal and assert_dom_not_equal to compare tags generated
by the helpers in an order-indifferent manner 1995 [skae]

</li>
<li>Fixed that Request#domain caused an exception if the domain header
wasn&#8216;t set in the original http request 1795 [Michael Koziarski]

</li>
<li>Make the truncate() helper multi-byte safe (assuming $KCODE has been set to
something other than &quot;NONE&quot;) 2103

</li>
<li>Add routing tests from 1945 [ben@groovie.org]

</li>
<li>Add a routing test case covering 2101 [Nicholas Seckar]

</li>
<li>Cache relative_url_root for all webservers, not just Apache 2193 [skae]

</li>
<li>Speed up cookie use by decreasing string copying 2194 [skae]

</li>
<li>Fixed access to &quot;Host&quot; header with requests made by crappy old
HTTP/1.0 clients 2124 [Marcel Molina]

</li>
<li>Added easy assignment of fragment cache store through use of symbols for
included stores (old way still works too)

<p>
Before:
</p>
<pre>
  ActionController::Base.fragment_cache_store =
    ActionController::Base::Caching::Fragments::FileStore.new(&quot;/path/to/cache/directory&quot;)
</pre>
<p>
After:
</p>
<pre>
  ActionController::Base.fragment_cache_store = :file_store, &quot;/path/to/cache/directory&quot;
</pre>
</li>
<li>Added ActionController::Base.session_store=, session_store, and
session_options to make it easier to tweak the session options (instead of
going straight to ActionController::CgiRequest::DEFAULT_SESSION_OPTIONS)

</li>
<li>Added TextHelper#cycle to cycle over an array of values on each hit (useful
for alternating row colors etc) 2154 [dave-ml@dribin.org]

</li>
<li>Ensure that request.path never returns nil. Closes 1675 [Nicholas Seckar]

</li>
<li>Add ability to specify Route Regexps for controllers. Closes 1917.
[Sebastian Kanthak]

</li>
<li>Provide Named Route&#8216;s hash methods as helper methods. Closes 1744.
[Nicholas Seckar, Steve Purcell]

</li>
<li>Added :multipart option to ActiveRecordHelper#form to make it possible to
add file input fields 2034 [jstirk@oobleyboo.com]

</li>
<li>Moved auto-completion and in-place editing into the Macros module and their
helper counterparts into JavaScriptMacrosHelper

</li>
<li>Added in-place editing support in the spirit of auto complete with
ActionController::Base.in_place_edit_for,
JavascriptHelper#in_place_editor_field, and Javascript support from
script.aculo.us 2038 [Jon Tirsen]

</li>
<li>Added :disabled option to all data selects that&#8216;ll make the elements
inaccessible for change 2167, 253 [eigentone]

</li>
<li>Fixed that TextHelper#auto_link_urls would include punctuation in the links
2166, 1671 [eigentone]

</li>
<li>Fixed that number_to_currency(1000, {:precision =&gt; 0})) should return
&quot;$1,000&quot;, instead of &quot;$1,000.&quot; 2122 [sd@notso.net]

</li>
<li>Allow link_to_remote to use any DOM-element as the parent of the form
elements to be submitted 2137 [erik@ruby-lang.nl]. Example:

<pre>
  &lt;tr id=&quot;row023&quot;&gt;
    &lt;td&gt;&lt;input name=&quot;foo&quot;/&gt;&lt;/td&gt;
    &lt;td&gt;&lt;input name=&quot;bar&quot;/&gt;&lt;/td&gt;
    &lt;td&gt;&lt;%= link_to_remote 'Save', :update =&gt; &quot;row023&quot;,
          :submit =&gt; &quot;row023&quot;, :url =&gt; {:action =&gt; 'save_row'} %&gt;&lt;/td&gt;
  &lt;/tr&gt;
</pre>
</li>
<li>Fixed that render :partial would fail when :object was a Hash (due to
backwards compatibility issues) 2148 [Sam Stephenson]

</li>
<li>Fixed JavascriptHelper#auto_complete_for to only include unique items 2153
[Thomas Fuchs]

</li>
<li>Fixed all AssetHelper methods to work with relative paths, such that
javascript_include_tag(&#8216;stdlib/standard&#8217;) will look in
/javascripts/stdlib/standard instead of &#8217;/stdlib/standard/&#8217;
1963

</li>
<li>Avoid extending view instance with helper modules each request. Closes 1979

</li>
<li>Performance improvements to CGI methods. Closes 1980 [Skaes]

</li>
<li>Added :post option to UrlHelper#link_to that makes it possible to do POST
requests through normal ahref links using Javascript

</li>
<li>Fixed overwrite_params

</li>
<li>Added ActionController::Base.benchmark and ActionController::Base.silence
to allow for easy benchmarking and turning off the log

</li>
<li>Updated vendor copy of html-scanner to support better xml parsing

</li>
<li>Added :popup option to UrlHelper#link_to 1996 [gabriel.gironda@gmail.com].
Examples:

<pre>
  link_to &quot;Help&quot;, { :action =&gt; &quot;help&quot; }, :popup =&gt; true
  link_to &quot;Busy loop&quot;, { :action =&gt; &quot;busy&quot; }, :popup =&gt; ['new_window', 'height=300,width=600']
</pre>
</li>
<li>Drop trailing \000 if present on RAW_POST_DATA (works around bug in Safari
Ajax implementation) 918

</li>
<li>Fix observe_field to fall back to event-based observation if frequency
&lt;= 0 1916 [michael@schubert.cx]

</li>
<li>Allow use of the :with option for submit_to_remote 1936
[jon@instance-design.co.uk]

</li>
<li>AbstractRequest#domain returns nil when host is an ip address 2012
[kevin.clark@gmail.com]

</li>
<li>ActionController documentation update 2051 [fbeausoleil@ftml.net]

</li>
<li>Yield @content_for_ variables to templates 2058 [Sam Stephenson]

</li>
<li>Make rendering an empty partial collection behave like :nothing =&gt; true
2080 [Sam Stephenson]

</li>
<li>Add option to specify the singular name used by pagination.

</li>
<li>Use string key to obtain action value. Allows indifferent hashes to be
disabled.

</li>
<li>Added ActionView::Base.cache_template_loading back.

</li>
<li>Rewrote compiled templates to decrease code complexity. Removed template
load caching in favour of compiled caching. Fixed template error messages.
[Nicholas Seckar]

</li>
<li>Fix Routing to handle :some_param =&gt; nil better. [Nicholas Seckar,
Luminas]

</li>
<li>Add support for :include with pagination (subject to existing constraints
for :include with :limit and :offset) 1478 [michael@schubert.cx]

</li>
<li>Prevent the benchmark module from blowing up if a non-HTTP/1.1 request is
processed

</li>
<li>Added :use_short_month option to select_month helper to show month names as
abbreviations

</li>
<li>Make link_to escape the javascript in the confirm option 1964
[nicolas.pouillard@gmail.com]

</li>
<li>Make assert_redirected_to properly check URL&#8216;s passed as strings 1910
[Scott Barron]

</li>
<li>Make sure :layout =&gt; false is always used when rendering inside a layout

</li>
<li>Use raise instead of assert_not_nil in Test::Unit::TestCase#process to
ensure that the test variables (controller, request, response) have been
set

</li>
<li>Make sure assigns are built for every request when testing 1866

</li>
<li>Allow remote_addr to be queried on TestRequest 1668

</li>
<li>Fixed bug when a partial render was passing a local with the same name as
the partial

</li>
<li>Improved performance of test app req/sec with ~10% refactoring the render
method 1823 [Stefan Kaes]

</li>
<li>Improved performance of test app req/sec with 5-30% through a series of
Action Pack optimizations 1811 [Stefan Kaes]

</li>
<li>Changed caching/expiration/hit to report using the DEBUG log level and
errors to use the ERROR log level instead of both using INFO

</li>
<li>Added support for per-action session management 1763

</li>
<li>Improved rendering speed on complicated templates by up to 100% (the more
complex the templates, the higher the speedup) 1234 [Stephan Kaes]. This
did necessasitate a change to the internals of ActionView#render_template
that now has four parameters. Developers of custom view handlers (like
Amrita) need to update for that.

</li>
<li>Added options hash as third argument to FormHelper#input, so you can do
input(&#8216;person&#8217;, &#8216;zip&#8217;, :size=&gt;10) 1719
[jeremye@bsa.ca.gov]

</li>
<li>Added Base#expires_in(seconds)/Base#expires_now to control HTTP content
cache headers 1755 [Thomas Fuchs]

</li>
<li>Fixed line number reporting for <a
href="../../../../classes/Builder.html">Builder</a> template errors 1753
[piotr]

</li>
<li>Fixed assert_routing so that testing controllers in modules works as
expected [Nicholas Seckar, Rick Olson]

</li>
<li>Fixed bug with :success/:failure callbacks for the JavaScriptHelper methods
1730 [court3nay/Thomas Fuchs]

</li>
<li>Added named_route method to RouteSet instances so that RouteSet instance
methods do not prevent certain names from being used. [Nicholas Seckar]

</li>
<li>Fixed routes so that routes which do not specify :action in the path or in
the requirements have a default of :action =&gt; &#8216;index&#8217;, In
addition, fixed url generation so that :action =&gt; &#8216;index&#8217;
does not need to be provided for such urls. [Nicholas Seckar, Markjuh]

</li>
<li>Worked around a Safari bug where it wouldn&#8216;t pass headers through if
the response was zero length by having render :nothing return &#8217;
&#8217; instead of &#8217;&#8217;

</li>
<li>Fixed Request#subdomains to handle &quot;foo.foo.com&quot; correctly

</li>
</ul>
<p>
*1.9.1* (11 July, 2005)
</p>
<ul>
<li>Fixed that auto_complete_for didn&#8216;t force the input string to lower
case even as the db comparison was

</li>
<li>Fixed that Action View should always use the included <a
href="../../../../classes/Builder.html">Builder</a>, never attempt to
require the gem, to ensure compatibility

</li>
<li>Added that nil options are not included in tags, so tag(&quot;p&quot;,
:ignore =&gt; nil) now returns &lt;p /&gt; not &lt;p ignore=&quot;&quot;
/&gt; but that tag(&quot;p&quot;, :ignore =&gt; &quot;&quot;) still
includes it 1465 [michael@schuerig.de]

</li>
<li>Fixed that UrlHelper#link_to_unless/link_to_if used html_escape on the name
if no link was to be applied. This is unnecessary and breaks its use with
images 1649 [joergd@pobox.com]

</li>
<li>Improved error message for DoubleRenderError

</li>
<li>Fixed routing to allow for testing of *path components 1650 [Nicholas
Seckar]

</li>
<li>Added :handle as an option to sortable_element to restrict the drag handle
to a given class 1642 [thejohnny]

</li>
<li>Added a bunch of script.aculo.us features 1644, 1677, 1695 [Thomas Fuchs]

<ul>
<li>Effect.ScrollTo, to smoothly scroll the page to an element

</li>
<li>Better Firefox flickering handling on SlideUp/SlideDown

</li>
<li>Removed a possible memory leak in IE with draggables

</li>
<li>Added support for cancelling dragging my hitting ESC

</li>
<li>Added capability to remove draggables/droppables and redeclare sortables in
dragdrop.js (this makes it possible to call sortable_element on the same
element more than once, e.g. in AJAX returns that modify the sortable
element. all current sortable &#8216;stuff&#8217; on the element will be
discarded and the sortable will be rebuilt)

</li>
<li>Always reset background color on Effect.Highlight; this make change
backwards-compatibility, to be sure include
style=&quot;background-color:(target-color)&quot; on your elements or else
elements will fall back to their CSS rules (which is a good thing in most
circumstances)

</li>
<li>Removed circular references from element to prevent memory leaks (still not
completely gone in IE)

</li>
<li>Changes to class extension in effects.js

</li>
<li>Make Effect.Highlight restore any previously set background color when
finishing (makes effect work with CSS classes that set a background color)

</li>
<li>Fixed myriads of memory leaks in IE and Gecko-based browsers [David Zülke]

</li>
<li>Added incremental and local autocompleting and loads of documentation to
controls.js [Ivan Krstic]

</li>
<li>Extended the auto_complete_field helper to accept tokens option

</li>
<li>Changed object extension mechanism to favor Object.extend to make
script.aculo.us easily adaptable to support 3rd party libs like IE7.js
[David Zülke]

</li>
</ul>
</li>
<li>Fixed that named routes didn&#8216;t use the default values for action and
possible other parameters 1534 [Nicholas Seckar]

</li>
<li>Fixed JavascriptHelper#visual_effect to use camelize such that :blind_up
will work 1639 [pelletierm@eastmedia.net]

</li>
<li>Fixed that a SessionRestoreError was thrown if a model object was placed in
the session that wasn&#8216;t available to all controllers. This means that
it&#8216;s no longer necessary to use the &#8216;model :post&#8217;
work-around in ApplicationController to have a Post model in your session.

</li>
</ul>
<p>
*1.9.0* (6 July, 2005)
</p>
<ul>
<li>Added logging of the request URI in the benchmark statement (makes it easy
to grep for slow actions)

</li>
<li>Added javascript_include_tag :defaults shortcut that&#8216;ll include all
the default javascripts included with Action Pack (prototype, effects,
controls, dragdrop)

</li>
<li>Cache several controller variables that are expensive to calculate 1229
[skaes@web.de]

</li>
<li>The session class backing CGI::Session::ActiveRecordStore may be replaced
with any class that duck-types with a subset of Active Record. See docs for
details 1238 [skaes@web.de]

</li>
<li>Fixed that hashes was not working properly when passed by GET to lighttpd
849 [Nicholas Seckar]

</li>
<li>Fixed assert_template nil will be true when no template was rendered 1565
[maceywj@telus.net]

</li>
<li>Added :prompt option to FormOptions#select (and the users of it, like
FormOptions#select_country etc) to create &quot;Please select&quot; style
descriptors 1181 [Michael Schuerig]

</li>
<li>Added JavascriptHelper#update_element_function, which returns a Javascript
function (or expression) that&#8216;ll update a DOM element according to
the options passed 933 [mortonda@dgrmm.net]. Examples:

<pre>
  &lt;%= update_element_function(&quot;products&quot;, :action =&gt; :insert, :position =&gt; :bottom, :content =&gt; &quot;&lt;p&gt;New product!&lt;/p&gt;&quot;) %&gt;

  &lt;% update_element_function(&quot;products&quot;, :action =&gt; :replace, :binding =&gt; binding) do %&gt;
    &lt;p&gt;Product 1&lt;/p&gt;
    &lt;p&gt;Product 2&lt;/p&gt;
  &lt;% end %&gt;
</pre>
</li>
<li>Added :field_name option to DateHelper#select_(year|month|day) to deviate
from the year/month/day defaults 1266 [Marcel Molina]

</li>
<li>Added JavascriptHelper#draggable_element and
JavascriptHelper#drop_receiving_element to facilitate easy dragging and
dropping through the script.aculo.us libraries 1578 [Thomas Fuchs]

</li>
<li>Added that UrlHelper#mail_to will now also encode the default link title
749 [f.svehla@gmail.com]

</li>
<li>Removed the default option of wrap=virtual on FormHelper#text_area to
ensure XHTML compatibility 1300 [thomas@columbus.rr.com]

</li>
<li>Adds the ability to include XML CDATA tags using <a
href="../../../../classes/Builder.html">Builder</a> 1563 [Josh Knowles].
Example:

<pre>
  xml.cdata! &quot;some text&quot; # =&gt; &lt;![CDATA[some text]]&gt;
</pre>
</li>
<li>Added evaluation of &lt;SCRIPT&gt; blocks in content returned to Ajax calls
1577 [Thomas Fuchs/court3nay/Sean Treadway]

</li>
<li>Directly generate paths with a leading slash instead of tacking it on
later. 1543 [Nicholas Seckar]

</li>
<li>Fixed errant parameter modification in functional tests. 1542 [Nicholas
Seckar]

</li>
<li>Routes fail with leading slash 1540 [Nicholas Seckar]

</li>
<li>Added support for graceful error handling of Ajax calls 1217 [Jamis
Buck/Thomas Fuchs]. Example:

<pre>
  link_to_remote(
    &quot;test&quot;,
    :url =&gt; { :action =&gt; &quot;faulty&quot; },
    :update =&gt; { :success =&gt; &quot;good&quot;, :failure =&gt; &quot;bad&quot; },
    403 =&gt; &quot;alert('Forbidden- got ya!')&quot;,
    404 =&gt; &quot;alert('Nothing there...?')&quot;,
    :failure =&gt; &quot;alert('Unkown error ' + request.status)&quot;)
</pre>
</li>
<li>Attempt to explicitly flush the output at the end of CgiProcess#out

</li>
<li>Fixed assert_redirected_to to handle absolute controller paths properly
1472 [Rick Olson/Nicholas Seckar]

</li>
<li>Added event-based observations when frequency is not set on
observe_field/form 1474 [flash@vanklinkenbergsoftware.nl]

</li>
<li>Added script.aculo.us Javascripts (controls.js, dragdrop.js, effects.js)
(NEEDS MORE DESCRIPTION) 1509 [Thomas Fuchs]

</li>
<li>Fixed prototype to consider all fields it doesn&#8216;t know as text (such
as Safari&#8216;s search) just like the browser in its serialization 1497
[Sean Treadway]

</li>
<li>Improved performance of Routes generation by a factor of 5 1434 [Nicholas
Seckar]

</li>
<li>Added named routes (NEEDS BETTER DESCRIPTION) 1434 [Nicholas Seckar]

</li>
<li>Improved AbstractRequest documentation 1483 [court3nay@gmail.com]

</li>
<li>Added ActionController::Base.allow_concurrency to control whether the
application is thread-safe, so multi-threaded servers like WEBrick knows
whether to apply a mutex around the performance of each action. Turned off
by default. EXPERIMENTAL FEATURE.

</li>
<li>Added TextHelper#word_wrap(text, line_length = 80) 1449
[tuxie@dekadance.se]

</li>
<li>Added a fall-through action for form_remote_tag that&#8216;ll be used in
case Javascript is unavailable 1459 [Scott Barron]. Example:

<pre>
  form_remote_tag :html =&gt; { :action =&gt; url_for(:controller =&gt; &quot;some&quot;, :action =&gt; &quot;place&quot;) }
</pre>
</li>
<li>Added :xhr =&gt; true/false option to verify so you can ensure that a
request is coming from an Ajax call or not 1464 [Thomas Fuchs]

</li>
<li>Added tag_options as a third parameter to
AssetHelper#auto_discovery_link_tag to control options like the title of
the link 1430 [kevin.clark@gmail.com]

</li>
<li>Added option to pass in parameters to CaptureHelper#capture, so you can
create more advanced view helper methods 1466 [duane.johnson@gmail.com].
Example:

<pre>
  &lt;% show_calendar(:year =&gt; 2005, :month =&gt; 6) do |day, options| %&gt;
    &lt;% options[:bgcolor] = '#dfd' if 10..15.include? day %&gt;
    [&lt;%= day %&gt;]
  &lt;% end %&gt;
</pre>
</li>
<li>Changed the default name of the input tag generated by
FormTagHelper#submit_tag from &quot;submit&quot; to &quot;commit&quot; so
it doesn&#8216;t clash with form.submit() calls in Javascript 1271

</li>
<li>Fixed relative urls support for lighttpd 1048 [Nicholas
Seckar/maznawak@nerim.net]

</li>
<li>Correct distance_of_time_in_words for integer arguments and make the second
arg optional, treating the first arg as a duration in seconds. 1458
[madrobby &lt;thomas@fesch.at&gt;]

</li>
<li>Fixed query parser to deal gracefully with equal signs inside keys and
values 1345 [gorou]. Example: /?sig=abcdef=:foobar=&amp;x=y will pass now.

</li>
<li>Added Cuba to country list 1351 [todd]

</li>
<li>Fixed radio_button to work with numeric values 1352 [demetrius]

</li>
<li>Added :extension option to NumberHelper#number_to_phone 1361 [delynnb]

</li>
<li>Added button_to as a form-based solution to deal with harmful actions that
should be hidden behind POSTs. This makes it just as easy as link_to to
create a safe trigger for actions like destroy, although it&#8216;s limited
by being a block element, the fixed look, and a no-no inside other forms.
1371 [tom@moertel.com]

</li>
<li>Fixed image_tag so an exception is not thrown just because the image is
missing and alt value can&#8216;t be generated 1395 [Marcel]

</li>
<li>Added a third parameter to TextHelper#auto_link called href_options for
specifying additional tag options on the links generated 1401
[tyler.kovacs@gmail.com]. Example: auto_link(text, :all, { :target =&gt;
&quot;_blank&quot; }) to have all the generated links open in a new window.

</li>
<li>Fixed TextHelper#highlight to return the text, not nil, if the phrase is
blank 1409 [patrick@lenz.sh]

</li>
<li>Fixed TagHelper such that :name and &#8216;name&#8217; keys in the options
doesn&#8216;t result in two attributes 1455 [take_tk]

</li>
<li>Ensure that helpers are only available to the controllers where they are
defined and their subclasses. 1394 [kdole@tamu.edu]

</li>
<li>render(&quot;foo/bar&quot;) works with a layout again

</li>
<li>Fixed double-singularization on scaffolded pagination call (Address would
be turned into Addres) 1216, 1404 [nilsga]

</li>
<li>Removed the require hack used by functional testing to work around an
earlier bug in rake.

</li>
<li>Allow distance_of_time_in_words to work with any value that responds to
to_time (like dates) 969

</li>
<li>Support :render option for :verify 1440 [TobiasLuetke]

</li>
<li>Updated vendor copy of html-scanner lib to 0.5.2, for bug fixes and
optimizations. The :content option may be used as expected&#8212;to find a
tag whose textual content is a particular value&#8212;in assert_tag, now.

</li>
<li>Changed test requests to come from 0.0.0.0 instead of 127.0.0.1 such that
they don&#8216;t trigger debugging screens on exceptions, but instead call
rescue_action_in_public

</li>
<li>Modernize scaffolding to match the generator: use the new render method and
change style from the warty @params[&quot;id&quot;] to the sleek
params[:id]. 1367

</li>
<li>Include :id in the action generated by the form helper method. Then, for
example, the controller can do Model.find(params[:id]) for both edit and
update actions. Updated scaffolding to take advantage. 1367

</li>
<li>Add assertions with friendly messages to TestCase#process to ensure that
@controller, @request, and @response are set. 1367

</li>
<li>Arrays, hashes sent via multipart posts are converted to strings 1032
[dj@omelia.org, me@julik.nl]

</li>
<li>render(:layout =&gt; true) is a synonym for render(:layout =&gt; nil)

</li>
<li>Make sure the benchmarking render method always returns the output of the
render.

</li>
<li>render(:action), render(:template) and render() are the only three calls
that default to using a layout. All other render calls assume :layout =&gt;
false. This also fixes send_file, which was applying a layout if one
existed for the current action.

</li>
<li>verify with :redirect_to won&#8216;t redirect if a redirect or render has
already been performed 1350

</li>
<li>render(:partial =&gt; true) is identical to the behavior of the deprecated
render_partial()

</li>
<li>Fixed render(:partial =&gt; &quot;&#8230;&quot;) to use an empty Hash for
the local assigns 1365

</li>
<li>Fixed Caching::Fragments::FileStore.delete to not raise an exception if the
delete fails.

</li>
<li>Deprecated all render_* methods in favor of consolidating all rendering
behavior in Base#render(options). This enables more natural use of
combining options, such as layouts. Examples:

<pre>
  +---------------------------------------------------------------+-------------------------------------------------------+
  | BEFORE                                                        | AFTER                                                 |
  +---------------------------------------------------------------+-------------------------------------------------------+
  | render_with_layout &quot;weblog/show&quot;, &quot;200 OK&quot;, &quot;layouts/dialog&quot;  | render :action =&gt; &quot;show&quot;, :layout =&gt; &quot;dialog&quot;         |
  | render_without_layout &quot;weblog/show&quot;                           | render :action =&gt; &quot;show&quot;, :layout =&gt; false            |
  | render_action &quot;error&quot;, &quot;404 Not Found&quot;                        | render :action =&gt; &quot;error&quot;, :status =&gt; &quot;404 Not Found&quot; |
  | render_template &quot;xml.div('stuff')&quot;, &quot;200 OK&quot;, :rxml           | render :inline =&gt; &quot;xml.div('stuff')&quot;, :type =&gt; :rxml  |
  | render_text &quot;hello world!&quot;                                    | render :text =&gt; &quot;hello world!&quot;                        |
  | render_partial_collection &quot;person&quot;, @people, nil, :a =&gt; 1     | render :partial =&gt; &quot;person&quot;, :collection =&gt; @people,  |
  |                                                               |        :locals =&gt; { :a =&gt; 1 }                         |
  +---------------------------------------------------------------+-------------------------------------------------------+
</pre>
</li>
<li>Deprecated redirect_to_path and redirect_to_url in favor of letting
redirect_to do the right thing when passed either a path or url.

</li>
<li>Fixed use of an integer as return code for renders, so render_text
&quot;hello world&quot;, 404 now works 1327

</li>
<li>Fixed assert_redirect_to to work with redirect_to_path 869 [Nicholas
Seckar]

</li>
<li>Fixed escaping of :method option in remote_form_tag 1218 [Rick Olson]

</li>
<li>Added Serbia and Montenegro to the country_select 1239 [todd@robotcoop.com]

</li>
<li>Fixed Request#remote_ip in testing 1251 [Jeremy Kemper]

</li>
<li>Fixed that compute_public_path should recognize external URLs, so
image_tag(&quot;<img src="http://www.example.com/images/icon.gif" />&quot;)
is not prefixed with the relative url path 1254
[victor-ronr-trac@carotena.net]

</li>
<li>Added support for descending year values in DateHelper#select_year, like
select_year(Date.today, :start_year =&gt; 2005, :end_year =&gt; 1900),
which would count down from 2005 to 1900 instead of the other way 1274
[nwoods@mail.com]

</li>
<li>Fixed that FormHelper#checkbox should return a checked checkbox if the
value is the same as checked_value 1286 [Florian Weber]

</li>
<li>Fixed Form.disable in Prototype 1317 [Wintermute]

</li>
<li>Added accessors to logger, params, response, session, flash, and headers
from the view, so you can write &lt;% logger.info &quot;stuff&quot; %&gt;
instead of &lt;% @logger.info &quot;others&quot; %&gt; &#8212; more
consistent with the preferred way of accessing these attributes and
collections from the controller

</li>
<li>Added support for POST data in form of YAML or XML, which is controller
through the Content-Type header. Example request:

<pre>
  Content-Type: application/xml
  &lt;request&gt;&lt;item&gt;&lt;content&gt;HelloWorld&lt;/content&gt;&lt;/item&gt;&lt;/request&gt;
</pre>
<p>
&#8230;is the same as:
</p>
<pre>
  Content-Type: application/x-yaml
  ---
  item:
    content: HelloWorld
</pre>
<p>
&#8230;is the same as:
</p>
<pre>
  item[content]=HelloWorld
</pre>
<p>
Which in the end turns into { &quot;item&quot; =&gt; { &quot;content&quot;
=&gt; &quot;HelloWorld&quot; } }. This makes it a lot easier to publish
REST web services on top of your regular actions (as they won&#8216;t
care).
</p>
<p>
Example Curl call:
</p>
<pre>
  curl -H 'Content-Type: application/xml' -d '&lt;request&gt;&lt;item&gt;&lt;content&gt;KillMeMore&lt;/content&gt;&lt;/item&gt;&lt;/request&gt;' http://www.example.com/service
</pre>
<p>
You can query to find out whether a given request came through as one of
these types with:
</p>
<pre>
  - request.post_format? (:url_encoded, :xml or :yaml)
  - request.formatted_post? (for either xml or yaml)
  - request.xml_post?
  - request.yaml_post?
</pre>
</li>
<li>Added bundling of <a
href="../../../../classes/XmlSimple.html">XmlSimple</a> by Maik Schmidt

</li>
<li>Fixed that render_partial_collection should always return a string (and not
sometimes an array, despite &lt;%= %&gt; not caring)

</li>
<li>Added TextHelper#sanitize that can will remove any Javascript handlers,
blocks, and forms from an input of HTML. This allows for use of HTML on
public sites, but still be free of XSS issues. 1277 [Jamis Buck]

</li>
<li>Fixed the HTML scanner used by assert_tag where a infinite loop could be
caused by a stray less-than sign in the input 1270 [Jamis Buck]

</li>
<li>Added functionality to assert_tag, so you can now do tests on the siblings
of a node, to assert that some element comes before or after the element in
question, or just to assert that some element exists as a sibling 1226
[Jamis Buck]

</li>
<li>Added better error handling for regexp caching expiration

</li>
<li>Fixed handling of requests coming from unknown HTTP methods not to kill the
server

</li>
<li>Added that both AssetHelper#stylesheet_link_tag and
AssetHelper#javascript_include_tag now accept an option hash as the last
parameter, so you can do stuff like: stylesheet_link_tag &quot;style&quot;,
:media =&gt; &quot;all&quot;

</li>
<li>Added FormTagHelper#image_submit_tag for making submit buttons that uses
images

</li>
<li>Added ActionController::Base.asset_host that will then be used by all the
asset helpers. This enables you to easily offload static content like
javascripts and images to a separate server tuned just for that.

</li>
<li>Fixed action/fragment caching using the filestore when a directory and a
file wanted to use the same name. Now there&#8216;s a .cache prefix that
sidesteps the conflict 1188 [imbcmdth@hotmail.com]

</li>
<li>Fixed missing id uniqueness in FormTag#radio_button 1207 [Jarkko]

</li>
<li>Fixed assert_redirected_to to work with :only_path =&gt; false 1204
[Alisdair McDiarmid]

</li>
<li>Fixed render_partial_collection to output an empty string instead of nil
when handed an empty array 1202 [Ryan Carver]

</li>
<li>Improved the speed of regular expression expirations for caching by a
factor of 10 1221 [Jamis Buck]

</li>
<li>Removed dumping of template assigns on the rescue page as it would very
easily include a ton of data making page loads take seconds (and the
information was rarely helpful) 1222

</li>
<li>Added BenchmarkHelper that can measure the execution time of a block in a
template and reports the result to the log. Example:

<pre>
  &lt;% benchmark &quot;Notes section&quot; do %&gt;
    &lt;%= expensive_notes_operation %&gt;
  &lt;% end %&gt;

 Will add something like &quot;Notes section (0.345234)&quot; to the log.
</pre>
</li>
<li>Added ActionController::Caching::Sweeper as an improved an easier to use
sweeper. The new sweepers work on a single-step approach instead of
two-steps like the old ones. Before

<pre>
  def after_save(record)
    @list = record.is_a?(List) ? record : record.list
  end

  def filter(controller)
    controller.expire_page(:controller =&gt; &quot;lists&quot;, :action =&gt; %w( show public feed ), :id =&gt; @list.id)
    controller.expire_action(:controller =&gt; &quot;lists&quot;, :action =&gt; &quot;all&quot;)
    @list.shares.each { |share| controller.expire_page(:controller =&gt; &quot;lists&quot;, :action =&gt; &quot;show&quot;, :id =&gt; share.url_key) }
  end
</pre>
<p>
..after:
</p>
<pre>
  def after_save(record)
    list = record.is_a?(List) ? record : record.list
    expire_page(:controller =&gt; &quot;lists&quot;, :action =&gt; %w( show public feed ), :id =&gt; list.id)
    expire_action(:controller =&gt; &quot;lists&quot;, :action =&gt; &quot;all&quot;)
    list.shares.each { |share| expire_page(:controller =&gt; &quot;lists&quot;, :action =&gt; &quot;show&quot;, :id =&gt; share.url_key) }
  end
</pre>
<p>
The new sweepers can also observe on the actions themselves by implementing
methods according to (before|after)_$controller_$action. Example of a
callback that&#8216;ll be called after PagesController#update_title has
been performed:
</p>
<pre>
    def after_pages_update_title
      expire_fragment(%r{pages/#{controller.assigns[&quot;page&quot;].id}/.*})
    end
</pre>
<p>
Note that missing_method is delegated to the controller instance, which is
assigned in a before filter. This means that you can call expire_fragment
instead of @controller.expire_fragment.
</p>
</li>
<li>Added that Fragments#expire_fragment now accepts as a regular expression as
the name thereby deprecating expire_matched_fragments

</li>
<li>Fixed that fragments shouldn&#8216;t use the current host and the path as
part of the key like pages does

</li>
<li>Added conditions to around_filters just like before_filter and after_filter

</li>
</ul>
<p>
*1.8.1* (20th April, 2005)
</p>
<ul>
<li>Added xml_http_request/xhr method for simulating XMLHttpRequest in
functional tests 1151 [Sam Stephenson]. Example:

<pre>
  xhr :post, :index
</pre>
</li>
<li>Fixed that Ajax.Base.options.asynchronous wasn&#8216;t being respected in
Ajax.Request (thanks Jon Casey)

</li>
<li>Fixed that :get, :post, and the others should take a flash array as the
third argument just like process 1144 [rails@cogentdude.com]

</li>
<li>Fixed a problem with Flash.now

</li>
<li>Fixed stringification on all assigned hashes. The sacrifice is that
assigns[:person] won&#8216;t work in testing. Instead
assigns[&quot;person&quot;] or assigns(:person) must be used. In other
words, the keys of assigns stay strings but we&#8216;ve added a
method-based accessor to appease the need for symbols.

</li>
<li>Fixed that rendering a template would require a connection to the database
1146

</li>
</ul>
<p>
*1.8.0* (19th April, 2005)
</p>
<ul>
<li>Added assert_tag and assert_no_tag as a much improved alternative to the
deprecated assert_template_xpath_match 1126 [Jamis Buck]

</li>
<li>Deprecated the majority of all the testing assertions and replaced them
with a much smaller core and access to all the collections the old
assertions relied on. That way the regular test/unit assertions can be used
against these. Added documentation about how to use it all.

</li>
<li>Added a wide range of new Javascript effects:

<pre>
  * Effect.Puff zooms the element out and makes it smoothly transparent at the same time, giving a &quot;puff&quot; illusion #996 [thomas@fesch.at]
    After the animation is completed, the display property will be set to none.
    This effect will work on relative and absolute positioned elements.

  * Effect.Appear as the opposite of Effect.Fade #990 [thomas@fesch.at]
    You should return elements with style=&quot;display:none;&quot; or a like class for this to work best and have no chance of flicker.

  * Effect.Squish for scaling down an element and making it disappear at the end #972 [thomas@fesch.at]

  * Effect.Scale for smoothly scaling images or text up and down #972 [thomas@fesch.at]

  * Effect.Fade which smoothly turns opacity from 100 to 0 and then hides the element #960 [thomas@fesch.at]
</pre>
</li>
<li>Added Request#xml_http_request? (and an alias xhr?) to that&#8216;ll return
true when the request came from one of the Javascript helper methods
(Ajax). This can be used to give one behavior for modern browsers
supporting Ajax, another to old browsers 1127 [Sam Stephenson]

</li>
<li>Changed render_partial to take local assigns as the second parameter
instead of an explicit object and then the assigns. So the API changes
from:

<pre>
  &lt;%= render_partial &quot;account&quot;, person, &quot;rules&quot; =&gt; regulations.rules %&gt;
</pre>
<p>
&#8230;to:
</p>
<pre>
  &lt;%= render_partial &quot;account&quot;, :account =&gt; person, :rules =&gt; regulations.rules %&gt;
</pre>
<p>
The old API will still work, though, and render_partial &quot;account&quot;
will still assume :account =&gt; @account.
</p>
</li>
<li>Added support for web servers that use PATH_INFO instead of REQUEST_URI
like IIS 1014 [BradG/Nicholas Seckar]

</li>
<li>Added graceful handling of PUT, DELETE, and OPTIONS requests for a complete
coverage of REST functionality 1136 [joshknowles@gmail.com]

</li>
<li>Fixed that you can now pass an alternative :href option to
link_to_function/remote in order to point to somewhere other than # if the
javascript fails or is turned off. You can do the same with form_remote_tag
by passing in :action. 1113 [Sam Stephenson]

</li>
<li>Fixed DateHelper to return values on the option tags such that
they&#8216;ll work properly in IE with form_remote_tag 1024 [Scott Raymond]

</li>
<li>Fixed FormTagHelper#check_box to respect checked 1049 [DelynnB]

</li>
<li>Added that render_partial called from a controller will use the action name
as default 828 [Dan Peterson]

</li>
<li>Added Element.toggle, Element.show, and Element.hide to the prototype
javascript library. Toggle.display has been deprecated, but will still work
992 [Lucas Carlson]

</li>
<li>Added that deleting a cookie should not just set it to an empty string but
also instantly expire it 1118 [todd@robotcoop.com]

</li>
<li>Added AssetTagHelper#image_path, AssetTagHelper#javascript_path, and
AssetTagHelper#stylesheet_path 1110 [Larry Halff]

</li>
<li>Fixed url_for(nil) in functional tests 1116 [Alisdair McDiarmid]

</li>
<li>Fixed error handling of broken layouts 1115 [Michael Schubert]

</li>
<li>Added submit_to_remote that allows you to trigger an Ajax form submition at
the click of the submission button, which allows for multiple targets in a
single form through the use of multiple submit buttons 930
[yrashk@gmail.com]

</li>
<li>Fixed pagination to work with joins 1034 [scott@sigkill.org]

</li>
<li>Fixed that *rest parameter in map.connect couldn&#8216;t accept an empty
list 1037 [Dee.Zsombor@gmail.com]

</li>
<li>Added :confirm option to link_to_remote just like link_to has 1082
[yrashk@fp.org.ua]

</li>
<li>Added minute_step as an option to select_minute (and the helpers that use
it) to jump in larger increments than just 1 minute. At 15, it would return
0, 15, 30, 45 options 1085 [ordwaye@evergreen.edu]

</li>
<li>Fixed that an exception would be thrown when an empty form was submitted
1090 [jan@ulbrich-boerwang.de]

</li>
<li>Moved TextHelper#human_size to NumberHelper#number_to_human_size, but kept
an deprecated alias to the old method name

</li>
<li>Fixed that the content-type for some browsers could include an additional
\r which made wonky things happen 1067 [Thomas Fuchs]

</li>
<li>Fixed that radio buttons shouldn&#8216;t have a default size attribute 1074
[hendrik@mans.de]

</li>
<li>Added ActionView::Helpers::InstanceTag::DEFAULT_RADIO_OPTIONS that contains
a hash of default options for radio buttons 1074 [hendrik@mans.de]

</li>
<li>Fixed that in some circumstances controllers outside of modules may have
hidden ones inside modules. For example, admin/content might have been
hidden by /content. 1075 [Nicholas Seckar]

</li>
<li>Added JavascriptHelper#periodically_call_remote in order to create areas of
a page that update automatically at a set interval 945 [Jon Tirsen]

</li>
<li>Fixed Cache#expire_matched_fragments that couldn&#8216;t recognize the
difference between string and url_for options 1030 [skaes@web.de]

</li>
<li>Added simulation of @request.request_uri in functional tests 1038 [Jamis
Buck]

</li>
<li>Fixed autolinking to work better in more cases 1013 [Jamis Buck]

</li>
<li>Added the possible of using symbols in form helpers that relate to instance
variables like text_field :account, :name in addition to text_field
&quot;account&quot;, &quot;name&quot;&#8217;

</li>
<li>Fixed javascript_include_tag to output type instead of language and conform
to XHTML 1018 [Rick Olson]

</li>
<li>Added NumberHelper for common string representations like phone number,
currency, and percentage 1015 [DeLynn]

</li>
<li>Added pagination for scaffolding (10 items per page) 964
[mortonda@dgrmm.net]

</li>
<li>Added assert_no_cookie and fixed assert_cookie_equal to deal with
non-existing cookies 979 [Jeremy Kemper]

</li>
<li>Fixed :overwrite_param so it doesn&#8216;t delete but reject elements from
@request.parameters 982 [raphinou@yahoo.com]

</li>
<li>Added :method option to verify for ensuring that either GET, POST, etc is
allowed 984 [Jamis Buck]

</li>
<li>Added options to set cc, bcc, subject, and body for UrlHelper#mail_to 966
[DeLynn]

</li>
<li>Fixed include_blank for select_hour/minute/second 527 [edward@debian.org]

</li>
<li>Improved the message display on the exception handler pages 963 [Johan
Sorensen]

</li>
<li>Fixed that on very rare occasions, webrick would raise a NoMethodError:
private method &#8216;split&#8217; called for nil 1001 [Flurin Egger]

</li>
<li>Fixed problem with page caching 958 [Rick Olson]

</li>
</ul>
<p>
*1.7.0* (27th March, 2005)
</p>
<ul>
<li>Added ActionController::Base.page_cache_extension for setting the page
cache file extension (the default is .html) 903 [Andreas]

</li>
<li>Fixed &quot;bad environment variable value&quot; exception caused by
Safari, Apache, and Ajax calls 918

</li>
<li>Fixed that pagination_helper would ignore :params 947 [Sebastian Kanthak]

</li>
<li>Added :owerwrite_params back to url_for and friends &#8212; it was AWL
since the introduction of Routes 921 [raphinou]

</li>
<li>Added :position option to link_to_remote/form_remote_tag that can be either
:before, :top, :bottom, or :after and specifies where the return from the
method should be inserted 952 [Matthew McCray/Sam Stephenson]

</li>
<li>Added Effect.Highlight to prototype.js to do Yellow Fade Technique (of
37signals&#8217; fame) on any container 952 [Sam Stephenson/courtenay]

</li>
<li>Added include_seconds option as the third parameter to
distance_of_time_in_words which will render &quot;less than a minute&quot;
in higher resolution (&quot;less than 10 seconds&quot; etc) 944
[thomas@fesch.at]

</li>
<li>Added fourth option to process in test cases to specify the content of the
flash 949 [Jamis Buck]

</li>
<li>Added Verifications that allows you to specify preconditions to actions in
form of statements like <tt>verify :only =&gt; :update_post, :params =&gt;
&quot;admin_privileges&quot;, :redirect_to =&gt; { :action =&gt;
&quot;settings&quot; }</tt>, which ensure that the update_post action is
only called if admin_privileges is available as a parameter &#8212;
otherwise the user is redirected to settings. 897 [Jamis Buck]

</li>
<li>Fixed Form.Serialize for the JavascriptHelper to also seriliaze password
fields 934 [dweitzman@gmail.com]

</li>
<li>Added JavascriptHelper#escape_javascript as a public method (was private)
and made it escape both single and double quotes and new lines 940
[mortonda@dgrmm.net]

</li>
<li>Added trailing_slash option to url_for, so you can generate urls ending in
a slash. Note that is currently not recommended unless you need it for
special reasons since it breaks caching 937 [stian@grytoyr.net]

</li>
<li>Added expire_matched_fragments(regular_expression) to clear out a lot of
fragment caches at once 927 [technoweenie@gmail.com]

</li>
<li>Fixed the problems with : and ? in file names for fragment caches on
Windows 927 [technoweenie@gmail.com]

</li>
<li>Added TextHelper#human_size for formatting file sizes, like
human_size(1234567) =&gt; 1.2 MB 943 [thomas@fesch.at]

</li>
<li>Fixed link_to :confirm 936 [Nicholas Seckar]

</li>
<li>Improved error reporting especially around never shallowing exceptions.
Debugging helpers should be much easier now 980 [Nicholas Seckar]

</li>
<li>Fixed Toggle.display in prototype.js 902 [Lucas Carlson]

</li>
</ul>
<p>
*1.6.0* (22th March, 2005)
</p>
<ul>
<li>Added a JavascriptHelper and accompanying prototype.js library that opens
the world of Ajax to Action Pack with a large array of options for
dynamically interacting with an application without reloading the page 884
[Sam Stephenson/David]

</li>
<li>Added pagination support through both a controller and helper add-on 817
[Sam Stephenson]

</li>
<li>Fixed routing and helpers to make <a
href="../../../../classes/Rails.html">Rails</a> work on non-vhost setups
826 [Nicholas Seckar/Tobias Luetke]

</li>
<li>Added a much improved Flash module that allows for finer-grained control on
expiration and allows you to flash the current action 839 [Caio Chassot].
Example of flash.now:

<pre>
  class SomethingController &lt; ApplicationController
    def save
      ...
      if @something.save
        # will redirect, use flash
        flash[:message] = 'Save successful'
        redirect_to :action =&gt; 'list'
      else
        # no redirect, message is for current action, use flash.now
        flash.now[:message] = 'Save failed, review'
        render_action 'edit'
      end
    end
  end
</pre>
</li>
<li>Added to_param call for parameters when composing an url using url_for from
something else than strings 812 [Sam Stephenson]. Example:

<pre>
  class Page
    def initialize(number)
      @number = number
    end
    # ...
    def to_param
      @number.to_s
    end
  end
</pre>
<p>
You can now use instances of Page with url_for:
</p>
<pre>
  class BarController &lt; ApplicationController
    def baz
      page = Page.new(4)
      url = url_for :page =&gt; page # =&gt; &quot;http://foo/bar/baz?page=4&quot;
    end
  end
</pre>
</li>
<li>Fixed form helpers to query Model#id_before_type_cast instead of Model#id
as a temporary workaround for Ruby 1.8.2 warnings 818 [DeLynn B]

</li>
<li>Fixed TextHelper#markdown to use blank? instead of empty? so it can deal
with nil strings passed 814 [Johan Sörensen]

</li>
<li>Added TextHelper#simple_format as a non-dependency text presentation helper
814 [Johan Sörensen]

</li>
<li>Added that the html options disabled, readonly, and multiple can all be
treated as booleans. So specifying <tt>disabled =&gt; :true</tt> will give
<tt>disabled=&quot;disabled&quot;</tt>. 809 [mindel]

</li>
<li>Added path collection syntax for Routes that will gobble up the rest of the
url and pass it on to the controller 830 [rayners]. Example:

<pre>
  map.connect 'categories/*path_info', :controller =&gt; 'categories', :action =&gt; 'show'
</pre>
<p>
A request for /categories/top-level-cat, would give @params[:path_info]
with &quot;top-level-cat&quot;. A request for
/categories/top-level-cat/level-1-cat, would give @params[:path_info] with
&quot;top-level-cat/level-1-cat&quot; and so forth.
</p>
<p>
The @params[:path_info] return is really an array, but where to_s has been
overwritten to do join(&quot;/&quot;).
</p>
</li>
<li>Fixed options_for_select on selected line issue 624 [Florian Weber]

</li>
<li>Added CaptureHelper with CaptureHelper#capture and
CaptureHelper#content_for. See documentation in helper 837 [Tobias Luetke]

</li>
<li>Fixed :anchor use in url_for 821 [Nicholas Seckar]

</li>
<li>Removed the reliance on PATH_INFO as it was causing problems for caching
and inhibited the new non-vhost support 822 [Nicholas Seckar]

</li>
<li>Added assigns shortcut for @response.template.assigns to controller test
cases [Jeremy Kemper]. Example:

<p>
Before:
</p>
<pre>
  def test_list
    assert_equal 5, @response.template.assigns['recipes'].size
    assert_equal 8, @response.template.assigns['categories'].size
  end
</pre>
<p>
After:
</p>
<pre>
  def test_list
    assert_equal 5, assigns(:recipes).size
    assert_equal 8, assigns(:categories).size
  end
</pre>
</li>
<li>Added TagHelper#image_tag and deprecated UrlHelper#link_image_to
(recommended approach is to combine image_tag and link_to instead)

</li>
<li>Fixed textilize to be resilient to getting nil parsed (by using
Object#blank? instead of String#empty?)

</li>
<li>Fixed that the :multipart option in FormTagHelper#form_tag would be ignored
[Yonatan Feldman]

</li>
</ul>
<p>
*1.5.1* (7th March, 2005)
</p>
<ul>
<li>Fixed that the routes.rb file wouldn&#8216;t be found on symlinked setups
due to File.expand_path 793 [piotr@t-p-l.com]

</li>
<li>Changed ActiveRecordStore to use Marshal instead of YAML as the latter
proved troublesome in persisting circular dependencies. Updating existing
applications MUST clear their existing session table from data to start
using this updated store 739 [Jamis Buck]

</li>
<li>Added shortcut :id assignment to render_component and friends (before you
had to go through :params) 784 [Lucas Carlson]

</li>
<li>Fixed that map.connect should convert arguments to strings 780 [Nicholas
Seckar]

</li>
<li>Added UrlHelper#link_to_if/link_to_unless to enable other conditions that
just link_to_unless_current 757 [mindel]

</li>
<li>Fixed that single quote was not escaped in a UrlHelper#link_to javascript
confirm 549 [Scott Barron]

</li>
<li>Removed the default border on link_image_to (it broke xhtml strict) &#8212;
can be specified with :border =&gt; 0 517 [?/caleb]

</li>
<li>Fixed that form helpers would treat string and symbol keys differently in
html_options (and possibly create duplicate entries) 112 [Jeremy Kemper]

</li>
<li>Fixed that broken pipe errors (clients disconnecting in mid-request) could
bring down a fcgi process

</li>
<li>Added the original exception message to session recall errors (so you can
see which class wasnt required)

</li>
<li>Fixed that RAILS_ROOT might not be defined when AP was loaded, so do a late
initialization of the ROUTE_FILE 761 [Scott Barron]

</li>
<li>Fix request.path_info and clear up LoadingModule behavior 754 [Nicholas
Seckar]

</li>
<li>Fixed caching to be aware of extensions (so you can cache files like
api.wsdl or logo.png) 734 [Nicholas Seckar]

</li>
<li>Fixed that Routes would raise NameErrors if a controller component contains
characters that are not valid constant names 733 [Nicholas Seckar]

</li>
<li>Added PATH_INFO access from the request that allows urls like the following
to be interpreted by rails: <a
href="http://www.example.com/dispatcher.cgi/controller/action">www.example.com/dispatcher.cgi/controller/action</a>
&#8212; that makes it possible to use rails as a CGI under lighttpd and
would also allow (for example) Rublog to be ported to rails without
breaking existing links to Rublog-powered blogs. 728 [Jamis Buck]

</li>
<li>Fixed that caching the root would result in .html not index.html 731, 734
[alisdair/Nicholas Seckar]

</li>
</ul>
<p>
*1.5.0* (24th February, 2005)
</p>
<ul>
<li>Added Routing as a replacement for mod_rewrite pretty urls [Nicholas
Seckar]. Read more in ActionController::Base.url_for and on <a
href="http://manuals.rubyonrails.com/read/book/9">manuals.rubyonrails.com/read/book/9</a>

</li>
<li>Added components that allows you to call other actions for their rendered
response while execution another action. You can either delegate the entire
response rendering or you can mix a partial response in with your other
content. Read more on <a
href="http://manuals.rubyonrails.com/read/book/14">manuals.rubyonrails.com/read/book/14</a>

</li>
</ul>
<p>
* Fixed that proxy IPs do not follow all RFC1918 nets 251
[caleb@aei-tech.com]
</p>
<ul>
<li>Added Base#render_to_string to parse a template and get the result back as
a string 479

</li>
<li>Fixed that send_file/data can work even if render* has been called before
in action processing to render the content of a file to be send for example
601

</li>
<li>Added FormOptionsHelper#time_zone_select and
FormOptionsHelper#time_zone_options_for_select to work with the new value
object TimeZone in Active Support 688 [Jamis Buck]

</li>
<li>Added FormHelper#file_field and FormTagHelper#file_field_tag for creating
file upload fields

</li>
<li>Added :order option for date_select that allows control over the order in
which the date dropdowns is used and which of them should be used 619 [Tim
Bates]. Examples:

<pre>
  date_select(&quot;post&quot;, &quot;written_on&quot;, :order =&gt; [:day, :month, :year])
  date_select(&quot;user&quot;, &quot;birthday&quot;,   :order =&gt; [:month, :day])
</pre>
</li>
<li>Added ActionView::Base.register_template_handler for easy integration of an
alternative template language to ERb and <a
href="../../../../classes/Builder.html">Builder</a>. See
test/controller/custom_handler_test.rb for a usage example 656 [Jamis Buck]

</li>
<li>Added AssetTagHelper that provides methods for linking a HTML page together
with other assets, such as javascripts, stylesheets, and feeds.

</li>
<li>Added FormTagHelper that provides a number of methods for creating form
tags that doesn&#8216;t rely on conventions with an object assigned to the
template like FormHelper does. With the FormTagHelper, you provide the
names and values yourself.

</li>
<li>Added Afghanistan, Iran, and Iraq to the countries list used by
FormOptions#country_select and FormOptions#country_options_for_select

</li>
<li>Renamed link_to_image to link_image_to (since thats what it actually does)
&#8212; kept alias for the old method name

</li>
<li>Fixed textilize for RedCloth3 to keep doing hardbreaks

</li>
<li>Fixed that assert_template_xpath_matches did not indicate when a path was
not found 658 [Eric Hodel]

</li>
<li>Added TextHelper#auto_link to turn email addresses and urls into ahrefs

</li>
<li>Fixed that on validation errors, scaffold couldn&#8216;t find template 654
[mindel]

</li>
<li>Added Base#hide_action(*names) to hide public methods from a controller
that would otherwise have been callable through the URL. For the majority
of cases, its preferred just to make the methods you don&#8216;t want to
expose protected or private (so they&#8216;ll automatically be hidden)
&#8212; but if you must have a public method, this is a way to make it
uncallable. Base#hidden_actions retrieve the list of all hidden actions for
the controller 644 [Nicholas Seckar]

</li>
<li>Fixed that a bunch of methods from <a
href="../../../../classes/ActionController/Base.html">ActionController::Base</a>
was accessible as actions (callable through a URL) when they
shouldn&#8216;t have been 644 [Nicholas Seckar]

</li>
<li>Added UrlHelper#current_page?(options) method to check if the url_for
options passed corresponds to the current page

</li>
<li>Fixed https handling on other ports than 443 [Alan Gano]

</li>
<li>Added follow_redirect method for functional tests that&#8216;ll get-request
the redirect that was made. Example:

<pre>
  def test_create_post
    post :create, &quot;post&quot; =&gt; { &quot;title&quot; =&gt; &quot;Exciting!&quot; }
    assert_redirected_to :action =&gt; &quot;show&quot;

    follow_redirect
    assert_rendered_file &quot;post/show&quot;
  end
</pre>
<p>
Limitation: Only works for redirects to other actions within the same
controller.
</p>
</li>
<li>Fixed double requiring of models with the same name as the controller

</li>
<li>Fixed that query params could be forced to nil on a POST due to the raw
post fix 562 [moriq@moriq.com]

</li>
<li>Fixed that cookies shouldn&#8216;t be frozen in TestRequest 571 [Eric
Hodel]

</li>
</ul>
<p>
*1.4.0* (January 25th, 2005)
</p>
<ul>
<li>Fixed problems with ActiveRecordStore under the development environment in
<a href="../../../../classes/Rails.html">Rails</a>

</li>
<li>Fixed the ordering of attributes in the xml-decleration of <a
href="../../../../classes/Builder.html">Builder</a> 540 [woeye]

</li>
<li>Added @request.raw_post as a convenience access to
@request.env[&#8216;RAW_POST_DATA&#8217;] 534 [Tobias Luetke]

</li>
<li>Added support for automatic id-based indexing for lists of items 532
[dblack]. Example:

<pre>
  &lt;% @students.each do |@student| %&gt;
    &lt;%= text_field &quot;student[]&quot;, &quot;first_name&quot;, :size =&gt; &quot;20&quot; %&gt;
    &lt;%= text_field &quot;student[]&quot;, &quot;last_name&quot; %&gt;
    &lt;%= text_field &quot;student[]&quot;, &quot;grade&quot;, :size =&gt; &quot;5&quot; %&gt;
  &lt;% end %&gt;
</pre>
<p>
&#8230;would produce, for say David Black with id 123 and a grace of C+:
</p>
<pre>
  &lt;input id=&quot;student_123_first_name&quot; name=&quot;student[123][first_name]&quot; size=&quot;20&quot;     size=&quot;30&quot; type=&quot;text&quot; value=&quot;David&quot; /&gt;
  &lt;input id=&quot;student_123_last_name&quot; name=&quot;student[123][last_name]&quot; size=&quot;30&quot;  type=&quot;text&quot; value=&quot;Black&quot; /&gt;
  &lt;input id=&quot;student_123_grade&quot; name=&quot;student[123][grade]&quot; size=&quot;5&quot; type=&quot;text&quot;  value=&quot;C+&quot; /&gt;
</pre>
</li>
<li>Added :application_prefix to url_for and friends that makes it easier to
setup <a href="../../../../classes/Rails.html">Rails</a> in non-vhost
environments 516 [Jamis Buck]

</li>
<li>Added :encode option to mail_to that&#8216;ll allow you to masquarede the
email address behind javascript or hex encoding 494 [Lucas Carlson]

</li>
<li>Fixed that the content-header was being set to application/octet_stream
instead of application/octet-stream on send_date/file [Alexey]

</li>
<li>Removed the need for passing the binding when using CacheHelper#cache

</li>
<li>Added TestResponse#binary_content that&#8216;ll return as a string the data
sent through send_data/send_file for testing 500 [Alexey]

</li>
<li>Added @request.env[&#8216;RAW_POST_DATA&#8217;] for people who need access
to the data before Ruby&#8216;s CGI has parsed it 505 [Jeremy Kemper]

</li>
<li>Fixed that a default fragment store wan&#8216;t being set to MemoryStore as
intended.

</li>
<li>Fixed that all redirect and render calls now return true, so you can use
the pattern of &quot;do and return&quot;. Example:

<pre>
  def show
    redirect_to(:action =&gt; &quot;login&quot;) and return unless @person.authenticated?
    render_text &quot;I won't happen unless the person is authenticated&quot;
  end
</pre>
</li>
<li>Added that renders and redirects called in before_filters will have the
same effect as returning false: stopping the chain. Example:

<pre>
  class WeblogController
    before_filter { |c| c.send(:redirect_to_url(&quot;http://www.farfaraway.com&quot;)}) }

    def hello
      render_text &quot;I will never be called&quot;
    end
  end
</pre>
</li>
<li>Added that only one render or redirect can happen per action. The first
call wins and subsequent calls are ignored. Example:

<pre>
  def do_something
    redirect_to :action =&gt; &quot;elsewhere&quot;
    render_action &quot;overthere&quot;
  end
</pre>
<p>
Only the redirect happens. The rendering call is simply ignored.
</p>
</li>
</ul>
<p>
*1.3.1* (January 18th, 2005)
</p>
<ul>
<li>Fixed a bug where cookies wouldn&#8216;t be set if a symbol was used
instead of a string as the key

</li>
<li>Added assert_cookie_equal to assert the contents of a named cookie

</li>
<li>Fixed bug in page caching that prevented it from working at all

</li>
</ul>
<p>
*1.3.0* (January 17th, 2005)
</p>
<ul>
<li>Added an extensive caching module that offers three levels of granularity
(page, action, fragment) and a variety of stores. Read more in <a
href="../../../../classes/ActionController/Caching.html">ActionController::Caching</a>.

</li>
<li>Added the option of passing a block to ActiveRecordHelper#form in order to
add more to the auto-generated form 469 [dom@sisna.com]

<pre>
  form(&quot;entry&quot;, :action =&gt; &quot;sign&quot;) do |form|
    form &lt;&lt; content_tag(&quot;b&quot;, &quot;Department&quot;)
    form &lt;&lt; collection_select(&quot;department&quot;, &quot;id&quot;, @departments, &quot;id&quot;, &quot;name&quot;)
  end
</pre>
</li>
<li>Added arrays as a value option for params in url_for and friends 467 [Eric
Anderson]. Example:

<pre>
  url_for(:controller =&gt; 'user', :action =&gt; 'delete', :params =&gt; { 'username' =&gt;  %( paul john steve ) } )
  # =&gt; /user/delete?username[]=paul&amp;username[]=john&amp;username[]=steve
</pre>
</li>
<li>Fixed that controller tests can now assert on the use of cookies 466
[Alexey]

</li>
<li>Fixed that send_file would &quot;remember&quot; all the files sent by
adding to the headers again and again 458 [Jeremy Kemper]

</li>
<li>Fixed url rewriter confusion when the controller or action name was a
substring of the controller_prefix or action_prefix

</li>
<li>Added conditional layouts like <tt>layout &quot;weblog_standard&quot;,
:except =&gt; :rss</tt> 452 [Marcel Molina]

</li>
<li>Fixed that MemCacheStore wasn&#8216;t included by default and added default
<a href="../../../../classes/MemCache.html">MemCache</a> object pointing to
localhost 447 [Lucas Carlson]

</li>
<li>Added fourth argument to render_collection_of_partials that allows you to
specify local_assigns &#8212; just like render_partial 432 [zenspider]

</li>
<li>Fixed that host would choke when cgi.host returned nil 432 [Tobias Luetke]

</li>
<li>Added that form helpers now take an index option 448 [Tim Bates]

<p>
Example:
</p>
<pre>
  text_field &quot;person&quot;, &quot;name&quot;, &quot;index&quot; =&gt; 3
</pre>
<p>
Becomes:
</p>
<pre>
  &lt;input type=&quot;text&quot; name=&quot;person[3][name]&quot; id=&quot;person_3_name&quot; value=&quot;&lt;%= @person.name %&gt;&quot; /&gt;
</pre>
</li>
<li>Fixed three issues with retrying breakpoints 417 [Florian Gross]

<ol>
<li>Don&#8216;t screw up pages that use multiple values for the same parameter
(?foo=bar&amp;foo=qux was converted to ?foo=barqux)

</li>
<li>Don&#8216;t screw up all forms when you click the &quot;Retry with
Breakpoint&quot; link multiple times instead of reloading (This caused the
parameters to be added multiple times for GET forms leading to trouble.)

</li>
<li>Don&#8216;t add ?BP-RETRY=1 multiple times

</li>
</ol>
</li>
<li>Added that all renders and redirects now return false, so they can be used
as the last line in before_filters to stop execution.

<p>
Before:
</p>
<pre>
  def authenticate
    unless @session[:authenticated]
      redirect_to :controller =&gt; &quot;account&quot;, :action =&gt; &quot;login&quot;
      return false
    end
  end
</pre>
<p>
After:
</p>
<pre>
  def authenticate
    redirect_to(:controller =&gt; &quot;account&quot;, :action =&gt; &quot;login&quot;) unless @session[:authenticated]
  end
</pre>
</li>
<li>Added conditional filters 431 [Marcel]. Example:

<pre>
  class JournalController &lt; ActionController::Base
    # only require authentication if the current action is edit or delete
    before_filter :authorize, :only_on =&gt; [ :edit, :delete ]

    private
      def authorize
        # redirect to login unless authenticated
      end
  end
</pre>
</li>
<li>Added Base#render_nothing as a cleaner way of doing render_text
&quot;&quot; when you&#8216;re not interested in returning anything but an
empty response.

</li>
<li>Added the possibility of passing nil to UrlHelper#link_to to use the link
itself as the name

</li>
</ul>
<p>
*1.2.0* (January 4th, 2005)
</p>
<ul>
<li>Added MemCacheStore for storing session data in Danga&#8216;s <a
href="../../../../classes/MemCache.html">MemCache</a> system [Bob Cottrell]
Depends on: MemCached server (<a
href="http://www.danga.com/memcached">www.danga.com/memcached</a>/), <a
href="../../../../classes/MemCache.html">MemCache</a> client (<a
href="http://raa.ruby-lang.org/project/memcache">raa.ruby-lang.org/project/memcache</a>/)

</li>
<li>Added thread-safety to the DRbStore 66, 389 [Ben Stiglitz]

</li>
<li>Added DateHelper#select_time and DateHelper#select_second 373 [Scott Baron]

</li>
<li>Added :host and :protocol options to url_for and friends to redirect to
another host and protocol than the current.

</li>
<li>Added class declaration for the MissingFile exception 388 [Kent Sibilev]

</li>
<li>Added &quot;short hypertext note with a hyperlink to the new URI(s)&quot;
to redirects to fulfill compliance with RFC 2616 (HTTP/1.1) section 10.3.3
397 [Tim Bates]

</li>
<li>Added second boolean parameter to Base.redirect_to_url and
Response#redirect to control whether the redirect is permanent or not (301
vs 302) 375 [Hodel]

</li>
<li>Fixed redirects when the controller and action is named the same. Still
haven&#8216;t fixed same controller, module, and action, though 201 [Josh]

</li>
<li>Fixed problems with running multiple functional tests in <a
href="../../../../classes/Rails.html">Rails</a> under 1.8.2 by including
hack for test/unit weirdness

</li>
<li>Fixed that @request.remote_ip didn&#8216;t work in the test environment 369
[Bruno Mattarollo]

</li>
</ul>
<p>
*1.1.0*
</p>
<ul>
<li>Added search through session to clear out association caches at the end of
each request. This makes it possible to place Active Record objects in the
session without worrying about stale data in the associations (the main
object is still subject to caching, naturally) 347 [Tobias Luetke]

</li>
<li>Added more informative exception when using helper :some_helper and the
helper requires another file that fails, you&#8216;ll get an error message
tells you what file actually failed to load, rather than falling back on
assuming it was the helper file itself 346 [dblack]

</li>
<li>Added use of *_before_type_cast for all input and text fields. This is
helpful for getting &quot;100,000&quot; back on a integer-based validation
where the value would normally be &quot;100&quot;.

</li>
<li>Added Request#port_string to get something like &quot;:8080&quot; back on
8080 and &quot;&quot; on 80 (or 443 with https).

</li>
<li>Added Request#domain (returns string) and Request#subdomains (returns
array).

</li>
<li>Added POST support for the breakpoint retries, so form processing that
raises an exception can be retried with the original request [Florian
Gross]

</li>
<li>Fixed regression with Base#reset_session that wouldn&#8216;t use the
DEFAULT_SESSION_OPTIONS [adam@the-kramers.net]

</li>
<li>Fixed error rendering of rxml documents to not just swallow the exception
and return 0 (still not guessing the right line, but hey)

</li>
<li>Fixed that textilize and markdown would instantiate their engines even on
empty strings. This also fixes 333 [Ulysses]

</li>
<li>Fixed UrlHelper#link_to_unless so it doesn&#8216;t care if the id is a
string or fixnum [zenspider]

</li>
</ul>
<p>
*1.0.1*
</p>
<ul>
<li>Fixed a bug that would cause an ApplicationController to require itself
three times and hence cause filters to be run three times [evl]

</li>
</ul>
<p>
*1.0*
</p>
<ul>
<li>Added that controllers will now attempt to require a model dependency with
their name and in a singular attempt for their name. So both PostController
and PostsController will automatically have the post.rb model required. If
no model is found, no error is raised, as it is then expected that no match
is available and the programmer will have included his own models.

</li>
<li>Fixed DateHelper#date_select so that you can pass include_blank as an
option even if you don&#8216;t use start_year and end_year 59 [what-a-day]

</li>
<li>Added that controllers will now search for a layout in
$template_root/layouts/$controller_name.r(html|xml), so PostsController
will look for layouts/posts.rhtml or layouts/posts.rxml and automatically
configure this layout if found 307 [Marcel]

</li>
<li>Added FormHelper#radio_button to work with radio buttons like its already
possible with check boxes [Michael Koziarski]

</li>
<li>Added TemplateError#backtrace that makes it much easier to debug template
errors from unit and functional tests

</li>
<li>Added display of error messages with scaffolded form pages

</li>
<li>Added option to <a href="../../../../classes/ERB.html">ERB</a> templates to
swallow newlines by using &lt;% if something -%&gt; instead of just &lt;%
if something %&gt;. Example:

<pre>
  class SomeController &lt; ApplicationController
  &lt;% if options[:scaffold] %&gt;
    scaffold :&lt;%= singular_name %&gt;
  &lt;% end %&gt;
    helper :post
</pre>
<p>
&#8230;produces this on post as singular_name:
</p>
<pre>
  class SomeController &lt; ApplicationController

    scaffold :post

    helper :post
</pre>
<p>
&#8230;where as:
</p>
<pre>
  class SomeController &lt; ApplicationController
  &lt;% if options[:scaffold] -%&gt;
    scaffold :&lt;%= singular_name %&gt;
  &lt;% end -%&gt;
    helper :post
</pre>
<p>
&#8230;produces:
</p>
<pre>
  class SomeController &lt; ApplicationController
    scaffold :post
    helper :post
</pre>
<p>
[This undocumented gem for ERb was uncovered by bitsweat]
</p>
</li>
<li>Fixed CgiRequest so that it&#8216;ll now accept session options with
Symbols as keys (as the documentation points out) [Suggested by Andreas]

</li>
<li>Added that render_partial will always by default include a counter with
value 1 unless there is a counter passed in via the local_assigns hash that
overrides it. As a result, render_collection_of_partials can still be
written in terms of render_partial and partials that make use of a counter
can be called without problems from both render_collection_of_partials as
well as render_partial 295 [marcel]

</li>
<li>Fixed CgiRequest#out to fall back to write if $stdout doesn&#8216;t have
syswrite [Jeremy Kemper]

</li>
<li>Fixed all helpers so that they use XHTML compliant double quotes for values
instead of single quotes [htonl/bitsweat]

</li>
<li>Added link_to_image(src, options = {}, html_options = {}). Documentation:

<pre>
  Creates a link tag to the image residing at the +src+ using an URL created by the set of +options+. See the valid options in
  link:classes/ActionController/Base.html#M000021. It's also possible to pass a string instead of an options hash to
  get a link tag that just points without consideration. The &lt;tt&gt;html_options&lt;/tt&gt; works jointly for the image and ahref tag by
  letting the following special values enter the options on the image and the rest goes to the ahref:

  ::alt: If no alt text is given, the file name part of the +src+ is used (capitalized and without the extension)
  ::size: Supplied as &quot;XxY&quot;, so &quot;30x45&quot; becomes width=&quot;30&quot; and height=&quot;45&quot;
  ::align: Sets the alignment, no special features

  The +src+ can be supplied as a...
  * full path, like &quot;/my_images/image.gif&quot;
  * file name, like &quot;rss.gif&quot;, that gets expanded to &quot;/images/rss.gif&quot;
  * file name without extension, like &quot;logo&quot;, that gets expanded to &quot;/images/logo.png&quot;
</pre>
</li>
<li>Fixed to_input_field_tag so it no longer explicitly uses InstanceTag.value
if value was specified in the options hash [evl]

</li>
<li>Added the possibility of having validate be protected for
assert_(in)valid_column 263 [Tobias Luetke]

</li>
<li>Added that ActiveRecordHelper#form now calls url_for on the :action option.

</li>
<li>Added all the HTTP methods as alternatives to the generic
&quot;process&quot; for functional testing 276 [Tobias Luetke]. Examples:

<pre>
  # Calls Controller#miletone with a GET request
  process :milestone

  # Calls Controller#miletone with a POST request that has parameters
  post :milestone, { &quot;name&quot; =&gt; &quot;David&quot; }

  # Calls Controller#milestone with a HEAD request that has both parameters and session data
  head :milestone, { &quot;id&quot; =&gt; 1 }, { &quot;user_id&quot; =&gt; 23 }
</pre>
<p>
This is especially useful for testing idiomatic REST web services.
</p>
</li>
<li>Added proper handling of HEAD requests, so that content isn&#8216;t
returned (Request#head? added as well) 277 [Eric Hodel]

</li>
<li>Added indifference to whether @headers[&quot;Content-Type&quot;],
@headers[&quot;Content-type&quot;], or @headers[&quot;content-type&quot;]
is used.

</li>
<li>Added TestSession#session_id that returns an empty string to make it easier
to functional test applications that doesn&#8216;t use cookie-based
sessions 275 [jcf]

</li>
<li>Fixed that cached template loading would still check the file system to see
if the file existed 258 [Andreas Schwarz]

</li>
<li>Added options to tailor header tag, div id, and div class on
ActiveRecordHelper#error_messages_for [Josh Peek]

</li>
<li>Added graceful handling of non-alphanumeric names and misplaced brackets in
input parameters [Jeremy Kemper]

</li>
<li>Added a new container for cookies that makes them more intuative to use.
The old methods of cookie and @cookies have been deprecated.

<p>
Examples for writing:
</p>
<pre>
  cookies[&quot;user_name&quot;] = &quot;david&quot; # =&gt; Will set a simple session cookie
  cookies[&quot;login&quot;] = { &quot;value&quot; =&gt; &quot;XJ-122&quot;, &quot;expires&quot; =&gt; Time.now + 360} # =&gt; Will set a cookie that expires in 1 hour
</pre>
<p>
Examples for reading:
</p>
<pre>
  cookies[&quot;user_name&quot;] # =&gt; &quot;david&quot;
  cookies.size         # =&gt; 2
</pre>
<p>
Read more in <a
href="../../../../classes/ActionController/Cookies.html">ActionController::Cookies</a>
</p>
<p>
NOTE: If you were using the old accessor (cookies instead of @cookies),
this could potentially break your code &#8212; if you expect a full cookie
object!
</p>
</li>
<li>Added the opportunity to defined method_missing on a controller which will
handle all requests for actions not otherwise defined 223 [timb]

</li>
<li>Fixed AbstractRequest#remote_ip for users going through proxies - Patch 228
[Eric Hodel]

</li>
<li>Added Request#ssl? which is shorthand for @request.protocol ==
&quot;https://&quot;

</li>
<li>Added the choice to call form_tag with no arguments (resulting in a form
posting to current action) [Jeremy Kemper]

</li>
<li>Upgraded to <a href="../../../../classes/Builder.html">Builder</a> 1.2.1

</li>
<li>Added :module as an alias for :controller_prefix to url_for and friends, so
you can do redirect_to(:module =&gt; &quot;shop&quot;, :controller =&gt;
&quot;purchases&quot;) and go to /shop/purchases/

</li>
<li>Added support for controllers in modules through
@params[&quot;module&quot;].

</li>
<li>Added reloading for dependencies under cached environments like FastCGI and
mod_ruby. This makes it possible to use those environments for development.
This is turned on by default, but can be turned off with
ActionController::Base.reload_dependencies = false in production
environments.

<p>
NOTE: This will only have an effect if you use the new model, service, and
observer class methods to mark dependencies. All libraries loaded through
require will be &quot;forever&quot; cached. You can, however, use
ActionController::Base.load_or_require(&quot;library&quot;) to get this
behavior outside of the new dependency style.
</p>
</li>
<li>Added that controllers will automatically require their own helper if
possible. So instead of doing:

<pre>
  class MsgController &lt; ApplicationController
    helper :msg
  end
</pre>
<p>
&#8230;you can just do:
</p>
<pre>
  class MsgController &lt; ApplicationController
  end
</pre>
</li>
<li>Added dependencies_on(layer) to query the dependencies of a controller.
Examples:

<pre>
  MsgController.dependencies_on(:model)    # =&gt; [ :post, :comment, :attachment ]
  MsgController.dependencies_on(:service)  # =&gt; [ :notification_service ]
  MsgController.dependencies_on(:observer) # =&gt; [ :comment_observer ]
</pre>
</li>
<li>Added a new dependency model with the class methods model, service, and
observer. Example:

<pre>
  class MsgController &lt; ApplicationController
    model    :post, :comment, :attachment
    service  :notification_service
    observer :comment_observer
  end
</pre>
<p>
These new &quot;keywords&quot; remove the need for explicitly calling
&#8216;require&#8217; in most cases. The observer method even instantiates
the observer as well as requiring it.
</p>
</li>
<li>Fixed that link_to would escape &amp; in the url again after url_for
already had done so

</li>
</ul>
<p>
*0.9.5* (28)
</p>
<ul>
<li>Added helper_method to designate that a given private or protected method
you should available as a helper in the view. [Jeremy Kemper]

</li>
<li>Fixed assert_rendered_file so it actually verifies if that was the rendered
file [htonl]

</li>
<li>Added the option for sharing partial spacer templates just like partials
themselves [radsaq]

</li>
<li>Fixed that Russia was named twice in country_select [alexey]

</li>
<li>Fixed request_origin to use remote_ip instead of remote_addr [Jeremy
Kemper]

</li>
<li>Fixed link_to breakage when nil was passed for html_options [alexey]

</li>
<li>Fixed redirect_to on a virtual server setup with apache with a port other
than the default where it would forget the port number [seanohalpin]

</li>
<li>Fixed that auto-loading webrick on Windows would cause file uploads to fail
[Jeremy Kemper]

</li>
<li>Fixed issues with sending files on WEBrick by setting the proper binmode
[Jeremy Kemper]

</li>
<li>Added send_data as an alternative to send_file when the stream is not read
off the filesystem but from a database or generated live [Jeremy Kemper]

</li>
<li>Added a new way to include helpers that doesn&#8216;t require the include
hack and can go without the explicit require. [Jeremy Kemper]

<p>
Before:
</p>
<pre>
  module WeblogHelper
    def self.included(controller) #:nodoc:
      controller.ancestors.include?(ActionController::Base) ? controller.add_template_helper(self) : super
    end
  end

  require 'weblog_helper'
  class WeblogController &lt; ActionController::Base
    include WeblogHelper
  end
</pre>
<p>
After:
</p>
<pre>
  module WeblogHelper
  end

  class WeblogController &lt; ActionController::Base
    helper :weblog
  end
</pre>
</li>
<li>Added a default content-type of &quot;text/xml&quot; to .rxml renders [Ryan
Platte]

</li>
<li>Fixed that when /controller/index was requested by the browser, url_for
would generates wrong URLs [Ryan Platte]

</li>
<li>Fixed a bug that would share cookies between users when using FastCGI and
mod_ruby [The Robot Co-op]

</li>
<li>Added an optional third hash parameter to the process method in functional
tests that takes the session data to be used [alexey]

</li>
<li>Added UrlHelper#mail_to to make it easier to create mailto: style ahrefs

</li>
<li>Added better error messages for layouts declared with the .rhtml extension
(which they shouldn&#8216;t) [geech]

</li>
<li>Added another case to DateHelper#distance_in_minutes to return &quot;less
than a minute&quot; instead of &quot;0 minutes&quot; and &quot;1
minute&quot; instead of &quot;1 minutes&quot;

</li>
<li>Added a hidden field to checkboxes generated with FormHelper#check_box that
will make sure that the unchecked value (usually 0) is sent even if the
checkbox is not checked. This relieves the controller from doing custom
checking if the checkbox wasn&#8216;t checked. BEWARE: This might conflict
with your run-on-the-mill work-around code. [Tobias Luetke]

</li>
<li>Fixed error_message_on to just use the first if more than one error had
been added [marcel]

</li>
<li>Fixed that URL rewriting with /controller/ was working but /controller was
not and that you couldn&#8216;t use :id on index [geech]

</li>
<li>Fixed a bug with link_to where the :confirm option wouldn&#8216;t be picked
up if the link was a straight url instead of an option hash

</li>
<li>Changed scaffolding of forms to use &lt;label&gt; tags instead of &lt;b&gt;
to please W3C [evl]

</li>
<li>Added DateHelper#distance_of_time_in_words_to_now(from_time) that works
like distance_of_time_in_words, but where <tt>to_time</tt> is fixed to
<tt>Time.now</tt>.

</li>
<li>Added assert_flash_equal(expected, key, message),
assert_session_equal(expected, key, message),
assert_assigned_equal(expected, key, message) to test the contents of
flash, session, and template assigns.

</li>
<li>Improved the failure report on assert_success when the action triggered a
redirection [alexey].

</li>
<li>Added &quot;markdown&quot; to accompany &quot;textilize&quot; as a
TextHelper method for converting text to HTML using the Markdown syntax.
BlueCloth must be installed in order for this method to become available.

</li>
<li>Made sure that an active session exists before we attempt to delete it
[Samuel]

</li>
<li>Changed link_to with Javascript confirmation to use onclick instead of
onClick for XHTML validity [Scott Barron]

</li>
</ul>
<p>
*0.9.0 (43)*
</p>
<ul>
<li>Added support for <a
href="../../../../classes/Builder.html">Builder</a>-based templates for
files with the .rxml extension. These new templates are an alternative to
ERb that are especially useful for generating XML content, such as this RSS
example from Basecamp:

<pre>
  xml.rss(&quot;version&quot; =&gt; &quot;2.0&quot;, &quot;xmlns:dc&quot; =&gt; &quot;http://purl.org/dc/elements/1.1/&quot;) do
    xml.channel do
      xml.title(@feed_title)
      xml.link(@url)
      xml.description &quot;Basecamp: Recent items&quot;
      xml.language &quot;en-us&quot;
      xml.ttl &quot;40&quot;

      for item in @recent_items
        xml.item do
          xml.title(item_title(item))
          xml.description(item_description(item)) if item_description(item)
          xml.pubDate(item_pubDate(item))
          xml.guid(@person.firm.account.url + @recent_items.url(item))
          xml.link(@person.firm.account.url + @recent_items.url(item))

          xml.tag!(&quot;dc:creator&quot;, item.author_name) if item_has_creator?(item)
        end
      end
    end
  end

  ...which will generate something like:

  &lt;rss version=&quot;2.0&quot; xmlns:dc=&quot;http://purl.org/dc/elements/1.1/&quot;&gt;
    &lt;channel&gt;
      &lt;title&gt;Web Site Redesign&lt;/title&gt;
      &lt;link&gt;http://www.basecamphq.com/clients/travelcenter/1/&lt;/link&gt;
      &lt;description&gt;Basecamp: Recent items&lt;/description&gt;
      &lt;language&gt;en-us&lt;/language&gt;
      &lt;ttl&gt;40&lt;/ttl&gt;
      &lt;item&gt;
        &lt;title&gt;Post: don't you know&lt;/title&gt;
        &lt;description&gt;&amp;amp;lt;p&amp;amp;gt;deeper and down&amp;amp;lt;/p&amp;amp;gt;&lt;/description&gt;
        &lt;pubDate&gt;Fri, 20 Aug 2004 21:13:50 CEST&lt;/pubDate&gt;
        &lt;guid&gt;http://www.basecamphq.com/clients/travelcenter/1/msg/assets/96976/comments&lt;/guid&gt;
        &lt;link&gt;http://www.basecamphq.com/clients/travelcenter/1/msg/assets/96976/comments&lt;/link&gt;
        &lt;dc:creator&gt;David H. Heinemeier&lt;/dc:creator&gt;
      &lt;/item&gt;
      &lt;item&gt;
        &lt;title&gt;Milestone completed: Design Comp 2&lt;/title&gt;
        &lt;pubDate&gt;Mon,  9 Aug 2004 14:42:06 CEST&lt;/pubDate&gt;
        &lt;guid&gt;http://www.basecamphq.com/clients/travelcenter/1/milestones/#49&lt;/guid&gt;
        &lt;link&gt;http://www.basecamphq.com/clients/travelcenter/1/milestones/#49&lt;/link&gt;
      &lt;/item&gt;
    &lt;/channel&gt;
  &lt;/rss&gt;
</pre>
<p>
The &quot;xml&quot; local variable is automatically available in .rxml
templates. You construct the template by calling a method with the name of
the tag you want. Options for the tag can be specified as a hash parameter
to that method.
</p>
<p>
<a href="../../../../classes/Builder.html">Builder</a>-based templates can
be mixed and matched with the regular ERb ones. The only thing that
differentiates them is the extension. No new methods have been added to the
public interface to handle them.
</p>
<p>
Action Pack ships with a version of <a
href="../../../../classes/Builder.html">Builder</a>, but it will use the
RubyGems version if you have one installed.
</p>
<p>
Read more about <a href="../../../../classes/Builder.html">Builder</a> on:
<a
href="http://onestepback.org/index.cgi/Tech/Ruby/StayingSimple.rdoc">onestepback.org/index.cgi/Tech/Ruby/StayingSimple.rdoc</a>
</p>
<p>
[<a href="../../../../classes/Builder.html">Builder</a> is created by Jim
Weirich]
</p>
</li>
<li>Added much improved support for functional testing [what-a-day].

<pre>
  # Old style
  def test_failing_authenticate
    @request.request_uri = &quot;/login/authenticate&quot;
    @request.action = &quot;authenticate&quot;
    @request.request_parameters[&quot;user_name&quot;] = &quot;nop&quot;
    @request.request_parameters[&quot;password&quot;]  = &quot;&quot;

    response = LoginController.process_test(@request)

    assert_equal &quot;The username and/or password you entered is invalid.&quot;, response.session[&quot;flash&quot;][&quot;alert&quot;]
    assert_equal &quot;http://37signals.basecamp.com/login/&quot;, response.headers[&quot;location&quot;]
  end

  # New style
  def test_failing_authenticate
    process :authenticate, &quot;user_name&quot; =&gt; &quot;nop&quot;, &quot;password&quot; =&gt; &quot;&quot;
    assert_flash_has 'alert'
    assert_redirected_to :action =&gt; &quot;index&quot;
  end
</pre>
<p>
See a full example on <a
href="http://codepaste.org/view/paste/334">codepaste.org/view/paste/334</a>
</p>
</li>
<li>Increased performance by up to 100% with a revised cookie class that fixes
the performance problems with the default one that ships with 1.8.1 and
below. It replaces the inheritance on SimpleDelegator with
DelegateClass(Array) following the suggestion from Matz on: <a
href="http://groups.google.com/groups?th=e3a4e68ba042f842&seekm=c3sioe%241qvm%241%40news.cybercity.dk#link14">groups.google.com/groups?th=e3a4e68ba042f842&seekm=c3sioe%241qvm%241%40news.cybercity.dk#link14</a>

</li>
<li>Added caching for compiled ERb templates. On Basecamp, it gave between 8.5%
and 71% increase in performance [Andreas Schwarz].

</li>
<li>Added implicit counter variable to render_collection_of_partials [Marcel].
From the docs:

<pre>
  &lt;%= render_collection_of_partials &quot;ad&quot;, @advertisements %&gt;

  This will render &quot;advertiser/_ad.rhtml&quot; and pass the local variable +ad+ to the template for display. An iteration counter
  will automatically be made available to the template with a name of the form +partial_name_counter+. In the case of the
  example above, the template would be fed +ad_counter+.
</pre>
</li>
<li>Fixed problems with two sessions being maintained on reset_session that
would particularly screw up ActiveRecordStore.

</li>
<li>Fixed reset_session to start an entirely new session instead of merely
deleting the old. So you can now safely access @session after calling
reset_ression and expect it to work.

</li>
<li>Added @request.get?, @request.post?, @request.put?, @request.delete? as
convenience query methods for @request.method [geech]

</li>
<li>Added @request.method that&#8216;ll return a symbol representing the HTTP
method, such as :get, :post, :put, :delete [geech]

</li>
<li>Changed @request.remote_ip and @request.host to work properly even when a
proxy is in front of the application [geech]

</li>
<li>Added JavaScript confirm feature to link_to. Documentation:

<pre>
  The html_options have a special feature for creating javascript confirm alerts where if you pass
  :confirm =&gt; 'Are you sure?', the link will be guarded with a JS popup asking that question.
  If the user accepts, the link is processed, otherwise not.
</pre>
</li>
<li>Added link_to_unless_current as a UrlHelper method [Sam Stephenson].
Documentation:

<pre>
  Creates a link tag of the given +name+ using an URL created by the set of +options+, unless the current
  controller, action, and id are the same as the link's, in which case only the name is returned (or the
  given block is yielded, if one exists). This is useful for creating link bars where you don't want to link
  to the page currently being viewed.
</pre>
</li>
<li>Fixed that UrlRewriter (the driver for url_for, link_to, etc) would blow up
when the anchor was an integer [alexey]

</li>
<li>Added that layouts defined with no directory defaults to layouts. So layout
&quot;weblog/standard&quot; will use weblog/standard (as always), but
layout &quot;standard&quot; will use layouts/standard.

</li>
<li>Fixed that partials (or any template starting with an underscore) was
publically viewable [Marten]

</li>
<li>Added HTML escaping to text_area helper.

</li>
<li>Added :overwrite_params to url_for and friends to keep the parameters as
they were passed to the current action and only overwrite a subset. The
regular :params will clear the slate so you need to manually add in
existing parameters if you want to reuse them. [raphinou]

</li>
<li>Fixed scaffolding problem with composite named objects [Moo Jester]

</li>
<li>Added the possibility for shared partials. Example:

<pre>
  &lt;%= render_partial &quot;advertisement/ad&quot;, ad %&gt;
</pre>
<p>
This will render the partial &quot;advertisement/_ad.rhtml&quot; regardless
of which controller this is being called from.
</p>
<p>
[Jacob Fugal]
</p>
</li>
<li>Fixed crash when encountering forms that have empty-named fields [James
Prudente]

</li>
<li>Added check_box form helper method now accepts true/false as well as 1/0
[what-a-day]

</li>
<li>Fixed the lacking creation of all directories with install.rb [Dave
Steinberg]

</li>
<li>Fixed that date_select returns valid XHTML selected options [Andreas
Schwarz]

</li>
<li>Fixed referencing an action with the same name as a controller in url_for
[what-a-day]

</li>
<li>Fixed the destructive nature of Base#attributes= on the argument [Kevin
Watt]

</li>
<li>Changed ActionControllerError to decent from StandardError instead of
Exception. It can now be caught by a generic rescue.

</li>
<li>Added SessionRestoreError that is raised when a session being restored
holds objects where there is no class available.

</li>
<li>Added block as option for inline filters. So what used to be written as:

<pre>
  before_filter Proc { |controller| return false if controller.params[&quot;stop_action&quot;] }
</pre>
<p>
&#8230;can now be as:
</p>
<pre>
  before_filter { |controller| return false if controller.params[&quot;stop_action&quot;] }
</pre>
<p>
[Jeremy Kemper]
</p>
</li>
<li>Made the following methods public (was protected): url_for,
controller_class_name, controller_name, action_name This makes it easier to
write filters without cheating around the encapsulation with send.

</li>
<li>ActionController::Base#reset_session now sticks even if you access @session
afterwards [Kent Sibilev]

</li>
<li>Improved the exception logging so the log file gets almost as much as
in-browser debugging.

</li>
<li>Changed base class setup from AbstractTemplate/ERbTemplate to <a
href="../../../../classes/ActionView/Base.html">ActionView::Base</a>. This
change should be harmless unless you were accessing Action View directly in
which case you now need to reference the Base class.\

</li>
<li>Added that render_collection_of_partials returns nil if the collection is
empty. This makes showing a “no items” message easier. For example:
&lt;%= render_collection_of_partials(&quot;message&quot;, @messages) ||
&quot;No messages found.&quot; %&gt; [Sam Stephenson]

</li>
<li>Added :month_before_year as an option to date_select to get the month
select before the year. Especially useful for credit card forms.

</li>
<li>Added :add_month_numbers to select_month to get options like &quot;3 -
March&quot;.

</li>
<li>Removed Base.has_active_layout? as it couldn&#8216;t answer the question
without the instance. Use Base#active_layout instead.

</li>
<li>Removed redundant call to update on ActionController::Base#close_session
[Andreas Schwarz]

</li>
<li>Fixed that DRb Store accidently started its own server (instead of just
client) [Andreas]

</li>
<li>Fixed strip_links so it now works across multiple lines [Chad Fowler]

</li>
<li>Fixed the TemplateError exception to show the proper trace on to_s (useful
for unit test debugging)

</li>
<li>Implemented class inheritable attributes without eval [Caio Chassot]

</li>
<li>Made TextHelper#concat accept binding as it would otherwise not work

</li>
<li>The FormOptionsHelper will now call to_s on the keys and values used to
generate options

</li>
</ul>
<p>
*0.8.5*
</p>
<ul>
<li>Introduced passing of locally scoped variables between templates:

<pre>
  You can pass local variables to sub templates by using a hash of with the variable
  names as keys and the objects as values:

    &lt;%= render &quot;shared/header&quot;, { &quot;headline&quot; =&gt; &quot;Welcome&quot;, &quot;person&quot; =&gt; person } %&gt;

  These can now be accessed in shared/header with:

    Headline: &lt;%= headline %&gt;
    First name: &lt;%= person.first_name %&gt;
</pre>
</li>
<li>Introduced the concept of partials as a certain type of sub templates:

<pre>
  There's also a convenience method for rendering sub templates within the current
  controller that depends on a single object (we call this kind of sub templates for
  partials). It relies on the fact that partials should follow the naming convention
  of being prefixed with an underscore -- as to separate them from regular templates
  that could be rendered on their own. In the template for Advertiser#buy, we could have:

    &lt;% for ad in @advertisements %&gt;
      &lt;%= render_partial &quot;ad&quot;, ad %&gt;
    &lt;% end %&gt;

  This would render &quot;advertiser/_ad.rhtml&quot; and pass the local variable +ad+
  for the template to display.

  == Rendering a collection of partials

  The example of partial use describes a familar pattern where a template needs
  to iterate over a array and render a sub template for each of the elements.
  This pattern has been implemented as a single method that accepts an array and
  renders a partial by the same name of as the elements contained within. So the
  three-lined example in &quot;Using partials&quot; can be rewritten with a single line:

    &lt;%= render_collection_of_partials &quot;ad&quot;, @advertisements %&gt;

  So this will render &quot;advertiser/_ad.rhtml&quot; and pass the local variable +ad+ for
  the template to display.
</pre>
</li>
<li>Improved send_file by allowing a wide range of options to be applied
[Jeremy Kemper]:

<pre>
  Sends the file by streaming it 4096 bytes at a time. This way the
  whole file doesn't need to be read into memory at once.  This makes
  it feasible to send even large files.

  Be careful to sanitize the path parameter if it coming from a web
  page.  send_file(@params['path'] allows a malicious user to
  download any file on your server.

  Options:
  * &lt;tt&gt;:filename&lt;/tt&gt; - specifies the filename the browser will see.
    Defaults to File.basename(path).
  * &lt;tt&gt;:type&lt;/tt&gt; - specifies an HTTP content type.
    Defaults to 'application/octet-stream'.
  * &lt;tt&gt;:disposition&lt;/tt&gt; - specifies whether the file will be shown inline or downloaded.
    Valid values are 'inline' and 'attachment' (default).
  * &lt;tt&gt;:buffer_size&lt;/tt&gt; - specifies size (in bytes) of the buffer used to stream
    the file.  Defaults to 4096.

  The default Content-Type and Content-Disposition headers are
  set to download arbitrary binary files in as many browsers as
  possible.  IE versions 4, 5, 5.5, and 6 are all known to have
  a variety of quirks (especially when downloading over SSL).

  Simple download:
    send_file '/path/to.zip'

  Show a JPEG in browser:
    send_file '/path/to.jpeg', :type =&gt; 'image/jpeg', :disposition =&gt; 'inline'

  Read about the other Content-* HTTP headers if you'd like to
  provide the user with more information (such as Content-Description).
  http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.11

  Also be aware that the document may be cached by proxies and browsers.
  The Pragma and Cache-Control headers declare how the file may be cached
  by intermediaries.  They default to require clients to validate with
  the server before releasing cached responses.  See
  http://www.mnot.net/cache_docs/ for an overview of web caching and
  http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.9
  for the Cache-Control header spec.
</pre>
</li>
<li>Added pluralize method to the TextHelper that makes it easy to get strings
like &quot;1 message&quot;, &quot;3 messages&quot;

</li>
<li>Added proper escaping for the rescues [Andreas Schwarz]

</li>
<li>Added proper escaping for the option and collection tags [Andreas Schwarz]

</li>
<li>Fixed NaN errors on benchmarking [Jim Weirich]

</li>
<li>Fixed query string parsing for URLs that use the escaped versions of &amp;
or ; as part of a key or value

</li>
<li>Fixed bug with custom Content-Type headers being in addition to rather than
instead of the default header. (This bug didn&#8216;t matter with neither
CGI or mod_ruby, but FCGI exploded on it) [With help from Ara T. Howard]

</li>
</ul>
<p>
*0.8.0*
</p>
<ul>
<li>Added select, collection_select, and country_select to make it easier for
Active Records to set attributes through drop-down lists of options.
Example:

<pre>
  &lt;%= select &quot;person&quot;, &quot;gender&quot;, %w( Male Female ) %&gt;
</pre>
<p>
&#8230;would give the following:
</p>
<pre>
  &lt;select name=&quot;person[gender]&quot; id=&quot;person_gender&quot;&gt;&lt;option&gt;Male&lt;/option&gt;&lt;option&gt;Female&lt;/option&gt;&lt;/select&gt;
</pre>
</li>
<li>Added an option for getting multiple values on a single form name into an
array instead of having the last one overwrite. This is especially useful
for groups of checkboxes, which can now be written as:

<pre>
  &lt;input type=&quot;checkbox&quot; name=&quot;rights[]&quot; value=&quot;CREATE&quot; /&gt;
  &lt;input type=&quot;checkbox&quot; name=&quot;rights[]&quot; value=&quot;UPDATE&quot; /&gt;
  &lt;input type=&quot;checkbox&quot; name=&quot;rights[]&quot; value=&quot;DELETE&quot; /&gt;
</pre>
<p>
&#8230;and retrieved in the controller action with:
</p>
<pre>
  @params[&quot;rights&quot;] # =&gt; [ &quot;CREATE&quot;, &quot;UPDATE&quot;, &quot;DELETE&quot; ]
</pre>
<p>
The old behavior (where the last one wins, &quot;DELETE&quot; in the
example) is still available. Just don&#8216;t add &quot;[]&quot; to the end
of the name. [Scott Baron]
</p>
</li>
<li>Added send_file which uses the new render_text block acceptance to make it
feasible to send large files. The files is sent with a bunch of voodoo HTTP
headers required to get arbitrary files to download as expected in as many
browsers as possible (eg, IE hacks). Example:

<p>
def play_movie
</p>
<pre>
  send_file &quot;/movies/that_movie.avi&quot;
</pre>
<p>
end
</p>
<p>
[Jeremy Kemper]
</p>
</li>
<li>render_text now accepts a block for deferred rendering. Useful for
streaming large files, displaying a “please wait” message during a
complex search, etc. Streaming example:

<pre>
  render_text do |response|
    File.open(path, 'rb') do |file|
      while buf = file.read(1024)
        print buf
      end
    end
  end
</pre>
<p>
[Jeremy Kemper]
</p>
</li>
<li>Added a new Tag Helper that can generate generic tags programmatically
insted of through HTML. Example:

<pre>
  tag(&quot;br&quot;, &quot;clear&quot; =&gt; &quot;all&quot;) =&gt; &lt;br clear=&quot;all&quot; /&gt;
</pre>
<p>
&#8230;that&#8216;s usually not terribly interesting (unless you have a lot
of options already in a hash), but it gives way for more specific tags,
like the new form tag:
</p>
<pre>
  form_tag({ :controller =&gt; &quot;weblog&quot;, :action =&gt; &quot;update&quot; }, { :multipart =&gt; &quot;true&quot;, &quot;style&quot; =&gt; &quot;width: 200px&quot;}) =&gt;
    &lt;form action=&quot;/weblog/update&quot; enctype=&quot;multipart/formdata&quot; style=&quot;width: 200px&quot;&gt;
</pre>
<p>
There&#8216;s even a &quot;pretty&quot; version for people who don&#8216;t
like to open tags in code and close them in HTML:
</p>
<pre>
  &lt;%= start_form_tag :action =&gt; &quot;update&quot; %&gt;
    # all the input fields
  &lt;%= end_form_tag %&gt;
</pre>
<p>
(end_form_tag just returns &quot;&lt;/form&gt;&quot;)
</p>
</li>
<li>The selected parameter in options_for_select may now also an array of
values to be selected when using a multiple select. Example:

<pre>
  options_for_select([ &quot;VISA&quot;, &quot;Mastercard&quot;, &quot;Discover&quot; ], [&quot;VISA&quot;, &quot;Discover&quot;]) =&gt;
    &lt;option selected&gt;VISA&lt;/option&gt;\n&lt;option&gt;Mastercard&lt;/option&gt;\n&lt;option selected&gt;Discover&lt;/option&gt;
</pre>
<p>
[Scott Baron]
</p>
</li>
<li>Changed the URL rewriter so controller_prefix and action_prefix can be used
in isolation. You can now do:

<pre>
  url_for(:controller_prefix =&gt; &quot;clients&quot;)
</pre>
<p>
&#8230;or:
</p>
<pre>
  url_for(:action_prefix =&gt; &quot;category/messages&quot;)
</pre>
<p>
Neither would have worked in isolation before (:controller_prefix required
a :controller and :action_prefix required an :action)
</p>
</li>
<li>Started process of a cleaner separation between Action Controller and
ERb-based Action Views by introducing an abstract base class for views. And
Amita adapter could be fitted in more easily now.

</li>
<li>The date helper methods date_select and datetime_select now also use the
field error wrapping (div with class fieldWithErrors by default).

</li>
<li>The date helper methods date_select and datetime_select can now discard
selects

</li>
<li>Added option on AbstractTemplate to specify a different field error
wrapping. Example:

<pre>
  ActionView::AbstractTemplate.field_error_proc = Proc.new do |html, instance|
    &quot;&lt;p&gt;#{instance.method_name + instance.error_message}&lt;/p&gt;&lt;div style='background-color: red'&gt;#{html}&lt;/div&gt;&quot;
  end
</pre>
<p>
&#8230;would give the following on a Post#title (text field) error:
</p>
<pre>
  &lt;p&gt;Title can't be empty&lt;/p&gt;
  &lt;div style='background-color: red'&gt;
    &lt;input id=&quot;post_title&quot; name=&quot;post[title]&quot; size=&quot;30&quot; type=&quot;text&quot; value=&quot;Hello World&quot; /&gt;
  &lt;/div&gt;
</pre>
</li>
<li>The UrlHelper methods url_for and link_to will now by default only return
paths, not complete URIs. That should make it easier to fit a <a
href="../../../../classes/Rails.html">Rails</a> application behind a proxy
or load-balancer. You can overwrite this by passing :only_path =&gt; false
as part of the options. [Suggested by U235]

</li>
<li>Fixed bug with having your own layout for use with scaffolding [Kevin
Radloff]

</li>
<li>Fixed bug where redirect_to_path didn&#8216;t append the port on
non-standard ports [dhawkins]

</li>
<li>Scaffolding plays nicely with single-table inheritance (LoadErrors are
caught) [Jeremy Kemper]

</li>
<li>Scaffolding plays nice with plural models like Category/categories [Jeremy
Kemper]

</li>
<li>Fixed missing suffix appending in scaffolding [Kevin Radloff]

</li>
</ul>
<p>
*0.7.9*
</p>
<ul>
<li>The &quot;form&quot; method now present boolean fields from PostgreSQL as
drop-down menu. [Scott]

</li>
<li>Scaffolding now automatically attempts to require the class that&#8216;s
being scaffolded.

</li>
<li>Scaffolding will use the current active layout, instead of its own, if one
has been specified. Example:

<pre>
  class WeblogController &lt; ActionController::Base
    layout &quot;layouts/weblog&quot;
    scaffold :post
  end
</pre>
<p>
[Suggested by Scott]
</p>
</li>
<li>Changed url_for (and all the that drives, like redirect_to, link_to,
link_for) so you can pass it a symbol instead of a hash. This symbol is a
method reference which is then called to calculate the url. Example:

<pre>
  class WeblogController &lt; ActionController::Base
    def update
      # do some update
      redirect_to :dashboard_url
    end

    protected
      def dashboard_url
        if @project.active?
          url_for :controller =&gt; &quot;project&quot;, :action =&gt; &quot;dashboard&quot;
        else
          url_for :controller =&gt; &quot;account&quot;, :action =&gt; &quot;dashboard&quot;
        end
      end
  end
</pre>
</li>
<li>Added default_url_options to specialize behavior for all url_for (and
friends) calls:

<pre>
  Overwrite to implement a number of default options that all url_for-based methods will use.
  The default options should come in form of a hash, just like the one you would use for
  url_for directly. Example:

    def default_url_options(options)
      { :controller_prefix =&gt; @project.active? ? &quot;projects/&quot; : &quot;accounts/&quot; }
    end

  As you can infer from the example, this is mostly useful for situations where you want to
  centralize dynamic dissions about the urls as they stem from the business domain. Please note
  that any individual url_for call can always override the defaults set by this method.
</pre>
</li>
<li>Changed url_for so that an &quot;id&quot; passed in the :params is not
treated special. You need to use the dedicated :id to get the special auto
path-params treatment. Considering the url <a
href="http://localhost:81/friends/list">localhost:81/friends/list</a>

<pre>
  url_for(:action =&gt; &quot;show&quot;, :params =&gt; { &quot;id&quot; =&gt; 5 })
    ...used to give http://localhost:81/friends/show/5
    ......now gives http://localhost:81/friends/show?id=5

  If you want the automated id behavior, do:

  url_for(:action =&gt; &quot;show&quot;, :id =&gt; 5 )
    ....which gives http://localhost:81/friends/show/5
</pre>
</li>
<li>Fixed problem with anchor being inserted before path parameters with
url_for (and friends)

</li>
</ul>
<p>
*0.7.8*
</p>
<ul>
<li>Fixed session bug where you couldn&#8216;t store any objects that
didn&#8216;t exist in the standard library (such as Active Record objects).

</li>
<li>Added reset_session method for Action Controller objects to clear out all
objects in the session.

</li>
<li>Fixed that exceptions raised during filters are now also caught by the
default rescues

</li>
<li>Added new around_filter for doing before and after filtering with a single
object [Florian Weber]:

<pre>
  class WeblogController &lt; ActionController::Base
    around_filter BenchmarkingFilter.new

    # Before this action is performed, BenchmarkingFilter#before(controller) is executed
    def index
    end
    # After this action has been performed, BenchmarkingFilter#after(controller) is executed
  end

  class BenchmarkingFilter
    def initialize
      @runtime
    end

    def before
      start_timer
    end

    def after
      stop_timer
      report_result
    end
  end
</pre>
</li>
<li>Added the options for specifying a different name and id for the form
helper methods than what is guessed [Florian Weber]:

<pre>
  text_field &quot;post&quot;, &quot;title&quot;
    ...just gives: &lt;input id=&quot;post_title&quot; name=&quot;post[title]&quot; size=&quot;30&quot; type=&quot;text&quot; value=&quot;&quot; /&gt;

  text_field &quot;post&quot;, &quot;title&quot;, &quot;id&quot; =&gt; &quot;title_for_post&quot;, &quot;name&quot; =&gt; &quot;first_post_title&quot;
    ...can now give: &lt;input id=&quot;title_for_post&quot; name=&quot;first_post_title&quot; size=&quot;30&quot; type=&quot;text&quot; value=&quot;&quot; /&gt;
</pre>
</li>
<li>Added DebugHelper with a single &quot;debug&quot; method for doing pretty
dumps of objects in the view (now used in the default rescues to better
present the contents of session and template variables)

</li>
<li>Added note to log about the templates rendered within layouts (before just
the layout was shown)

</li>
<li>Fixed redirects on https setups [Andreas]

</li>
<li>Fixed scaffolding problem on the edit action when using :suffix =&gt; true
[Scott]

</li>
<li>Fixed scaffolding problem where implementing list.rhtml wouldn&#8216;t work
for the index action

</li>
<li>URLs generated now uses &amp;amp; instead of just &amp; so pages using it
can validate with W3C [Spotted by Andreas]

</li>
</ul>
<p>
*0.7.7*
</p>
<ul>
<li>Fixed bug in CGI extension that prevented multipart forms from working

</li>
</ul>
<p>
*0.7.6*
</p>
<ul>
<li>Included <a href="../../../../classes/ERB/Util.html">ERB::Util</a> so all
templates can easily escape HTML content with &lt;%=h @person.content %&gt;

</li>
<li>All requests are now considered local by default, so everyone will be
exposed to detailed debugging screens on errors. When the application is
ready to go public, set ActionController::Base.consider_all_requests_local
to false, and implement the protected method local_request? in the
controller to determine when debugging screens should be shown.

</li>
<li>Fixed three bugs with the url_for/redirect_to/link_to handling. Considering
the url <a
href="http://localhost:81/friends/show/1">localhost:81/friends/show/1</a>

<pre>
  url_for(:action =&gt; &quot;list&quot;)
    ...used to give http://localhost:81/friends/list/1
    ......now gives http://localhost:81/friends/list

  url_for(:controller =&gt; &quot;friends&quot;, :action =&gt; &quot;destroy&quot;, :id =&gt; 5)
    ...used to give http://localhost:81/friends/destroy
    ......now gives http://localhost:81/friends/destroy/5
</pre>
<p>
Considering the url <a
href="http://localhost:81/teachers/show/t">localhost:81/teachers/show/t</a>
</p>
<pre>
  url_for(:action =&gt; &quot;list&quot;, :id =&gt; 5)
    ...used to give http://localhost:81/5eachers/list/t
    ......now gives http://localhost:81/teachers/list/5
</pre>
<p>
[Reported by David Morton &amp; Radsaq]
</p>
</li>
<li>Logs exception to logfile in addition to showing them for local requests

</li>
<li>Protects the eruby load behind a begin/rescue block. eRuby is not required
to run ActionController.

</li>
<li>Fixed install.rb to also install clean_logger and the templates

</li>
<li>Added ActiveRecordStore as a session option. Read more in
lib/action_controller/session/active_record_store.rb [Tim Bates]

</li>
<li>Change license to MIT License (and included license file in package)

</li>
<li>Application error page now returns status code 500 instead of 200

</li>
<li>Fixed using Procs as layout handlers [Florian Weber]

</li>
<li>Fixed bug with using redirects ports other than 80

</li>
<li>Added index method that calls list on scaffolding

</li>
</ul>
<p>
*0.7.5*
</p>
<ul>
<li>First public release

</li>
</ul>

    </div>


   </div>


  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>